var DeepFramework=function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=239)}([function(e,t,r){"use strict";(function(e){function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=Buffer.prototype):(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r);e=createBuffer(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=Buffer.prototype):e=fromArrayLike(e,t),e}function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return e=createBuffer(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,r/=2}var c;if(i){var u=-1;for(c=r;c<a;c++)if(read(e,c)===read(t,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===s)return u*o}else-1!==u&&(c-=c-u),u=-1}else for(r+s>a&&(r=a-s),c=r;c>=0;c--){for(var l=!0,f=0;f<s;f++)if(read(e,c+f)!==read(t,f)){l=!1;break}if(l)return c}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var c,u,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:c=e[i+1],128==(192&c)&&(f=(31&o)<<6|63&c)>127&&(a=f);break;case 3:c=e[i+1],u=e[i+2],128==(192&c)&&128==(192&u)&&(f=(15&o)<<12|(63&c)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],128==(192&c)&&128==(192&u)&&128==(192&l)&&(f=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=a)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=a));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,o){return o||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,o){return o||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=stringtrim(e).replace(s,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function base64ToBytes(e){return n.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isnan(e){return e!==e}var n=r(304),i=r(480),o=r(182);t.Buffer=Buffer,t.SlowBuffer=SlowBuffer,t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!(null==e||!e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r),l=0;l<s;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=Buffer.prototype;else{var i=t-e;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g}).call(t,r(4))},function(e,t,r){var n={util:r(5)};({}).toString(),e.exports=n,n.util.update(n,{VERSION:"2.42.0",Signers:{},Protocol:{Json:r(82),Query:r(139),Rest:r(60),RestJson:r(140),RestXml:r(141)},XML:{Builder:r(301),Parser:null},JSON:{Builder:r(80),Parser:r(81)},Model:{Api:r(134),Operation:r(136),Shape:r(43),Paginator:r(137),ResourceWaiter:r(138)},util:r(5),apiLoader:function(){throw new Error("No API loader set")}}),r(32),r(274),r(131),r(132),r(277),r(278),r(275),r(276),r(133),r(142),r(279),r(285),r(287),r(286),r(293),r(281),n.events=new n.SequentialExecutor},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";(function(t){var n=r(90),i=r(348),o=r(164),a=r(89),s=r(65),c=r(340),u=r(353),l=r(355),f=r(354),h=r(352),d=r(14),p=r(165),y=r(35),m=r(349),g=r(350),v=r(167),b=r(166);e.exports={IS_DEV_SERVER:t.__DEEP_DEV_SERVER||!1,Exception:{Exception:d.Exception,InvalidArgumentException:y.InvalidArgumentException,MethodsNotImplementedException:p.MethodsNotImplementedException,DatabaseOperationException:m.DatabaseOperationException,ResourceNotFoundException:g.ResourceNotFoundException},HTTP:{Helper:b.Helper},Runtime:{Sandbox:v.Sandbox},OOP:{Interface:n.Interface},Generic:{ObjectStorage:u.ObjectStorage,ObjectVector:f.ObjectVector,MethodsProxy:h.MethodsProxy,UniversalRequire:l.UniversalRequire},AWS:{Region:o.Region,Service:a.Service,IAM:{Factory:c.Factory,Policy:s.Policy},Lambda:{Runtime:i.Runtime}}}}).call(t,r(4))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(t){var n,i={engine:function(){if(i.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var e=t.platform+"/"+t.version;return r.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).AWS_EXECUTION_ENV&&(e+=" exec-env/"+r.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).AWS_EXECUTION_ENV),e},userAgent:function(){var e=i.isBrowser()?"js":"nodejs",t="aws-sdk-"+e+"/"+r(1).VERSION;return"nodejs"===e&&(t+=" "+i.engine()),t},isBrowser:function(){return t&&t.browser},isNode:function(){return!i.isBrowser()},uriEscape:function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var t=[];return i.arrayEach(e.split("/"),function(e){t.push(i.uriEscape(e))}),t.join("/")},urlParse:function(e){return i.url.parse(e)},urlFormat:function(e){return i.url.format(e)},queryStringParse:function(e){return i.querystring.parse(e)},queryParamsToString:function(e){var t=[],r=i.uriEscape,n=Object.keys(e).sort();return i.arrayEach(n,function(n){var o=e[n],a=r(n),s=a+"=";if(Array.isArray(o)){var c=[];i.arrayEach(o,function(e){c.push(r(e))}),s=a+"="+c.sort().join("&"+a+"=")}else void 0!==o&&null!==o&&(s=a+"="+r(o));t.push(s)}),t.join("&")},readFileSync:function(e){return i.isBrowser()?null:r(125).readFileSync(e,"utf-8")},base64:{encode:function(e){if("number"==typeof e)throw i.error(new Error("Cannot base64 encode number "+e));return null===e||void 0===e?e:("function"==typeof i.Buffer.from&&i.Buffer.from!==Uint8Array.from?i.Buffer.from(e):new i.Buffer(e)).toString("base64")},decode:function(e){if("number"==typeof e)throw i.error(new Error("Cannot base64 decode number "+e));return null===e||void 0===e?e:"function"==typeof i.Buffer.from&&i.Buffer.from!==Uint8Array.from?i.Buffer.from(e,"base64"):new i.Buffer(e,"base64")}},buffer:{toStream:function(e){i.Buffer.isBuffer(e)||(e=new i.Buffer(e));var t=new i.stream.Readable,r=0;return t._read=function(n){if(r>=e.length)return t.push(null);var i=r+n;i>e.length&&(i=e.length),t.push(e.slice(r,i)),r=i},t},concat:function(e){var t,r=0,n=0,o=null;for(t=0;t<e.length;t++)r+=e[t].length;for(o=new i.Buffer(r),t=0;t<e.length;t++)e[t].copy(o,n),n+=e[t].length;return o}},string:{byteLength:function(e){if(null===e||void 0===e)return 0;if("string"==typeof e&&(e=new i.Buffer(e)),"number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)return r(125).lstatSync(e.path).size;throw i.error(new Error("Cannot determine length of "+e),{object:e})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var t,r={};return i.arrayEach(e.split(/\r?\n/),function(e){e=e.split(/(^|\s)[;#]/)[0];var n=e.match(/^\s*\[([^\[\]]+)\]\s*$/);if(n)t=n[1];else if(t){var i=e.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(r[t]=r[t]||{},r[t][i[1]]=i[2])}}),r}},fn:{noop:function(){},makeAsync:function(e,t){return t&&t<=e.length?e:function(){var t=Array.prototype.slice.call(arguments,0);t.pop()(e.apply(null,t))}}},date:{getDate:function(){return n||(n=r(1)),n.config.systemClockOffset?new Date((new Date).getTime()+n.config.systemClockOffset):new Date},iso8601:function(e){return void 0===e&&(e=i.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return void 0===e&&(e=i.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return void 0===e&&(e=i.date.getDate()),e.getTime()/1e3},from:function(e){return"number"==typeof e?new Date(1e3*e):new Date(e)},format:function(e,t){return t||(t="iso8601"),i.date[t](i.date.from(e))},parseTimestamp:function(e){if("number"==typeof e)return new Date(1e3*e);if(e.match(/^\d+$/))return new Date(1e3*e);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw i.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var t=i.crypto.crc32Table,r=-1;"string"==typeof e&&(e=new i.Buffer(e));for(var n=0;n<e.length;n++){r=r>>>8^t[255&(r^e.readUInt8(n))]}return(-1^r)>>>0},hmac:function(e,t,r,n){return r||(r="binary"),"buffer"===r&&(r=void 0),n||(n="sha256"),"string"==typeof t&&(t=new i.Buffer(t)),i.crypto.lib.createHmac(n,e).update(t).digest(r)},md5:function(e,t,r){return i.crypto.hash("md5",e,t,r)},sha256:function(e,t,r){return i.crypto.hash("sha256",e,t,r)},hash:function(e,t,r,n){var o=i.crypto.createHash(e);r||(r="binary"),"buffer"===r&&(r=void 0),"string"==typeof t&&(t=new i.Buffer(t));var a=i.arraySliceFn(t),s=i.Buffer.isBuffer(t);if(i.isBrowser()&&"undefined"!=typeof ArrayBuffer&&t&&t.buffer instanceof ArrayBuffer&&(s=!0),n&&"object"==typeof t&&"function"==typeof t.on&&!s)t.on("data",function(e){o.update(e)}),t.on("error",function(e){n(e)}),t.on("end",function(){n(null,o.digest(r))});else{if(!n||!a||s||"undefined"==typeof FileReader){i.isBrowser()&&"object"==typeof t&&!s&&(t=new i.Buffer(new Uint8Array(t)));var c=o.update(t).digest(r);return n&&n(null,c),c}var u=0,l=new FileReader;l.onerror=function(){n(new Error("Failed to read data."))},l.onload=function(){var e=new i.Buffer(new Uint8Array(l.result));o.update(e),u+=e.length,l._continueReading()},l._continueReading=function(){if(u>=t.size)return void n(null,o.digest(r));var e=u+524288;e>t.size&&(e=t.size),l.readAsArrayBuffer(a.call(t,u,e))},l._continueReading()}},toHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push(("0"+e.charCodeAt(r).toString(16)).substr(-2,2));return t.join("")},createHash:function(e){return i.crypto.lib.createHash(e)}},abort:{},each:function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=t.call(this,r,e[r]);if(n===i.abort)break}},arrayEach:function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=t.call(this,e[r],parseInt(r,10));if(n===i.abort)break}},update:function(e,t){return i.each(t,function(t,r){e[t]=r}),e},merge:function(e,t){return i.update(i.copy(e),t)},copy:function(e){if(null===e||void 0===e)return e;var t={};for(var r in e)t[r]=e[r];return t},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},arraySliceFn:function(e){var t=e.slice||e.webkitSlice||e.mozSlice;return"function"==typeof t?t:null},isType:function(e,t){return"function"==typeof t&&(t=i.typeName(t)),Object.prototype.toString.call(e)==="[object "+t+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var t=e.toString(),r=t.match(/^\s*function (.+)\(/);return r?r[1]:t},error:function(e,t){var r=null;return"string"==typeof e.message&&""!==e.message&&("string"==typeof t||t&&t.message)&&(r=i.copy(e),r.message=e.message),e.message=e.message||null,"string"==typeof t?e.message=t:"object"==typeof t&&null!==t&&(i.update(e,t),t.message&&(e.message=t.message),(t.code||t.name)&&(e.code=t.code||t.name),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=t&&t.name||e.name||e.code||"Error",e.time=new Date,r&&(e.originalError=r),e},inherit:function(e,t){var r=null;if(void 0===t)t=e,e=Object,r={};else{var n=function(){};n.prototype=e.prototype,r=new n}return t.constructor===Object&&(t.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),t.constructor.prototype=r,i.update(t.constructor.prototype,t),t.constructor.__super__=e,t.constructor},mixin:function(){for(var e=arguments[0],t=1;t<arguments.length;t++)for(var r in arguments[t].prototype){var n=arguments[t].prototype[r];"constructor"!==r&&(e.prototype[r]=n)}return e},hideProperties:function(e,t){"function"==typeof Object.defineProperty&&i.arrayEach(t,function(t){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0})})},property:function(e,t,r,n,i){var o={configurable:!0,enumerable:void 0===n||n};"function"!=typeof r||i?(o.value=r,o.writable=!0):o.get=r,Object.defineProperty(e,t,o)},memoizedProperty:function(e,t,r,n){var o=null;i.property(e,t,function(){return null===o&&(o=r()),o},n)},hoistPayloadMember:function(e){var t=e.request,r=t.operation,n=t.service.api.operations[r].output;if(n.payload){var o=n.members[n.payload],a=e.data[n.payload];"structure"===o.type&&i.each(a,function(t,r){i.property(e.data,t,r,!1)})}},computeSha256:function(e,t){if(i.isNode()){var n=i.stream.Stream,o=r(125);if(e instanceof n){if("string"!=typeof e.path)return t(new Error("Non-file stream objects are not supported with SigV4"));var a={};"number"==typeof e.start&&(a.start=e.start),"number"==typeof e.end&&(a.end=e.end),e=o.createReadStream(e.path,a)}}i.crypto.sha256(e,"hex",function(e,r){e?t(e):t(null,r)})},isClockSkewed:function(e){if(e)return i.property(n.config,"isClockSkewed",Math.abs((new Date).getTime()-e)>=3e5,!1),n.config.isClockSkewed},applyClockOffset:function(e){e&&(n.config.systemClockOffset=e-(new Date).getTime())},extractRequestId:function(e){var t=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!t&&e.data&&e.data.ResponseMetadata&&(t=e.data.ResponseMetadata.RequestId),t&&(e.requestId=t),e.error&&(e.error.requestId=t)},addPromises:function(e,t){if(void 0===t&&n&&n.config&&(t=n.config.getPromisesDependency()),void 0===t&&"undefined"!=typeof Promise&&(t=Promise),"function"!=typeof t)var r=!0;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];r?o.deletePromisesFromClass&&o.deletePromisesFromClass():o.addPromisesToClass&&o.addPromisesToClass(t)}},promisifyMethod:function(e,t){return function(){var r=this;return new t(function(t,n){r[e](function(e,r){e?n(e):t(r)})})}},isDualstackAvailable:function(e){if(!e)return!1;var t=r(266);return"string"!=typeof e&&(e=e.serviceIdentifier),!("string"!=typeof e||!t.hasOwnProperty(e))&&!!t[e].dualstackAvailable},calculateRetryDelay:function(e,t){t||(t={});var r=t.customBackoff||null;if("function"==typeof r)return r(e);var n="number"==typeof t.base?t.base:100;return Math.random()*(Math.pow(2,e)*n)},handleRequestWithRetries:function(e,r,o){r||(r={});var a=n.HttpClient.getInstance(),s=r.httpOptions||{},c=0,u=function(e){var t=r.maxRetries||0;if(e&&"TimeoutError"===e.code&&(e.retryable=!0),e&&e.retryable&&c<t){c++;var n=i.calculateRetryDelay(c,r.retryDelayOptions);setTimeout(l,n+(e.retryAfter||0))}else o(e)},l=function(){var t="";a.handleRequest(e,s,function(e){e.on("data",function(e){t+=e.toString()}),e.on("end",function(){var r=e.statusCode;if(r<300)o(null,t);else{var n=1e3*parseInt(e.headers["retry-after"],10)||0,a=i.error(new Error,{retryable:r>=500||429===r});n&&a.retryable&&(a.retryAfter=n),u(a)}})},u)};t.nextTick(l)},uuid:{v4:function(){return r(646).v4()}},convertPayloadToString:function(e){var t=e.request,r=t.operation,n=t.service.api.operations[r].output||{};n.payload&&e.data[n.payload]&&(e.data[n.payload]=e.data[n.payload].toString())}};e.exports=i}).call(t,r(7))},function(e,t,r){(function(e){!function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function BN(e,t,r){if(BN.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}function parseHex(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function parseBase(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function toBitArray(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}function smallMulTo(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;i=0|e.words[p],o=0|t.words[d],a=i*o+f,l+=a/67108864|0,f=67108863&a}r.words[u]=0|f,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}function bigMulTo(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=0|e.words[l],h=0|t.words[u],d=f*h,p=67108863&d;a=a+(d/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,i+=a>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}function jumboMulTo(e,t,r){return(new FFTM).mulp(e,t,r)}function FFTM(e,t){this.x=e,this.y=t}function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=BN:t.BN=BN,BN.BN=BN,BN.wordSize=26;var n;try{n=r(0).Buffer}catch(e){}BN.isBN=function(e){return e instanceof BN||null!==e&&"object"==typeof e&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)},BN.max=function(e,t){return e.cmp(t)>0?e:t},BN.min=function(e,t){return e.cmp(t)<0?e:t},BN.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),assert(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var n=0;"-"===e[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initArray=function(e,t,r){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o,a=0;if("be"===r)for(n=e.length-1,i=0;n>=0;n-=3)o=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(n=0,i=0;n<e.length;n+=3)o=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this.strip()},BN.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=parseHex(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=parseHex(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},BN.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,u=r;u<s;u+=n)c=parseBase(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var l=1;for(c=parseBase(e,u,e.length,t),u=0;u<a;u++)l*=t;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},BN.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},BN.prototype.clone=function(){var e=new BN(null);return this.copy(e),e},BN.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var i=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],a=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(e,t){e=e||10,t=0|t||1;var r;if(16===e||"hex"===e){r="";for(var n=0,s=0,c=0;c<this.length;c++){var u=this.words[c],l=(16777215&(u<<n|s)).toString(16);s=u>>>24-n&16777215,r=0!==s||c!==this.length-1?i[6-l.length]+l+r:l+r,n+=2,n>=26&&(n-=26,c--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var f=o[e],h=a[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var p=d.modn(h).toString(e);d=d.idivn(h),r=d.isZero()?p+r:i[f-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(e,t){return assert(void 0!==n),this.toArrayLike(n,e,t)},BN.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},BN.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),i=r||Math.max(1,n);assert(n<=i,"byte array longer than desired length"),assert(i>0,"Requested array length <= 0"),this.strip();var o,a,s="le"===t,c=new e(i),u=this.clone();if(s){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),c[a]=o;for(;a<i;a++)c[a]=0}else{for(a=0;a<i-n;a++)c[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),c[i-a-1]=o}return c},Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},BN.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},BN.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},BN.prototype.ior=function(e){return assert(0==(this.negative|e.negative)),this.iuor(e)},BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},BN.prototype.iand=function(e){return assert(0==(this.negative|e.negative)),this.iuand(e)},BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},BN.prototype.ixor=function(e){return assert(0==(this.negative|e.negative)),this.iuxor(e)},BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.inotn=function(e){assert("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},BN.prototype.notn=function(e){return this.clone().inotn(e)},BN.prototype.setn=function(e,t){assert("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},BN.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var r,n;this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},BN.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var n,i;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)t=(0|n.words[a])-(0|i.words[a])+o,o=t>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)t=(0|n.words[a])+o,o=t>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(e){return this.clone().isub(e)};var s=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],g=8191&m,v=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,k=E>>>13,C=0|a[5],x=8191&C,P=C>>>13,R=0|a[6],O=8191&R,A=R>>>13,M=0|a[7],I=8191&M,T=M>>>13,D=0|a[8],j=8191&D,N=D>>>13,L=0|a[9],B=8191&L,F=L>>>13,q=0|s[0],U=8191&q,H=q>>>13,V=0|s[1],W=8191&V,z=V>>>13,K=0|s[2],Y=8191&K,X=K>>>13,G=0|s[3],J=8191&G,$=G>>>13,Q=0|s[4],Z=8191&Q,ee=Q>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19,n=Math.imul(f,U),i=Math.imul(f,H),i=i+Math.imul(h,U)|0,o=Math.imul(h,H);var me=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=Math.imul(p,H),i=i+Math.imul(y,U)|0,o=Math.imul(y,H),n=n+Math.imul(f,W)|0,i=i+Math.imul(f,z)|0,i=i+Math.imul(h,W)|0,o=o+Math.imul(h,z)|0;var ge=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,U),i=Math.imul(g,H),i=i+Math.imul(v,U)|0,o=Math.imul(v,H),n=n+Math.imul(p,W)|0,i=i+Math.imul(p,z)|0,i=i+Math.imul(y,W)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(f,Y)|0,i=i+Math.imul(f,X)|0,i=i+Math.imul(h,Y)|0,o=o+Math.imul(h,X)|0;var ve=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(_,U),i=Math.imul(_,H),i=i+Math.imul(w,U)|0,o=Math.imul(w,H),n=n+Math.imul(g,W)|0,i=i+Math.imul(g,z)|0,i=i+Math.imul(v,W)|0,o=o+Math.imul(v,z)|0,n=n+Math.imul(p,Y)|0,i=i+Math.imul(p,X)|0,i=i+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(f,J)|0,i=i+Math.imul(f,$)|0,i=i+Math.imul(h,J)|0,o=o+Math.imul(h,$)|0;var be=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(S,U),i=Math.imul(S,H),i=i+Math.imul(k,U)|0,o=Math.imul(k,H),n=n+Math.imul(_,W)|0,i=i+Math.imul(_,z)|0,i=i+Math.imul(w,W)|0,o=o+Math.imul(w,z)|0,n=n+Math.imul(g,Y)|0,i=i+Math.imul(g,X)|0,i=i+Math.imul(v,Y)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,J)|0,i=i+Math.imul(p,$)|0,i=i+Math.imul(y,J)|0,o=o+Math.imul(y,$)|0,n=n+Math.imul(f,Z)|0,i=i+Math.imul(f,ee)|0,i=i+Math.imul(h,Z)|0,o=o+Math.imul(h,ee)|0;var _e=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(x,U),i=Math.imul(x,H),i=i+Math.imul(P,U)|0,o=Math.imul(P,H),n=n+Math.imul(S,W)|0,i=i+Math.imul(S,z)|0,i=i+Math.imul(k,W)|0,o=o+Math.imul(k,z)|0,n=n+Math.imul(_,Y)|0,i=i+Math.imul(_,X)|0,i=i+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,J)|0,i=i+Math.imul(g,$)|0,i=i+Math.imul(v,J)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,Z)|0,i=i+Math.imul(p,ee)|0,i=i+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(f,re)|0,i=i+Math.imul(f,ne)|0,i=i+Math.imul(h,re)|0,o=o+Math.imul(h,ne)|0;var we=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),i=Math.imul(O,H),i=i+Math.imul(A,U)|0,o=Math.imul(A,H),n=n+Math.imul(x,W)|0,i=i+Math.imul(x,z)|0,i=i+Math.imul(P,W)|0,o=o+Math.imul(P,z)|0,n=n+Math.imul(S,Y)|0,i=i+Math.imul(S,X)|0,i=i+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(_,J)|0,i=i+Math.imul(_,$)|0,i=i+Math.imul(w,J)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,Z)|0,i=i+Math.imul(g,ee)|0,i=i+Math.imul(v,Z)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=i+Math.imul(p,ne)|0,i=i+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(f,oe)|0,i=i+Math.imul(f,ae)|0,i=i+Math.imul(h,oe)|0,o=o+Math.imul(h,ae)|0;var Ee=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,U),i=Math.imul(I,H),i=i+Math.imul(T,U)|0,o=Math.imul(T,H),n=n+Math.imul(O,W)|0,i=i+Math.imul(O,z)|0,i=i+Math.imul(A,W)|0,o=o+Math.imul(A,z)|0,n=n+Math.imul(x,Y)|0,i=i+Math.imul(x,X)|0,i=i+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(S,J)|0,i=i+Math.imul(S,$)|0,i=i+Math.imul(k,J)|0,o=o+Math.imul(k,$)|0,n=n+Math.imul(_,Z)|0,i=i+Math.imul(_,ee)|0,i=i+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=i+Math.imul(g,ne)|0,i=i+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=i+Math.imul(p,ae)|0,i=i+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(f,ce)|0,i=i+Math.imul(f,ue)|0,i=i+Math.imul(h,ce)|0,o=o+Math.imul(h,ue)|0;var Se=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,U),i=Math.imul(j,H),i=i+Math.imul(N,U)|0,o=Math.imul(N,H),n=n+Math.imul(I,W)|0,i=i+Math.imul(I,z)|0,i=i+Math.imul(T,W)|0,o=o+Math.imul(T,z)|0,n=n+Math.imul(O,Y)|0,i=i+Math.imul(O,X)|0,i=i+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(x,J)|0,i=i+Math.imul(x,$)|0,i=i+Math.imul(P,J)|0,o=o+Math.imul(P,$)|0,n=n+Math.imul(S,Z)|0,i=i+Math.imul(S,ee)|0,i=i+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(_,re)|0,i=i+Math.imul(_,ne)|0,i=i+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=i+Math.imul(g,ae)|0,i=i+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0,n=n+Math.imul(p,ce)|0,i=i+Math.imul(p,ue)|0,i=i+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(f,fe)|0,i=i+Math.imul(f,he)|0,i=i+Math.imul(h,fe)|0,o=o+Math.imul(h,he)|0;var ke=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,U),i=Math.imul(B,H),i=i+Math.imul(F,U)|0,o=Math.imul(F,H),n=n+Math.imul(j,W)|0,i=i+Math.imul(j,z)|0,i=i+Math.imul(N,W)|0,o=o+Math.imul(N,z)|0,n=n+Math.imul(I,Y)|0,i=i+Math.imul(I,X)|0,i=i+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(O,J)|0,i=i+Math.imul(O,$)|0,i=i+Math.imul(A,J)|0,o=o+Math.imul(A,$)|0,n=n+Math.imul(x,Z)|0,i=i+Math.imul(x,ee)|0,i=i+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,i=i+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(_,oe)|0,i=i+Math.imul(_,ae)|0,i=i+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=i+Math.imul(g,ue)|0,i=i+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,fe)|0,i=i+Math.imul(p,he)|0,i=i+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0,n=n+Math.imul(f,pe)|0,i=i+Math.imul(f,ye)|0,i=i+Math.imul(h,pe)|0,o=o+Math.imul(h,ye)|0;var Ce=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(B,W),i=Math.imul(B,z),i=i+Math.imul(F,W)|0,o=Math.imul(F,z),n=n+Math.imul(j,Y)|0,i=i+Math.imul(j,X)|0,i=i+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(I,J)|0,i=i+Math.imul(I,$)|0,i=i+Math.imul(T,J)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(O,Z)|0,i=i+Math.imul(O,ee)|0,i=i+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(x,re)|0,i=i+Math.imul(x,ne)|0,i=i+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(S,oe)|0,i=i+Math.imul(S,ae)|0,i=i+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(_,ce)|0,i=i+Math.imul(_,ue)|0,i=i+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,fe)|0,i=i+Math.imul(g,he)|0,i=i+Math.imul(v,fe)|0,o=o+Math.imul(v,he)|0,n=n+Math.imul(p,pe)|0,i=i+Math.imul(p,ye)|0,i=i+Math.imul(y,pe)|0,o=o+Math.imul(y,ye)|0;var xe=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,Y),i=Math.imul(B,X),i=i+Math.imul(F,Y)|0,o=Math.imul(F,X),n=n+Math.imul(j,J)|0,i=i+Math.imul(j,$)|0,i=i+Math.imul(N,J)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(I,Z)|0,i=i+Math.imul(I,ee)|0,i=i+Math.imul(T,Z)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(O,re)|0,i=i+Math.imul(O,ne)|0,i=i+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(x,oe)|0,i=i+Math.imul(x,ae)|0,i=i+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,i=i+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(_,fe)|0,i=i+Math.imul(_,he)|0,i=i+Math.imul(w,fe)|0,o=o+Math.imul(w,he)|0,n=n+Math.imul(g,pe)|0,i=i+Math.imul(g,ye)|0,i=i+Math.imul(v,pe)|0,o=o+Math.imul(v,ye)|0;var Pe=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(B,J),i=Math.imul(B,$),i=i+Math.imul(F,J)|0,o=Math.imul(F,$),n=n+Math.imul(j,Z)|0,i=i+Math.imul(j,ee)|0,i=i+Math.imul(N,Z)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=i+Math.imul(I,ne)|0,i=i+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(O,oe)|0,i=i+Math.imul(O,ae)|0,i=i+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(x,ce)|0,i=i+Math.imul(x,ue)|0,i=i+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(S,fe)|0,i=i+Math.imul(S,he)|0,i=i+Math.imul(k,fe)|0,o=o+Math.imul(k,he)|0,n=n+Math.imul(_,pe)|0,i=i+Math.imul(_,ye)|0,i=i+Math.imul(w,pe)|0,o=o+Math.imul(w,ye)|0;var Re=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(B,Z),i=Math.imul(B,ee),i=i+Math.imul(F,Z)|0,o=Math.imul(F,ee),n=n+Math.imul(j,re)|0,i=i+Math.imul(j,ne)|0,i=i+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(I,oe)|0,i=i+Math.imul(I,ae)|0,i=i+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,n=n+Math.imul(O,ce)|0,i=i+Math.imul(O,ue)|0,i=i+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(x,fe)|0,i=i+Math.imul(x,he)|0,i=i+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0,n=n+Math.imul(S,pe)|0,i=i+Math.imul(S,ye)|0,i=i+Math.imul(k,pe)|0,o=o+Math.imul(k,ye)|0;var Oe=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(B,re),i=Math.imul(B,ne),i=i+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(j,oe)|0,i=i+Math.imul(j,ae)|0,i=i+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(I,ce)|0,i=i+Math.imul(I,ue)|0,i=i+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,n=n+Math.imul(O,fe)|0,i=i+Math.imul(O,he)|0,i=i+Math.imul(A,fe)|0,o=o+Math.imul(A,he)|0,n=n+Math.imul(x,pe)|0,i=i+Math.imul(x,ye)|0,i=i+Math.imul(P,pe)|0,o=o+Math.imul(P,ye)|0;var Ae=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,oe),i=Math.imul(B,ae),i=i+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(j,ce)|0,i=i+Math.imul(j,ue)|0,i=i+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul(I,fe)|0,i=i+Math.imul(I,he)|0,i=i+Math.imul(T,fe)|0,o=o+Math.imul(T,he)|0,n=n+Math.imul(O,pe)|0,i=i+Math.imul(O,ye)|0,i=i+Math.imul(A,pe)|0,o=o+Math.imul(A,ye)|0;var Me=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(B,ce),i=Math.imul(B,ue),i=i+Math.imul(F,ce)|0,o=Math.imul(F,ue),n=n+Math.imul(j,fe)|0,i=i+Math.imul(j,he)|0,i=i+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0,n=n+Math.imul(I,pe)|0,i=i+Math.imul(I,ye)|0,i=i+Math.imul(T,pe)|0,o=o+Math.imul(T,ye)|0;var Ie=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,fe),i=Math.imul(B,he),i=i+Math.imul(F,fe)|0,o=Math.imul(F,he),n=n+Math.imul(j,pe)|0,i=i+Math.imul(j,ye)|0,i=i+Math.imul(N,pe)|0,o=o+Math.imul(N,ye)|0;var Te=(u+n|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,pe),i=Math.imul(B,ye),i=i+Math.imul(F,pe)|0,o=Math.imul(F,ye);var De=(u+n|0)+((8191&i)<<13)|0;return u=(o+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=me,c[1]=ge,c[2]=ve,c[3]=be,c[4]=_e,c[5]=we,c[6]=Ee,c[7]=Se,c[8]=ke,c[9]=Ce,c[10]=xe,c[11]=Pe,c[12]=Re,c[13]=Oe,c[14]=Ae,c[15]=Me,c[16]=Ie,c[17]=Te,c[18]=De,0!==u&&(c[19]=u,r.length++),r};Math.imul||(s=smallMulTo),BN.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?s(this,e,t):r<63?smallMulTo(this,e,t):r<1024?bigMulTo(this,e,t):jumboMulTo(this,e,t)},FFTM.prototype.makeRBT=function(e){for(var t=new Array(e),r=BN.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},FFTM.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},FFTM.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},FFTM.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,h=u,d=0;d<a;d++){var p=r[l+d],y=n[l+d],m=r[l+d+a],g=n[l+d+a],v=f*m-h*g;g=f*g+h*m,m=v,r[l+d]=p+m,n[l+d]=y+g,r[l+d+a]=p-m,n[l+d+a]=y-g,d!==s&&(v=c*f-u*h,h=c*h+u*f,f=v)}},FFTM.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},FFTM.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},FFTM.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},FFTM.prototype.convert13b=function(e,t,r,n){for(var i=0,o=0;o<t;o++)i+=0|e[o],r[2*o]=8191&i,i>>>=13,r[2*o+1]=8191&i,i>>>=13;for(o=2*t;o<n;++o)r[o]=0;assert(0===i),assert(0==(-8192&i))},FFTM.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},FFTM.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,l,f,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-c[d]*f[d];c[d]=s[d]*f[d]+c[d]*l[d],s[d]=p}return this.conjugate(s,c,n),this.transform(s,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},BN.prototype.mul=function(e){var t=new BN(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.mulf=function(e){var t=new BN(null);return t.words=new Array(this.length+e.length),jumboMulTo(this,e,t)},BN.prototype.imul=function(e){return this.clone().mulTo(e,this)},BN.prototype.imuln=function(e){assert("number"==typeof e),assert(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,i=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},BN.prototype.muln=function(e){return this.clone().imuln(e)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(e){var t=toBitArray(e);if(0===t.length)return new BN(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},BN.prototype.iushln=function(e){assert("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&i,s=(0|this.words[t])-a<<r;this.words[t]=s|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},BN.prototype.ishln=function(e){return assert(0===this.negative),this.iushln(e)},BN.prototype.iushrn=function(e,t,r){assert("number"==typeof e&&e>=0);var n;n=t?(t-t%26)/26:0;var i=e%26,o=Math.min((e-i)/26,this.length),a=67108863^67108863>>>i<<i,s=r;if(n-=o,n=Math.max(0,n),s){for(var c=0;c<o;c++)s.words[c]=this.words[c];s.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=n);c--){var l=0|this.words[c];this.words[c]=u<<26-i|l>>>i,u=l&a}return s&&0!==u&&(s.words[s.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(e,t,r){return assert(0===this.negative),this.iushrn(e,t,r)},BN.prototype.shln=function(e){return this.clone().ishln(e)},BN.prototype.ushln=function(e){return this.clone().iushln(e)},BN.prototype.shrn=function(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function(e){return this.clone().iushrn(e)},BN.prototype.testn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},BN.prototype.imaskn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},BN.prototype.maskn=function(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function(e){return assert("number"==typeof e),assert(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},BN.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function(e){if(assert("number"==typeof e),assert(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},BN.prototype.addn=function(e){return this.clone().iaddn(e)},BN.prototype.subn=function(e){return this.clone().isubn(e)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(e,t,r){var n,i=e.length+r;this._expand(i);var o,a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var s=(0|e.words[n])*t;o-=67108863&s,a=(o>>26)-(s/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)o=(0|this.words[n+r])+a,a=o>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(assert(-1===a),a=0,n=0;n<this.length;n++)o=-(0|this.words[n])+a,a=o>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(e,t){var r=this.length-e.length,n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,s=n.length-i.length;if("mod"!==t){a=new BN(null),a.length=s+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var u=n.clone()._ishlnsubmul(i,1,s);0===u.negative&&(n=u,a&&(a.words[s]=1));for(var l=s-1;l>=0;l--){var f=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,l);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},BN.prototype.divmod=function(e,t,r){if(assert(!e.isZero()),this.isZero())return{div:new BN(0),mod:new BN(0)};var n,i,o;return 0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(n=o.div.neg()),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(n=o.div.neg()),{div:n,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:o.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}:this._wordDiv(e,t)},BN.prototype.div=function(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modn=function(e){assert(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},BN.prototype.idivn=function(e){assert(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},BN.prototype.divn=function(e){return this.clone().idivn(e)},BN.prototype.egcd=function(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new BN(1),i=new BN(0),o=new BN(0),a=new BN(1),s=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++s;for(var c=r.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||i.isOdd())&&(n.iadd(c),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(c),a.isub(u)),o.iushrn(1),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(o),i.isub(a)):(r.isub(t),o.isub(n),a.isub(i))}return{a:o,b:a,gcd:r.iushln(s)}},BN.prototype._invmp=function(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new BN(1),i=new BN(0),o=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var a=0,s=1;0==(t.words[0]&s)&&a<26;++a,s<<=1);if(a>0)for(t.iushrn(a);a-- >0;)n.isOdd()&&n.iadd(o),n.iushrn(1);for(var c=0,u=1;0==(r.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(r.iushrn(c);c-- >0;)i.isOdd()&&i.iadd(o),i.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(i)):(r.isub(t),i.isub(n))}var l;return l=0===t.cmpn(1)?n:i,l.cmpn(0)<0&&l.iadd(e),l},BN.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},BN.prototype.invm=function(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function(){return 0==(1&this.words[0])},BN.prototype.isOdd=function(){return 1==(1&this.words[0])},BN.prototype.andln=function(e){return this.words[0]&e},BN.prototype.bincn=function(e){assert("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var i=n,o=r;0!==i&&o<this.length;o++){var a=0|this.words[o];a+=i,i=a>>>26,a&=67108863,this.words[o]=a}return 0!==i&&(this.words[o]=i,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var r;if(this.length>1)r=1;else{t&&(e=-e),assert(e<=67108863,"Number is too big");var n=0|this.words[0];r=n===e?0:n<e?-1:1}return 0!==this.negative?0|-r:r},BN.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},BN.prototype.gtn=function(e){return 1===this.cmpn(e)},BN.prototype.gt=function(e){return 1===this.cmp(e)},BN.prototype.gten=function(e){return this.cmpn(e)>=0},BN.prototype.gte=function(e){return this.cmp(e)>=0},BN.prototype.ltn=function(e){return-1===this.cmpn(e)},BN.prototype.lt=function(e){return-1===this.cmp(e)},BN.prototype.lten=function(e){return this.cmpn(e)<=0},BN.prototype.lte=function(e){return this.cmp(e)<=0},BN.prototype.eqn=function(e){return 0===this.cmpn(e)},BN.prototype.eq=function(e){return 0===this.cmp(e)},BN.red=function(e){return new Red(e)},BN.prototype.toRed=function(e){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(e){return this.red=e,this},BN.prototype.forceRed=function(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var c={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var e=new BN(null);return e.words=new Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),t=r.bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(e,t){e.iushrn(this.n,0,t)},MPrime.prototype.imulK=function(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},K256.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function(e){if(c[e])return c[e];var t;if("k256"===e)t=new K256;else if("p224"===e)t=new P224;else if("p192"===e)t=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new P25519}return c[e]=t,t},Red.prototype._verify1=function(e){assert(0===e.negative,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function(e,t){assert(0==(e.negative|t.negative),"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},Red.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},Red.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},Red.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function(e){return this.imul(e,e.clone())},Red.prototype.sqr=function(e){return this.mul(e,e)},Red.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(assert(t%2==1),3===t){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);assert(!n.isZero());var o=new BN(1).toRed(this),a=o.redNeg(),s=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new BN(2*c*c).toRed(this);0!==this.pow(c,s).cmp(a);)c.redIAdd(a);for(var u=this.pow(c,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),h=i;0!==f.cmp(o);){for(var d=f,p=0;0!==d.cmp(o);p++)d=d.redSqr();assert(p<h);var y=this.pow(u,new BN(1).iushln(h-p-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),h=p}return l},Red.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function(e,t){if(t.isZero())return new BN(1);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new BN(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],u=s-1;u>=0;u--){var l=c>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4===++a||0===n&&0===u)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}s=26}return i},Red.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},BN.mont=function(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},Mont.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},Mont.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,r(29)(e))},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):c=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(o=a,a=[];++c<t;)o&&o[c].run();c=-1,t=a.length}o=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var r,n,i=e.exports={};!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var o,a=[],s=!1,c=-1;i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){(function(e,n){var i=r(27),o=r(57),a=r(20),s=r(479),c={};t.clone=function(r,n){if("object"!=typeof r||null===r)return r;n=n||{orig:[],copy:[]};var i=n.orig.indexOf(r);if(-1!==i)return n.copy[i];var o,a=!1;if(Array.isArray(r))o=[],a=!0;else if(e.isBuffer(r))o=new e(r);else if(r instanceof Date)o=new Date(r.getTime());else if(r instanceof RegExp)o=new RegExp(r);else{var s=Object.getPrototypeOf(r);s&&s.isImmutable?o=r:(o=Object.create(s),a=!0)}if(n.orig.push(r),n.copy.push(o),a)for(var c=Object.getOwnPropertyNames(r),u=0,l=c.length;u<l;++u){var f=c[u],h=Object.getOwnPropertyDescriptor(r,f);h&&(h.get||h.set)?Object.defineProperty(o,f,h):o[f]=t.clone(r[f],n)}return o},t.merge=function(r,n,i,o){if(t.assert(r&&"object"==typeof r,"Invalid target value: must be an object"),t.assert(null===n||void 0===n||"object"==typeof n,"Invalid source value: must be null, undefined, or an object"),!n)return r;if(Array.isArray(n)){t.assert(Array.isArray(r),"Cannot merge array onto an object"),!1===o&&(r.length=0);for(var a=0,s=n.length;a<s;++a)r.push(t.clone(n[a]));return r}for(var c=Object.keys(n),u=0,l=c.length;u<l;++u){var f=c[u],h=n[f];h&&"object"==typeof h?!r[f]||"object"!=typeof r[f]||Array.isArray(r[f])^Array.isArray(h)||h instanceof Date||e.isBuffer(h)||h instanceof RegExp?r[f]=t.clone(h):t.merge(r[f],h,i,o):null!==h&&void 0!==h?r[f]=h:!1!==i&&(r[f]=h)}return r},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;var i=t.clone(e);return!0===r?i:t.merge(i,r,!0===n,!1)},t.cloneWithShallow=function(e,r){if(!e||"object"!=typeof e)return e;var n=c.store(e,r),i=t.clone(e);return c.restore(i,e,n),i},c.store=function(e,r){for(var n={},i=0,o=r.length;i<o;++i){var a=r[i],s=t.reach(e,a);void 0!==s&&(n[a]=s,c.reachSet(e,a,void 0))}return n},c.restore=function(e,t,r){for(var n=Object.keys(r),i=0,o=n.length;i<o;++i){var a=n[i];c.reachSet(e,a,r[a]),c.reachSet(t,a,r[a])}},c.reachSet=function(e,t,r){for(var n=t.split("."),i=e,o=0,a=n.length;o<a;++o){var s=n[o];o+1===a&&(i[s]=r),i=i[s]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;var i=t.cloneWithShallow(e,n);if(!0===r)return i;var o=c.store(r,n);return t.merge(i,r,!1,!1),c.restore(i,r,o),i},t.deepEqual=function(r,n,i,o){i=i||{prototype:!0};var a=typeof r;if(a!==typeof n)return!1;if("object"!==a||null===r||null===n)return r===n?0!==r||1/r==1/n:r!==r&&n!==n;if(o=o||[],-1!==o.indexOf(r))return!0;if(o.push(r),Array.isArray(r)){if(!Array.isArray(n))return!1;if(!i.part&&r.length!==n.length)return!1;for(var s=0,c=r.length;s<c;++s){if(i.part){for(var u=!1,l=0,f=n.length;l<f;++l)if(t.deepEqual(r[s],n[l],i,o)){u=!0;break}return u}if(!t.deepEqual(r[s],n[s],i,o))return!1}return!0}if(e.isBuffer(r)){if(!e.isBuffer(n))return!1;if(r.length!==n.length)return!1;for(var h=0,d=r.length;h<d;++h)if(r[h]!==n[h])return!1;return!0}if(r instanceof Date)return n instanceof Date&&r.getTime()===n.getTime();if(r instanceof RegExp)return n instanceof RegExp&&r.toString()===n.toString();if(i.prototype&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n))return!1;var p=Object.getOwnPropertyNames(r);if(!i.part&&p.length!==Object.getOwnPropertyNames(n).length)return!1;for(var y=0,m=p.length;y<m;++y){var g=p[y],v=Object.getOwnPropertyDescriptor(r,g);if(v.get){if(!t.deepEqual(v,Object.getOwnPropertyDescriptor(n,g),i,o))return!1}else if(!t.deepEqual(r[g],n[g],i,o))return!1}return!0},t.unique=function(e,t){for(var r={},n=[],i=0,o=e.length;i<o;++i){var a=t?e[i][t]:e[i];!0!==r[a]&&(n.push(e[i]),r[a]=!0)}return n},t.mapToObject=function(e,t){if(!e)return null;for(var r={},n=0,i=e.length;n<i;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];for(var i=[],o=Array.isArray(e)?t.mapToObject(e):e,a={},s=0,c=r.length;s<c;++s)if(o[r[s]]&&!a[r[s]]){if(n)return r[s];i.push(r[s]),a[r[s]]=!0}return n?null:i},t.contain=function(e,r,n){var i=null;"object"!=typeof e||"object"!=typeof r||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(i=r,r=Object.keys(r)),n=n||{},t.assert(arguments.length>=2,"Insufficient arguments"),t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty");var o,a;if(n.deep){o=t.deepEqual;var s=n.hasOwnProperty("only"),c=n.hasOwnProperty("part");a={prototype:s?n.only:!!c&&!n.part,part:s?!n.only:!c||n.part}}else o=function(e,t){return e===t};for(var u=!1,l=new Array(r.length),f=0,h=l.length;f<h;++f)l[f]=0;if("string"==typeof e){var d="(";for(f=0,h=r.length;f<h;++f){var p=r[f];t.assert("string"==typeof p,"Cannot compare string reference to non-string value"),d+=(f?"|":"")+t.escapeRegex(p)}var y=new RegExp(d+")","g");u=!!e.replace(y,function(e,t){var n=r.indexOf(t);return++l[n],""})}else if(Array.isArray(e))for(f=0,h=e.length;f<h;++f){for(var m=0,g=r.length,v=!1;m<g&&!1===v;++m)v=o(r[m],e[f],a)&&m;!1!==v?++l[v]:u=!0}else{var b=Object.keys(e);for(f=0,h=b.length;f<h;++f){var _=b[f],w=r.indexOf(_);if(-1!==w){if(i&&!o(i[_],e[_],a))return!1;++l[w]}else u=!0}}var E=!1;for(f=0,h=l.length;f<h;++f)if(E=E||!!l[f],n.once&&l[f]>1||!n.part&&!l[f])return!1;return(!n.only||!u)&&E},t.flatten=function(e,r){for(var n=r||[],i=0,o=e.length;i<o;++i)Array.isArray(e[i])?t.flatten(e[i],n):n.push(e[i]);return n},t.reach=function(e,r,n){if(!1===r||null===r||void 0===r)return e;"string"==typeof(n=n||{})&&(n={separator:n});for(var i=r.split(n.separator||"."),o=e,a=0,s=i.length;a<s;++a){var c=i[a];if("-"===c[0]&&Array.isArray(o)&&(c=c.slice(1,c.length),c=o.length-c),!o||!o.hasOwnProperty(c)||"object"!=typeof o&&!1===n.functions){t.assert(!n.strict||a+1===s,"Missing segment",c,"in reach path ",r),t.assert("object"==typeof o||!0===n.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",r),o=n.default;break}o=o[c]}return o},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,function(r,i){var o=t.reach(e,i,n);return void 0===o||null===o?"":o})},t.formatStack=function(e){for(var t=[],r=0,n=e.length;r<n;++r){var i=e[r];t.push([i.getFileName(),i.getLineNumber(),i.getColumnNumber(),i.getFunctionName(),i.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],r=0,n=e.length;r<n;++r){var i=e[r];t.push((i[4]?"new ":"")+i[3]+" ("+i[0]+":"+i[1]+":"+i[2]+")")}return t},t.callStack=function(e){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n={};Error.captureStackTrace(n,arguments.callee);var i=n.stack;Error.prepareStackTrace=r;var o=t.formatStack(i);return e?o.slice(e):o},t.displayStack=function(e){var r=t.callStack(void 0===e?1:e+1);return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if(!0===t.abortThrow)throw new Error(e||"Unknown error");var i="";r||(i=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+i),n.exit(1)},t.assert=function(e){if(!e){if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];for(var r=[],n=1,i=arguments.length;n<i;++n)""!==arguments[n]&&r.push(arguments[n]);throw r=r.map(function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}),new Error(r.join(" ")||"Unknown error")}},t.Timer=function(){this.ts=0,this.reset()},t.Timer.prototype.reset=function(){this.ts=Date.now()},t.Timer.prototype.elapsed=function(){return Date.now()-this.ts},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(t,r){return(e.isBuffer(t)?t:new e(t,r||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,r){if(t&&!/^[\w\-]*$/.test(t))return new Error("Invalid character");try{var n=new e(t,"base64");return"buffer"===r?n:n.toString(r||"binary")}catch(e){return e}},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return s.escapeHtml(e)},t.escapeJavaScript=function(e){return s.escapeJavaScript(e)},t.nextTick=function(e){return function(){var t=arguments;n.nextTick(function(){e.apply(null,t)})}},t.once=function(e){if(e._hoekOnce)return e;var t=!1,r=function(){t||(t=!0,e.apply(null,arguments))};return r._hoekOnce=!0,r},t.isAbsolutePath=function(e,t){return!!e&&(o.isAbsolute?o.isAbsolute(e):(t=t||n.platform,"win32"!==t?"/"===e[0]:!!/^(?:[a-zA-Z]:[\\\/])|(?:[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/])/.test(e)))},t.isInteger=function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},t.ignore=function(){},t.inherits=a.inherits,t.format=a.format,t.transform=function(e,r,n){if(t.assert(null===e||void 0===e||"object"==typeof e||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array"),Array.isArray(e)){for(var i=[],o=0,a=e.length;o<a;++o)i.push(t.transform(e[o],r,n));return i}for(var s={},c=Object.keys(r),u=0,l=c.length;u<l;++u){var f=c[u],h=f.split("."),d=r[f];t.assert("string"==typeof d,'All mappings must be "." delineated strings');for(var p,y=s;h.length>1;)p=h.shift(),y[p]||(y[p]={}),y=y[p];p=h.shift(),y[p]=t.reach(e,d,n)}return s},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=o.resolve(e);var r=[Date.now(),n.pid,i.randomBytes(8).toString("hex")].join("-")+t;return o.join(e,r)},t.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},r=Object.keys(e),n=0,i=r.length;n<i;++n){var o=r[n];t[o]=e[o]}return t}}).call(t,r(0).Buffer,r(7))},function(e,t,r){"use strict";var n=t;n.version=r(472).version,n.utils=r(471),n.rand=r(144),n.curve=r(69),n.curves=r(463),n.ec=r(464),n.eddsa=r(467)},function(e,t,r){function create(e,t){var r=i(e);return null==t?r:n(r,t)}var n=r(503),i=r(504);e.exports=create},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){(function(t){var n=(r(57),r(9)),i=r(52),o=r(15),a=null,s=null,c={};c.defaults={abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional"},e.exports=c.Any=function(){this.isJoi=!0,this._type="any",this._settings=null,this._valids=new c.Set,this._invalids=new c.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}},c.Any.prototype.isImmutable=!0,c.Any.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._type=this._type,e._settings=c.concatSettings(this._settings),e._valids=n.clone(this._valids),e._invalids=n.clone(this._invalids),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=n.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),r=0,i=t.length;r<i;++r){var o=t[r];e._inner[o]=this._inner[o]?this._inner[o].slice():null}return e},c.Any.prototype.concat=function(e){n.assert(e&&e.isJoi,"Invalid schema object"),n.assert("any"===e._type||e._type===this._type,"Cannot merge with another type:",e._type);var t=this.clone();t._settings=t._settings?c.concatSettings(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),n.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var r=Object.keys(e._inner),i=0,o=r.length;i<o;++i){var a=r[i];e._inner[a]&&(t._inner[a]=t._inner[a]?t._inner[a].concat(e._inner[a]):e._inner[a].slice())}return t},c.Any.prototype._test=function(e,t,r){n.assert(!this._flags.allowOnly,"Cannot define rules when valid values specified");var i=this.clone();return i._tests.push({func:r,name:e,arg:t}),i},c.Any.prototype.options=function(e){n.assert(!e.context,"Cannot override context");var t=this.clone();return t._settings=c.concatSettings(t._settings,e),t},c.Any.prototype.strict=function(){var e=this.clone();return e._settings=e._settings||{},e._settings.convert=!1,e},c.Any.prototype.raw=function(e){var t=this.clone();return t._settings=t._settings||{},t._settings.raw=void 0===e||e,t},c.Any.prototype._allow=function(){for(var e=n.flatten(Array.prototype.slice.call(arguments)),t=0,r=e.length;t<r;++t){var i=e[t];this._invalids.remove(i),this._valids.add(i,this._refs)}},c.Any.prototype.allow=function(){var e=this.clone();return e._allow.apply(e,arguments),e},c.Any.prototype.valid=c.Any.prototype.equal=function(){n.assert(!this._tests.length,"Cannot set valid values when rules specified");var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},c.Any.prototype.invalid=c.Any.prototype.not=function(e){for(var t=this.clone(),r=n.flatten(Array.prototype.slice.call(arguments)),i=0,o=r.length;i<o;++i){var e=r[i];t._valids.remove(e),t._invalids.add(e,this._refs)}return t},c.Any.prototype.required=c.Any.prototype.exist=function(){var e=this.clone();return e._flags.presence="required",e},c.Any.prototype.optional=function(){var e=this.clone();return e._flags.presence="optional",e},c.Any.prototype.forbidden=function(){var e=this.clone();return e._flags.presence="forbidden",e},c.Any.prototype.applyFunctionToChildren=function(e,t,r,n){if(e=[].concat(e),1!==e.length||""!==e[0]){n=n?n+".":"";var i=(""===e[0]?e.slice(1):e).map(function(e){return n+e});throw new Error("unknown key(s) "+i.join(", "))}return this[t].apply(this,r)},c.Any.prototype.default=function(e){var t=this.clone();return t._flags.default=e,i.push(t._refs,e),t},c.Any.prototype.when=function(e,t){n.assert(t&&"object"==typeof t,"Invalid options"),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"'),s=s||r(51);var i=t.then?this.concat(s.schema(t.then)):this,o=t.otherwise?this.concat(s.schema(t.otherwise)):this;a=a||r(103);var c=a.when(e,{is:t.is,then:i,otherwise:o});return c._flags.presence="ignore",c},c.Any.prototype.description=function(e){n.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},c.Any.prototype.notes=function(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},c.Any.prototype.tags=function(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},c.Any.prototype.meta=function(e){n.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},c.Any.prototype.example=function(e){n.assert(arguments.length,"Missing example");var t=this._validate(e,null,c.defaults);n.assert(!t.errors,"Bad example:",t.errors&&o.process(t.errors,e));var r=this.clone();return r._examples=r._examples.concat(e),r},c.Any.prototype.unit=function(e){n.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},c.Any.prototype._validate=function(e,t,r,n){var a=this,s=e;t=t||{key:"",path:"",parent:null,reference:n},this._settings&&(r=c.concatSettings(r,this._settings));var u=[],l=function(){return{value:void 0!==e?r.raw?s:e:i.isRef(a._flags.default)?a._flags.default(t.parent,r):a._flags.default,errors:u.length?u:null}},f=this._flags.presence||r.presence;if("optional"===f){if(void 0===e)return l()}else{if("required"===f&&void 0===e)return u.push(o.create("any.required",null,t,r)),l();if("forbidden"===f)return void 0===e?l():(u.push(o.create("any.unknown",null,t,r)),l())}if(this._valids.has(e,t,r,this._flags.insensitive))return l();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(o.create(""===e?"any.empty":"any.invalid",null,t,r)),r.abortEarly||void 0===e))return l();if(this._base){var h=this._base.call(this,e,t,r);if(h.errors)return e=h.value,u=u.concat(h.errors),l();if(h.value!==e){if(e=h.value,this._valids.has(e,t,r,this._flags.insensitive))return l();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(o.create("any.invalid",null,t,r)),r.abortEarly))return l()}}if(this._flags.allowOnly&&(u.push(o.create("any.allowOnly",{valids:this._valids.toString(!1)},t,r)),r.abortEarly))return l();for(var d=0,p=this._tests.length;d<p;++d){var y=this._tests[d],m=y.func.call(this,e,t,r);if(m&&(u.push(m),r.abortEarly))return l()}return l()},c.Any.prototype._validateWithOptions=function(e,t,r){var n=c.concatSettings(c.defaults,t),i=this._validate(e,null,n),a=o.process(i.errors,e);return r?r(a,i.value):{error:a,value:i.value}},c.Any.prototype.validate=function(e,t){var r=this._validate(e,null,c.defaults),n=o.process(r.errors,e);return t?t(n,r.value):{error:n,value:r.value}},c.Any.prototype.describe=function(){var e={type:this._type};Object.keys(this._flags).length&&(e.flags=this._flags),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);var t=this._valids.values();t.length&&(e.valids=t);var r=this._invalids.values();r.length&&(e.invalids=r),e.rules=[];for(var i=0,o=this._tests.length;i<o;++i){var a=this._tests[i],s={name:a.name};void 0!==a.arg&&(s.arg=a.arg),e.rules.push(s)}e.rules.length||delete e.rules;var c=n.reach(this._settings,"language.label");return c&&(e.label=c),e},c.Any.prototype.label=function(e){n.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone(),r={language:{label:e}};return t._settings=c.concatSettings(r,t._settings),t},c.Set=function(){this._set=[]},c.Set.prototype.add=function(e,r){n.assert(null===e||void 0===e||e instanceof Date||t.isBuffer(e)||i.isRef(e)||"function"!=typeof e&&"object"!=typeof e,"Value cannot be an object or function"),"function"!=typeof e&&this.has(e,null,null,!1)||(i.push(r,e),this._set.push(e))},c.Set.prototype.merge=function(e,t){for(var r=0,n=e._set.length;r<n;++r)this.add(e._set[r]);for(r=0,n=t._set.length;r<n;++r)this.remove(t._set[r])},c.Set.prototype.remove=function(e){this._set=this._set.filter(function(t){return e!==t})},c.Set.prototype.has=function(e,r,n,o){for(var a=0,s=this._set.length;a<s;++a){var c=this._set[a];if(i.isRef(c)&&(c=c(r.reference||r.parent,n)),typeof e==typeof c&&(e===c||e instanceof Date&&c instanceof Date&&e.getTime()===c.getTime()||o&&"string"==typeof e&&e.toLowerCase()===c.toLowerCase()||t.isBuffer(e)&&t.isBuffer(c)&&e.length===c.length&&e.toString("binary")===c.toString("binary")))return!0}return!1},c.Set.prototype.values=function(){return this._set.slice()},c.Set.prototype.toString=function(e){for(var t="",r=0,n=this._set.length;r<n;++r){var i=this._set[r];(void 0!==i||e)&&(t+=(t?", ":"")+c.stringify(i))}return t},c.stringify=function(e){return void 0===e?"undefined":null===e?"null":"string"==typeof e?e:e.toString()},c.concatSettings=function(e,t){if(!e&&!t)return null;var r={};if(e)for(var i=Object.keys(e),o=0,a=i.length;o<a;++o){var s=i[o];r[s]=e[s]}if(t)for(var c=Object.keys(t),u=0,l=c.length;u<l;++u){var s=c[u];"language"===s&&r.hasOwnProperty(s)?r[s]=n.applyToDefaults(r[s],t[s]):r[s]=t[s]}return r}}).call(t,r(0).Buffer)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Exception=function(e){function Exception(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Exception.DEFAULT_CODE;_classCallCheck(this,Exception);var r=_possibleConstructorReturn(this,(Exception.__proto__||Object.getPrototypeOf(Exception)).call(this));return Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(r,r.constructor):Object.defineProperty(r,"stack",{value:(new Error).stack}),Object.defineProperty(r,"message",{value:e}),r._code=t,r}return _inherits(Exception,e),n(Exception,null,[{key:"CODE_KEY",get:function(){return"_deep_error_code_"}},{key:"DEFAULT_CODE",get:function(){return 400}}]),n(Exception,[{key:"name",get:function(){return this.constructor.name}},{key:"code",set:function(e){this._code=e},get:function(){return this._code}}]),Exception}(function(e){function ExtendableClass(){e.apply(this,arguments)}return ExtendableClass.prototype=Object.create(e.prototype),Object.setPrototypeOf?Object.setPrototypeOf(ExtendableClass,e):ExtendableClass.__proto__=e,ExtendableClass}(Error))},function(e,t,r){var n=r(9),i=r(488),o={};o.Err=function(e,t,r,n){this.type=e,this.context=t||{},this.context.key=r.key,this.path=r.path,this.options=n},o.Err.prototype.toString=function(){var e=this,t=this.options.language;this.context.key=t.label||this.context.key||t.root||i.errors.root;var r=n.reach(t,this.type)||n.reach(i.errors,this.type);return r=/\{\{\!?key\}\}/.test(r)?r:"{{!key}} "+r,r.replace(/\{\{(\!?)([^}]+)\}\}/g,function(t,r,i){var o=n.reach(e.context,i),a=Array.isArray(o)?o.join(", "):o.toString();return r?n.escapeHtml(a):a})},t.create=function(e,t,r,n){return new o.Err(e,t,r,n)},t.process=function(e,t){if(!e||!e.length)return null;for(var r=[],n=0,i=e.length;n<i;++n){var a=e[n];r.push({message:a.toString(),path:o.getPath(a),type:a.type,context:a.context})}var s="";r.forEach(function(e){s+=(s?". ":"")+e.message});var c=new Error(s);return c.name="ValidationError",c.details=r,c._object=t,c.annotate=o.annotate,c},o.getPath=function(e){var t=function(e){var r=n.reach(e,"context.reason.0");return r&&r.context?t(r):e.path};return t(e)||e.context.key},o.annotate=function(){for(var e=n.clone(this._object||{}),t={},r=this.details.length,i=r-1;i>=0;--i)for(var o=r-i,a=this.details[i],s=a.path.split("."),c=e,u=0,l=s.length;u<l&&c;++u){var f=s[u];if(u+1<l)c=c[f];else{var h=c[f];if(void 0!==h){delete c[f];var d=f+"_$key$_"+o+"_$end$_";c[d]=h,t[a.path]=d}else if(t[a.path]){var p=t[a.path],y=p.replace("_$end$_",", "+o+"_$end$_");c[y]=c[p],t[a.path]=y,delete c[p]}else c["_$miss$_"+f+"|"+o+"_$end$_"]="__missing__"}}var m=JSON.stringify(e,null,2);m=m.replace(/_\$key\$_([, \d]+)_\$end\$_\"/g,function(e,t){return'" [31m['+t+"][0m"});var g=m.replace(/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,function(e,t,r){return'[41m"'+t+'"[0m[31m ['+r+"]: -- missing --[0m"});for(g+="\n[31m",i=0;i<r;++i)g+="\n["+(i+1)+"] "+this.details[i].message;return g+="[0m"}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=isObject},function(e,t,r){const n=r(270);n.Lambda=r(272),n.CognitoIdentity=r(130),n.CognitoSync=r(271),n.SQS=r(273),e.exports=n},function(e,t,r){var n=r(197),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t,r){(function(e,n){function inspect(e,r){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(r)?n.showHidden=r:r&&t._extend(n,r),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var r=inspect.styles[t];return r?"["+inspect.colors[r][0]+"m"+e+"["+inspect.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function formatValue(e,r,n){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return isString(i)||(i=formatValue(e,i,n)),i}var o=formatPrimitive(e,r);if(o)return o;var a=Object.keys(r),s=arrayToHash(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),isError(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(r);if(0===a.length){if(isFunction(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var u="",l=!1,f=["{","}"];if(isArray(r)&&(l=!0,f=["[","]"]),isFunction(r)){u=" [Function"+(r.name?": "+r.name:"")+"]"}if(isRegExp(r)&&(u=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(u=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(u=" "+formatError(r)),0===a.length&&(!l||0==r.length))return f[0]+u+f[1];if(n<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var h;return h=l?formatArray(e,r,n,s,a):a.map(function(t){return formatProperty(e,r,n,s,t,l)}),e.seen.pop(),reduceToSingleString(h,u,f)}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?o.push(formatProperty(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,r,n,i,!0))}),o}function formatProperty(e,t,r,n,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=isNull(r)?formatValue(e,c.value,null):formatValue(e,c.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),a[e.getMonth()],t].join(" ")}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.format=function(e){if(!isString(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(inspect(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(/%[sdj%]/g,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<i;a=n[++r])isNull(a)||!isObject(a)?o+=" "+a:o+=" "+inspect(a);return o},t.deprecate=function(r,i){function deprecated(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}if(isUndefined(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return deprecated};var i,o={};t.debuglog=function(e){if(isUndefined(i)&&(i=r.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var a=n.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,a,r)}}else o[e]=function(){};return o[e]},t.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=r(645);var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",timestamp(),t.format.apply(t,arguments))},t.inherits=r(2),t._extend=function(e,t){if(!t||!isObject(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(4),r(7))},function(e,t,r){"use strict";var n=r(376);e.exports=n.Kernel},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LogDriverException=void 0;var n=r(392);t.LogDriverException=function(e){function LogDriverException(){var e;_classCallCheck(this,LogDriverException);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=LogDriverException.__proto__||Object.getPrototypeOf(LogDriverException)).call.apply(e,[this].concat(r)))}return _inherits(LogDriverException,e),LogDriverException}(n.Exception)},function(e,t,r){var n=t;n.utils=r(477),n.common=r(473),n.sha=r(476),n.ripemd=r(475),n.hmac=r(474),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t,r){e.exports=r(487)},function(e,t,r){function getNative(e,t){var r=i(e,t);return n(r)?r:void 0}var n=r(514),i=r(537);e.exports=getNative},function(e,t){function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=assert,assert.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},function(e,t,r){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(58),t.createHash=t.Hash=r(34),t.createHmac=t.Hmac=r(86);var n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(r(312)));t.getHashes=function(){return n};var i=r(211);t.pbkdf2=i.pbkdf2,t.pbkdf2Sync=i.pbkdf2Sync;var o=r(309);["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(e){t[e]=o[e]});var a=r(454);["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(e){t[e]=a[e]});var s=r(313);["createSign","Sign","createVerify","Verify"].forEach(function(e){t[e]=s[e]}),t.createECDH=r(318);var c=r(594);["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(e){t[e]=c[e]}),["createCredentials"].forEach(function(e){t[e]=function(){throw new Error(["sorry, "+e+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},function(e,t,r){"use strict";function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||i(onEndNT,this)}function onEndNT(e){e.end()}var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=Duplex;var i=r(118),o=r(45);o.inherits=r(2);var a=r(219),s=r(120);o.inherits(Duplex,a);for(var c=n(s.prototype),u=0;u<c.length;u++){var l=c[u];Duplex.prototype[l]||(Duplex.prototype[l]=s.prototype[l])}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(1);n.apiLoader=function(e,t){if(!n.apiLoader.services.hasOwnProperty(e))throw new Error("InvalidService: Failed to load api for "+e);return n.apiLoader.services[e][t]},n.apiLoader.services={},e.exports=n.apiLoader},function(e,t,r){(function(e){var t=r(5);t.crypto.lib=r(320),t.Buffer=r(0).Buffer,t.url=r(117),t.querystring=r(119);var n=r(1);r(30),n.XML.Parser=r(300),r(280),void 0===e&&(e={browser:!0})}).call(t,r(7))},function(e,t,r){var n=r(1),i=r(134),o=r(283),a=n.util.inherit,s=0;n.Service=a({constructor:function(e){if(!this.loadServiceClass)throw n.util.error(new Error,"Service must be constructed with `new' operator");var t=this.loadServiceClass(e||{});if(t){var r=n.util.copy(e),i=new t(e);return Object.defineProperty(i,"_originalConfig",{get:function(){return r},enumerable:!1,configurable:!0}),i._clientId=++s,i}this.initialize(e)},initialize:function(e){var t=n.config[this.serviceIdentifier];this.config=new n.Config(n.config),t&&this.config.update(t,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||o(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint)},validateService:function(){},loadServiceClass:function(e){var t=e;if(n.util.isEmpty(this.api)){if(t.apiConfig)return n.Service.defineServiceApi(this.constructor,t.apiConfig);if(this.constructor.services){t=new n.Config(n.config),t.update(e,!0);var r=t.apiVersions[this.constructor.serviceIdentifier];return r=r||t.apiVersion,this.getLatestServiceClass(r)}return null}return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),null===this.constructor.services[e]&&n.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?n.util.isType(e,Date)&&(e=n.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var t=Object.keys(this.constructor.services).sort(),r=null,i=t.length-1;i>=0;i--)if("*"!==t[i][t[i].length-1]&&(r=t[i]),t[i].substr(0,10)<=e)return r;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(e){if("function"!=typeof e)throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests");this.customRequestHandler=e}else this.customRequestHandler=null},makeRequest:function(e,t,r){if("function"==typeof t&&(r=t,t=null),t=t||{},this.config.params){var i=this.api.operations[e];i&&(t=n.util.copy(t),n.util.each(this.config.params,function(e,r){i.input.members[e]&&(void 0!==t[e]&&null!==t[e]||(t[e]=r))}))}var o=new n.Request(this,e,t);return this.addAllRequestListeners(o),r&&o.send(r),o},makeUnauthenticatedRequest:function(e,t,r){"function"==typeof t&&(r=t,t={});var n=this.makeRequest(e,t).toUnauthenticated();return r?n.send(r):n},waitFor:function(e,t,r){return new n.ResourceWaiter(this,e).wait(t,r)},addAllRequestListeners:function(e){for(var t=[n.events,n.EventListeners.Core,this.serviceInterface(),n.EventListeners.CorePost],r=0;r<t.length;r++)t[r]&&e.addListeners(t[r]);this.config.paramValidation||e.removeListener("validate",n.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(n.EventListeners.Logger),this.setupRequestListeners(e),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(e)},setupRequestListeners:function(){},getSignerClass:function(e){var t,r=e?e.service.api.operations[e.operation]:null,i=r?r.authtype:"";return t=this.config.signatureVersion?this.config.signatureVersion:"v4"===i||"v4-unsigned-body"===i?"v4":this.api.signatureVersion,n.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return n.EventListeners.Query;case"json":return n.EventListeners.Json;case"rest-json":return n.EventListeners.RestJson;case"rest-xml":return n.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e){return n.util.calculateRetryDelay(e,this.config.retryDelayOptions)},retryableError:function(e){return!!this.networkingError(e)||(!!this.expiredCredentialsError(e)||(!!this.throttledError(e)||e.statusCode>=500))},networkingError:function(e){return"NetworkingError"===e.code},expiredCredentialsError:function(e){return"ExpiredTokenException"===e.code},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},throttledError:function(e){switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":return!0;default:return!1}},endpointFromTemplate:function(e){if("string"!=typeof e)return e;var t=e;return t=t.replace(/\{service\}/g,this.api.endpointPrefix),t=t.replace(/\{region\}/g,this.config.region),t=t.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(e){this.endpoint=new n.Endpoint(e,this.config)},paginationConfig:function(e,t){var r=this.api.operations[e].paginator;if(!r){if(t){var i=new Error;throw n.util.error(i,"No pagination configuration for "+e)}return null}return r}}),n.util.update(n.Service,{defineMethods:function(e){n.util.each(e.prototype.api.operations,function(t){if(!e.prototype[t]){"none"===e.prototype.api.operations[t].authtype?e.prototype[t]=function(e,r){return this.makeUnauthenticatedRequest(t,e,r)}:e.prototype[t]=function(e,r){return this.makeRequest(t,e,r)}}})},defineService:function(e,t,r){n.Service._serviceMap[e]=!0,Array.isArray(t)||(r=t,t=[]);var i=a(n.Service,r||{});if("string"==typeof e){n.Service.addVersions(i,t);var o=i.serviceIdentifier||e;i.serviceIdentifier=o}else i.prototype.api=e,n.Service.defineMethods(i);return i},addVersions:function(e,t){Array.isArray(t)||(t=[t]),e.services=e.services||{};for(var r=0;r<t.length;r++)void 0===e.services[t[r]]&&(e.services[t[r]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,t,r){function setApi(e){e.isApi?o.prototype.api=e:o.prototype.api=new i(e)}var o=a(e,{serviceIdentifier:e.serviceIdentifier});if("string"==typeof t){if(r)setApi(r);else try{setApi(n.apiLoader(e.serviceIdentifier,t))}catch(r){throw n.util.error(r,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+t})}Object.prototype.hasOwnProperty.call(e.services,t)||(e.apiVersions=e.apiVersions.concat(t).sort()),e.services[t]=o}else setApi(t);return n.Service.defineMethods(o),o},hasService:function(e){return Object.prototype.hasOwnProperty.call(n.Service._serviceMap,e)},_serviceMap:{}}),e.exports=n.Service},function(e,t,r){(function(t){function CipherBase(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var n=r(122).Transform,i=r(2),o=r(116).StringDecoder;e.exports=CipherBase,i(CipherBase,n),CipherBase.prototype.update=function(e,r,n){"string"==typeof e&&(e=new t(e,r));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},CipherBase.prototype._flush=function(e){var t;try{this.push(this._final())}catch(e){t=e}finally{e(t)}},CipherBase.prototype._finalOrDigest=function(e){var r=this._final()||new t("");return e&&(r=this._toString(r,e,!0)),r},CipherBase.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n}}).call(t,r(0).Buffer)},function(e,t,r){"use strict";(function(t){function HashNoConstructor(e){s.call(this,"digest"),this._hash=e,this.buffers=[]}function Hash(e){s.call(this,"digest"),this._hash=e}var n=r(2),i=r(155),o=r(618),a=r(620),s=r(33);n(HashNoConstructor,s),HashNoConstructor.prototype._update=function(e){this.buffers.push(e)},HashNoConstructor.prototype._final=function(){var e=t.concat(this.buffers),r=this._hash(e);return this.buffers=null,r},n(Hash,s),Hash.prototype._update=function(e){this._hash.update(e)},Hash.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return e=e.toLowerCase(),"md5"===e?new HashNoConstructor(i):"rmd160"===e||"ripemd160"===e?new HashNoConstructor(o):new Hash(a(e))}}).call(t,r(0).Buffer)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidArgumentException=void 0;var n=r(14);t.InvalidArgumentException=function(e){function InvalidArgumentException(e,t){_classCallCheck(this,InvalidArgumentException);let r=typeof e;return _possibleConstructorReturn(this,(InvalidArgumentException.__proto__||Object.getPrototypeOf(InvalidArgumentException)).call(this,`Invalid argument ${e} of type ${r} provided (meant ${t}).`,400))}return _inherits(InvalidArgumentException,e),InvalidArgumentException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(48);t.AbstractDriver=function(e){function AbstractDriver(){_classCallCheck(this,AbstractDriver);var e=_possibleConstructorReturn(this,(AbstractDriver.__proto__||Object.getPrototypeOf(AbstractDriver)).call(this,["_load"]));return e._onLoaded=(()=>{}),e._onFail=(()=>{}),e}return _inherits(AbstractDriver,e),n(AbstractDriver,[{key:"inherit",value:function(e){return this.onLoadedCb(e.onLoaded),this.onFailCb(e.onFail),this}},{key:"load",value:function(){return this._load.apply(this,arguments),this}},{key:"loadedJson",value:function(e){let t=null;try{t=JSON.parse(e)}catch(e){return this.fail(`Failed to parse config from ${this._endpoint}: ${e}`)}return this.loaded(t)}},{key:"loaded",value:function(e){return this._onLoaded(e),this}},{key:"fail",value:function(e){return this._onFail("string"==typeof e?new a.Exception(e):e),this}},{key:"onLoadedCb",value:function(e){return this._onLoaded=e,this}},{key:"onFailCb",value:function(e){return this._onFail=e,this}},{key:"onLoaded",get:function(){return this._onLoaded}},{key:"onFail",get:function(){return this._onFail}}]),AbstractDriver}(o.default.OOP.Interface)},function(e,t,r){(function(e){!function(t,r){e.exports=r()}(0,function(){"use strict";function hooks(){return t.apply(null,arguments)}function isArray(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function isObjectEmpty(e){var t;for(t in e)return!1;return!0}function isUndefined(e){return void 0===e}function isNumber(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function isDate(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var r in t)hasOwnProp(t,r)&&(e[r]=t[r]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,r,n){return createLocalOrUTC(e,t,r,n,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function isValid(e){if(null==e._isValid){var t=getParsingFlags(e),r=i.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}function copyConfig(e,t){var r,n,i;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),o.length>0)for(r=0;r<o.length;r++)n=o[r],i=t[n],isUndefined(i)||(e[n]=i);return e}function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===a&&(a=!0,hooks.updateOffset(this),a=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=absFloor(t)),r}function compareArrays(e,t,r){var n,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&toInt(e[n])!==toInt(t[n]))&&a++;return a+o}function warn(e){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var r=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),r){for(var n,i=[],o=0;o<arguments.length;o++){if(n="","object"==typeof arguments[o]){n+="\n["+o+"] ";for(var a in arguments[0])n+=a+": "+arguments[0][a]+", ";n=n.slice(0,-2)}else n=arguments[o];i.push(n)}warn(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),s[e]||(warn(t),s[e]=!0)}function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function set(e){var t,r;for(r in e)t=e[r],isFunction(t)?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var r,n=extend({},e);for(r in t)hasOwnProp(t,r)&&(isObject(e[r])&&isObject(t[r])?(n[r]={},extend(n[r],e[r]),extend(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)hasOwnProp(e,r)&&!hasOwnProp(t,r)&&isObject(e[r])&&(n[r]=extend({},n[r]));return n}function Locale(e){null!=e&&this.set(e)}function calendar(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return isFunction(n)?n.call(t,r):n}function longDateFormat(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function invalidDate(){return this._invalidDate}function ordinal(e){return this._ordinal.replace("%d",e)}function relativeTime(e,t,r,n){var i=this._relativeTime[r];return isFunction(i)?i(e,t,r,n):i.replace(/%d/i,e)}function pastFuture(e,t){var r=this._relativeTime[e>0?"future":"past"];return isFunction(r)?r(t):r.replace(/%s/i,t)}function addUnitAlias(e,t){var r=e.toLowerCase();p[r]=p[r+"s"]=p[t]=e}function normalizeUnits(e){return"string"==typeof e?p[e]||p[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,r,n={};for(r in e)hasOwnProp(e,r)&&(t=normalizeUnits(r))&&(n[t]=e[r]);return n}function addUnitPriority(e,t){y[e]=t}function getPrioritizedUnits(e){var t=[];for(var r in e)t.push({unit:r,priority:y[r]});return t.sort(function(e,t){return e.priority-t.priority}),t}function makeGetSet(e,t){return function(r){return null!=r?(set$1(this,e,r),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,r){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](r)}function stringGet(e){return e=normalizeUnits(e),isFunction(this[e])?this[e]():this}function stringSet(e,t){if("object"==typeof e){e=normalizeObjectUnits(e);for(var r=getPrioritizedUnits(e),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function zeroFill(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}function addFormatToken(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(b[e]=i),t&&(b[t[0]]=function(){return zeroFill(i.apply(this,arguments),t[1],t[2])}),r&&(b[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,r,n=e.match(m);for(t=0,r=n.length;t<r;t++)b[n[t]]?n[t]=b[n[t]]:n[t]=removeFormattingTokens(n[t]);return function(t){var i,o="";for(i=0;i<r;i++)o+=isFunction(n[i])?n[i].call(t,e):n[i];return o}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),v[t]=v[t]||makeFormatFunction(t),v[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){function replaceLongDateFormatTokens(e){return t.longDateFormat(e)||e}var r=5;for(g.lastIndex=0;r>=0&&g.test(e);)e=e.replace(g,replaceLongDateFormatTokens),g.lastIndex=0,r-=1;return e}function addRegexToken(e,t,r){k[e]=isFunction(t)?t:function(e,n){return e&&r?r:t}}function getParseRegexForToken(e,t){return hasOwnProp(k,e)?k[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,n,i){return t||r||n||i}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),isNumber(t)&&(n=function(e,r){r[t]=toInt(e)}),r=0;r<e.length;r++)C[e[r]]=n}function addWeekParseToken(e,t){addParseToken(e,function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)})}function addTimeToArrayFromToken(e,t,r){null!=t&&hasOwnProp(C,e)&&C[e](t,r._a,r,e)}function daysInMonth(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function localeMonths(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||N).test(t)?"format":"standalone"][e.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[N.test(t)?"format":"standalone"][e.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,r){var n,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=createUTC([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?"MMM"===t?(i=j.call(this._shortMonthsParse,a),-1!==i?i:null):(i=j.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=j.call(this._shortMonthsParse,a))?i:(i=j.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=j.call(this._longMonthsParse,a))?i:(i=j.call(this._shortMonthsParse,a),-1!==i?i:null)}function localeMonthsParse(e,t,r){var n,i,o;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=createUTC([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function setMonth(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),!isNumber(t))return e;return r=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=F),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=q),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,r=[],n=[],i=[];for(e=0;e<12;e++)t=createUTC([2e3,e]),r.push(this.monthsShort(t,"")),n.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(r.sort(cmpLenRev),n.sort(cmpLenRev),i.sort(cmpLenRev),e=0;e<12;e++)r[e]=regexEscape(r[e]),n[e]=regexEscape(n[e]);for(e=0;e<24;e++)i[e]=regexEscape(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(e,t,r,n,i,o,a){var s=new Date(e,t,r,n,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function createUTCDate(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function firstWeekOffset(e,t,r){var n=7+t-r;return-(7+createUTCDate(e,0,n).getUTCDay()-t)%7+n-1}function dayOfYearFromWeeks(e,t,r,n,i){var o,a,s=(7+r-n)%7,c=firstWeekOffset(e,n,i),u=1+7*(t-1)+s+c;return u<=0?(o=e-1,a=daysInYear(o)+u):u>daysInYear(e)?(o=e+1,a=u-daysInYear(e)):(o=e,a=u),{year:o,dayOfYear:a}}function weekOfYear(e,t,r){var n,i,o=firstWeekOffset(e.year(),t,r),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,n=a+weeksInYear(i,t,r)):a>weeksInYear(e.year(),t,r)?(n=a-weeksInYear(e.year(),t,r),i=e.year()+1):(i=e.year(),n=a),{week:n,year:i}}function weeksInYear(e,t,r){var n=firstWeekOffset(e,t,r),i=firstWeekOffset(e+1,t,r);return(daysInYear(e)-n+i)/7}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function parseIsoWeekday(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function localeWeekdays(e,t){return e?isArray(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone}function localeWeekdaysShort(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,r){var n,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=createUTC([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?"dddd"===t?(i=j.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=j.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=j.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=j.call(this._weekdaysParse,a))?i:-1!==(i=j.call(this._shortWeekdaysParse,a))?i:(i=j.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=j.call(this._shortWeekdaysParse,a))?i:-1!==(i=j.call(this._weekdaysParse,a))?i:(i=j.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=j.call(this._minWeekdaysParse,a))?i:-1!==(i=j.call(this._weekdaysParse,a))?i:(i=j.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function localeWeekdaysParse(e,t,r){var n,i,o;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=createUTC([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=K),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Y),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=X),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,r,n,i,o=[],a=[],s=[],c=[];for(e=0;e<7;e++)t=createUTC([2e3,1]).day(e),r=this.weekdaysMin(t,""),n=this.weekdaysShort(t,""),i=this.weekdays(t,""),o.push(r),a.push(n),s.push(i),c.push(r),c.push(n),c.push(i);for(o.sort(cmpLenRev),a.sort(cmpLenRev),s.sort(cmpLenRev),c.sort(cmpLenRev),e=0;e<7;e++)a[e]=regexEscape(a[e]),s[e]=regexEscape(s[e]),c[e]=regexEscape(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}function localeMeridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,r,n,i,o=0;o<e.length;){for(i=normalizeLocale(e[o]).split("-"),t=i.length,r=normalizeLocale(e[o+1]),r=r?r.split("-"):null;t>0;){if(n=loadLocale(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&compareArrays(i,r,!0)>=t-1)break;t--}o++}return null}function loadLocale(t){var n=null;if(!Q[t]&&void 0!==e&&e&&e.exports)try{n=G._abbr,r(585)("./"+t),getSetGlobalLocale(n)}catch(e){}return Q[t]}function getSetGlobalLocale(e,t){var r;return e&&(r=isUndefined(t)?getLocale(e):defineLocale(e,t))&&(G=r),G._abbr}function defineLocale(e,t){if(null!==t){var r=$;if(t.abbr=e,null!=Q[e])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Q[e]._config;else if(null!=t.parentLocale){if(null==Q[t.parentLocale])return Z[t.parentLocale]||(Z[t.parentLocale]=[]),Z[t.parentLocale].push({name:e,config:t}),null;r=Q[t.parentLocale]._config}return Q[e]=new Locale(mergeConfigs(r,t)),Z[e]&&Z[e].forEach(function(e){defineLocale(e.name,e.config)}),getSetGlobalLocale(e),Q[e]}return delete Q[e],null}function updateLocale(e,t){if(null!=t){var r,n=$;null!=Q[e]&&(n=Q[e]._config),t=mergeConfigs(n,t),r=new Locale(t),r.parentLocale=Q[e],Q[e]=r,getSetGlobalLocale(e)}else null!=Q[e]&&(null!=Q[e].parentLocale?Q[e]=Q[e].parentLocale:null!=Q[e]&&delete Q[e]);return Q[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return G;if(!isArray(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function listLocales(){return l(Q)}function checkOverflow(e){var t,r=e._a;return r&&-2===getParsingFlags(e).overflow&&(t=r[P]<0||r[P]>11?P:r[R]<1||r[R]>daysInMonth(r[x],r[P])?R:r[O]<0||r[O]>24||24===r[O]&&(0!==r[A]||0!==r[M]||0!==r[I])?O:r[A]<0||r[A]>59?A:r[M]<0||r[M]>59?M:r[I]<0||r[I]>999?I:-1,getParsingFlags(e)._overflowDayOfYear&&(t<x||t>R)&&(t=R),getParsingFlags(e)._overflowWeeks&&-1===t&&(t=T),getParsingFlags(e)._overflowWeekday&&-1===t&&(t=D),getParsingFlags(e).overflow=t),e}function configFromISO(e){var t,r,n,i,o,a,s=e._i,c=ee.exec(s)||te.exec(s);if(c){for(getParsingFlags(e).iso=!0,t=0,r=ne.length;t<r;t++)if(ne[t][1].exec(c[1])){i=ne[t][0],n=!1!==ne[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,r=ie.length;t<r;t++)if(ie[t][1].exec(c[3])){o=(c[2]||" ")+ie[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(c[4]){if(!re.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),configFromStringAndFormat(e)}else e._isValid=!1}function configFromRFC2822(e){var t,r,n,i,o,a,s,c,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},l="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),r=ae.exec(t)){if(n=r[1]?"ddd"+(5===r[1].length?", ":" "):"",i="D MMM "+(r[2].length>10?"YYYY ":"YY "),o="HH:mm"+(r[4]?":ss":""),r[1]){var f=new Date(r[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];if(r[1].substr(0,3)!==h)return getParsingFlags(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(r[5].length){case 2:0===c?s=" +0000":(c=l.indexOf(r[5][1].toUpperCase())-12,s=(c<0?" -":" +")+(""+c).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=u[r[5]];break;default:s=u[" GMT"]}r[5]=s,e._i=r.splice(1).join(""),a=" ZZ",e._f=n+i+o+a,configFromStringAndFormat(e),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=oe.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));configFromISO(e),!1===e._isValid&&(delete e._isValid,configFromRFC2822(e),!1===e._isValid&&(delete e._isValid,hooks.createFromInputFallback(e)))}function defaults(e,t,r){return null!=e?e:null!=t?t:r}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,r,n,i,o=[];if(!e._d){for(n=currentDateArray(e),e._w&&null==e._a[R]&&null==e._a[P]&&dayOfYearFromWeekInfo(e),null!=e._dayOfYear&&(i=defaults(e._a[x],n[x]),(e._dayOfYear>daysInYear(i)||0===e._dayOfYear)&&(getParsingFlags(e)._overflowDayOfYear=!0),r=createUTCDate(i,0,e._dayOfYear),e._a[P]=r.getUTCMonth(),e._a[R]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[O]&&0===e._a[A]&&0===e._a[M]&&0===e._a[I]&&(e._nextDay=!0,e._a[O]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[O]=24)}}function dayOfYearFromWeekInfo(e){var t,r,n,i,o,a,s,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,r=defaults(t.GG,e._a[x],weekOfYear(createLocal(),1,4).year),n=defaults(t.W,1),((i=defaults(t.E,1))<1||i>7)&&(c=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=weekOfYear(createLocal(),o,a);r=defaults(t.gg,e._a[x],u.year),n=defaults(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o}n<1||n>weeksInYear(r,o,a)?getParsingFlags(e)._overflowWeeks=!0:null!=c?getParsingFlags(e)._overflowWeekday=!0:(s=dayOfYearFromWeeks(r,n,i,o,a),e._a[x]=s.year,e._dayOfYear=s.dayOfYear)}function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601)return void configFromISO(e);if(e._f===hooks.RFC_2822)return void configFromRFC2822(e);e._a=[],getParsingFlags(e).empty=!0;var t,r,n,i,o,a=""+e._i,s=a.length,c=0;for(n=expandFormat(e._f,e._locale).match(m)||[],t=0;t<n.length;t++)i=n[t],r=(a.match(getParseRegexForToken(i,e))||[])[0],r&&(o=a.substr(0,a.indexOf(r)),o.length>0&&getParsingFlags(e).unusedInput.push(o),a=a.slice(a.indexOf(r)+r.length),c+=r.length),b[i]?(r?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(i),addTimeToArrayFromToken(i,r,e)):e._strict&&!r&&getParsingFlags(e).unusedTokens.push(i);getParsingFlags(e).charsLeftOver=s-c,a.length>0&&getParsingFlags(e).unusedInput.push(a),e._a[O]<=12&&!0===getParsingFlags(e).bigHour&&e._a[O]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[O]=meridiemFixWrap(e._locale,e._a[O],e._meridiem),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?(n=e.isPM(r),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,r,n,i,o;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],configFromStringAndFormat(t),isValid(t)&&(o+=getParsingFlags(t).charsLeftOver,o+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=o,(null==n||o<n)&&(n=o,r=t));extend(e,r||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,r=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===r&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate(t)?e._d=t:isArray(r)?configFromStringAndArray(e):r?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined(t)?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):isObject(t)?configFromObject(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,r,n,i){var o={};return!0!==r&&!1!==r||(n=r,r=void 0),(isObject(e)&&isObjectEmpty(e)||isArray(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=r,o._i=e,o._f=t,o._strict=n,createFromConfig(o)}function createLocal(e,t,r,n){return createLocalOrUTC(e,t,r,n,!1)}function pickBy(e,t){var r,n;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}function isDurationValid(e){for(var t in e)if(-1===le.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<le.length;++n)if(e[le[n]]){if(r)return!1;parseFloat(e[le[n]])!==toInt(e[le[n]])&&(r=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),r=t.year||0,n=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+l+1e3*u+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*n+12*r,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}function offsetFromString(e,t){var r=(t||"").match(e);if(null===r)return null;var n=r[r.length-1]||[],i=(n+"").match(fe)||["-",0,0],o=60*i[1]+toInt(i[2]);return 0===o?0:"+"===i[0]?o:-o}function cloneWithOffset(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),hooks.updateOffset(r,!1),r):createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function getSetOffset(e,t,r){var n,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=offsetFromString(E,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:getDateOffset(this)}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=offsetFromString(w,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return!!this.isValid()&&(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),e=prepareConfig(e),e._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(e,t){var r,n,i,o=e,a=null;return isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=he.exec(e))?(r="-"===a[1]?-1:1,o={y:0,d:toInt(a[R])*r,h:toInt(a[O])*r,m:toInt(a[A])*r,s:toInt(a[M])*r,ms:toInt(absRound(1e3*a[I]))*r}):(a=de.exec(e))?(r="-"===a[1]?-1:1,o={y:parseIso(a[2],r),M:parseIso(a[3],r),w:parseIso(a[4],r),d:parseIso(a[5],r),h:parseIso(a[6],r),m:parseIso(a[7],r),s:parseIso(a[8],r)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=momentsDifference(createLocal(o.from),createLocal(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),n=new Duration(o),isDuration(e)&&hasOwnProp(e,"_locale")&&(n._locale=e._locale),n}function parseIso(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function positiveMomentsDifference(e,t){var r={milliseconds:0,months:0};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function momentsDifference(e,t){var r;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?r=positiveMomentsDifference(e,t):(r=positiveMomentsDifference(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function createAdder(e,t){return function(r,n){var i,o;return null===n||isNaN(+n)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),r="string"==typeof r?+r:r,i=createDuration(r,n),addSubtract(this,i,e),this}}function addSubtract(e,t,r,n){var i=t._milliseconds,o=absRound(t._days),a=absRound(t._months);e.isValid()&&(n=null==n||n,i&&e._d.setTime(e._d.valueOf()+i*r),o&&set$1(e,"Date",get(e,"Date")+o*r),a&&setMonth(e,get(e,"Month")+a*r),n&&hooks.updateOffset(e,o||a))}function getCalendarFormat(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function calendar$1(e,t){var r=e||createLocal(),n=cloneWithOffset(r,this).startOf("day"),i=hooks.calendarFormat(this,n)||"sameElse",o=t&&(isFunction(t[i])?t[i].call(this,r):t[i]);return this.format(o||this.localeData().calendar(i,this,createLocal(r)))}function clone(){return new Moment(this)}function isAfter(e,t){var r=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!r.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())}function isBefore(e,t){var r=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!r.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())}function isBetween(e,t,r,n){return n=n||"()",("("===n[0]?this.isAfter(e,r):!this.isBefore(e,r))&&(")"===n[1]?this.isBefore(t,r):!this.isAfter(t,r))}function isSame(e,t){var r,n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&(t=normalizeUnits(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,r){var n,i,o,a;return this.isValid()?(n=cloneWithOffset(e,this),n.isValid()?(i=6e4*(n.utcOffset()-this.utcOffset()),t=normalizeUnits(t),"year"===t||"month"===t||"quarter"===t?(a=monthDiff(this,n),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-n,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),r?a:absFloor(a)):NaN):NaN}function monthDiff(e,t){var r,n,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(r=e.clone().add(i-1,"months"),n=(t-o)/(o-r)):(r=e.clone().add(i+1,"months"),n=(t-o)/(r-o)),-(i+n)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?formatMoment(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(t=getLocale(e),null!=t&&(this._locale=t),this)}function localeData(){return this._locale}function startOf(e){switch(e=normalizeUnits(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function endOf(e){return void 0===(e=normalizeUnits(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,r,n,i){var o;return null==e?weekOfYear(this,n,i).year:(o=weeksInYear(e,n,i),t>o&&(t=o),setWeekAll.call(this,e,t,r,n,i))}function setWeekAll(e,t,r,n,i){var o=dayOfYearFromWeeks(e,t,r,n,i),a=createUTCDate(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function parseMs(e,t){t[I]=toInt(1e3*("0."+e))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}function get$1(e,t,r,n){var i=getLocale(),o=createUTC().set(n,t);return i[r](o,e)}function listMonthsImpl(e,t,r){if(isNumber(e)&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=get$1(e,n,r,"month");return i}function listWeekdaysImpl(e,t,r,n){"boolean"==typeof e?(isNumber(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,isNumber(t)&&(r=t,t=void 0),t=t||"");var i=getLocale(),o=e?i._week.dow:0;if(null!=r)return get$1(t,(r+o)%7,n,"day");var a,s=[];for(a=0;a<7;a++)s[a]=get$1(t,(a+o)%7,n,"day");return s}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,r){return listWeekdaysImpl(e,t,r,"weekdays")}function listWeekdaysShort(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysShort")}function listWeekdaysMin(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysMin")}function abs(){var e=this._data;return this._milliseconds=ke(this._milliseconds),this._days=ke(this._days),this._months=ke(this._months),e.milliseconds=ke(e.milliseconds),e.seconds=ke(e.seconds),e.minutes=ke(e.minutes),e.hours=ke(e.hours),e.months=ke(e.months),e.years=ke(e.years),this}function addSubtract$1(e,t,r,n){var i=createDuration(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,r,n,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*absCeil(monthsToDays(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=absFloor(o/1e3),c.seconds=e%60,t=absFloor(e/60),c.minutes=t%60,r=absFloor(t/60),c.hours=r%24,a+=absFloor(r/24),i=absFloor(daysToMonths(a)),s+=i,a-=absCeil(monthsToDays(i)),n=absFloor(s/12),s%=12,c.days=a,c.months=s,c.years=n,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=normalizeUnits(e))||"year"===e)return t=this._days+n/864e5,r=this._months+daysToMonths(t),"month"===e?r:r/12;switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(e){return function(){return this.as(e)}}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function relativeTime$1(e,t,r){var n=createDuration(e).abs(),i=qe(n.as("s")),o=qe(n.as("m")),a=qe(n.as("h")),s=qe(n.as("d")),c=qe(n.as("M")),u=qe(n.as("y")),l=i<=Ue.ss&&["s",i]||i<Ue.s&&["ss",i]||o<=1&&["m"]||o<Ue.m&&["mm",o]||a<=1&&["h"]||a<Ue.h&&["hh",a]||s<=1&&["d"]||s<Ue.d&&["dd",s]||c<=1&&["M"]||c<Ue.M&&["MM",c]||u<=1&&["y"]||["yy",u];return l[2]=t,l[3]=+e>0,l[4]=r,substituteTimeAgo.apply(null,l)}function getSetRelativeTimeRounding(e){return void 0===e?qe:"function"==typeof e&&(qe=e,!0)}function getSetRelativeTimeThreshold(e,t){return void 0!==Ue[e]&&(void 0===t?Ue[e]:(Ue[e]=t,"s"===e&&(Ue.ss=t-1),!0))}function humanize(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=relativeTime$1(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n=He(this._milliseconds)/1e3,i=He(this._days),o=He(this._months);e=absFloor(n/60),t=absFloor(e/60),n%=60,e%=60,r=absFloor(o/12),o%=12;var a=r,s=o,c=i,u=t,l=e,f=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(u||l||f?"T":"")+(u?u+"H":"")+(l?l+"M":"")+(f?f+"S":""):"P0D"}var t,n;n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var i=n,o=hooks.momentProperties=[],a=!1,s={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var c;c=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)hasOwnProp(e,t)&&r.push(t);return r};var u,l=c,f={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},d={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},p={},y={},m=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,g=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,v={},b={},_=/[+-]?\d{6}/,w=/Z|[+-]\d\d:?\d\d/gi,E=/Z|[+-]\d\d(?::?\d\d)?/gi,S=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,k={},C={},x=0,P=1,R=2,O=3,A=4,M=5,I=6,T=7,D=8;u=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var j=u;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",/\d\d?/),addRegexToken("MM",/\d\d?/,/\d\d/),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[P]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[P]=i:getParsingFlags(r).invalidMonth=e});var N=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,L="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),B="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),F=S,q=S;addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",/[+-]?\d+/),addRegexToken("YY",/\d\d?/,/\d\d/),addRegexToken("YYYY",/\d{1,4}/,/\d{4}/),addRegexToken("YYYYY",/[+-]?\d{1,6}/,_),addRegexToken("YYYYYY",/[+-]?\d{1,6}/,_),addParseToken(["YYYYY","YYYYYY"],x),addParseToken("YYYY",function(e,t){t[x]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[x]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[x]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var U=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",/\d\d?/),addRegexToken("ww",/\d\d?/,/\d\d/),addRegexToken("W",/\d\d?/),addRegexToken("WW",/\d\d?/,/\d\d/),addWeekParseToken(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=toInt(e)});var H={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",/\d\d?/),addRegexToken("e",/\d\d?/),addRegexToken("E",/\d\d?/),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:getParsingFlags(r).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,r,n){t[n]=toInt(e)});var V="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),W="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),z="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),K=S,Y=S,X=S;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",/\d\d?/),addRegexToken("h",/\d\d?/),addRegexToken("k",/\d\d?/),addRegexToken("HH",/\d\d?/,/\d\d/),addRegexToken("hh",/\d\d?/,/\d\d/),addRegexToken("kk",/\d\d?/,/\d\d/),addRegexToken("hmm",/\d\d\d\d?/),addRegexToken("hmmss",/\d\d\d\d\d\d?/),addRegexToken("Hmm",/\d\d\d\d?/),addRegexToken("Hmmss",/\d\d\d\d\d\d?/),addParseToken(["H","HH"],O),addParseToken(["k","kk"],function(e,t,r){var n=toInt(e);t[O]=24===n?0:n}),addParseToken(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),addParseToken(["h","hh"],function(e,t,r){t[O]=toInt(e),getParsingFlags(r).bigHour=!0}),addParseToken("hmm",function(e,t,r){var n=e.length-2;t[O]=toInt(e.substr(0,n)),t[A]=toInt(e.substr(n)),getParsingFlags(r).bigHour=!0}),addParseToken("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[O]=toInt(e.substr(0,n)),t[A]=toInt(e.substr(n,2)),t[M]=toInt(e.substr(i)),getParsingFlags(r).bigHour=!0}),addParseToken("Hmm",function(e,t,r){var n=e.length-2;t[O]=toInt(e.substr(0,n)),t[A]=toInt(e.substr(n))}),addParseToken("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[O]=toInt(e.substr(0,n)),t[A]=toInt(e.substr(n,2)),t[M]=toInt(e.substr(i))});var G,J=makeGetSet("Hours",!0),$={calendar:f,longDateFormat:h,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:d,months:L,monthsShort:B,week:H,weekdays:V,weekdaysMin:z,weekdaysShort:W,meridiemParse:/[ap]\.?m?\.?/i},Q={},Z={},ee=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,te=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re=/Z|[+-]\d\d(?::?\d\d)?/,ne=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ie=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oe=/^\/?Date\((\-?\d+)/i,ae=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var se=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),ce=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()}),ue=function(){return Date.now?Date.now():+new Date},le=["year","quarter","month","week","day","hour","minute","second","millisecond"];offset("Z",":"),offset("ZZ",""),addRegexToken("Z",E),addRegexToken("ZZ",E),addParseToken(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=offsetFromString(E,e)});var fe=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var he=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,de=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var pe=createAdder(1,"add"),ye=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var me=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",/[+-]?\d+/),addRegexToken("g",/[+-]?\d+/),addRegexToken("GG",/\d\d?/,/\d\d/),addRegexToken("gg",/\d\d?/,/\d\d/),addRegexToken("GGGG",/\d{1,4}/,/\d{4}/),addRegexToken("gggg",/\d{1,4}/,/\d{4}/),addRegexToken("GGGGG",/[+-]?\d{1,6}/,_),addRegexToken("ggggg",/[+-]?\d{1,6}/,_),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,r,n){t[n]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",/\d/),addParseToken("Q",function(e,t){t[P]=3*(toInt(e)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",/\d\d?/),addRegexToken("DD",/\d\d?/,/\d\d/),addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],R),addParseToken("Do",function(e,t){t[R]=toInt(e.match(/\d\d?/)[0],10)});var ge=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",/\d{1,3}/),addRegexToken("DDDD",/\d{3}/),addParseToken(["DDD","DDDD"],function(e,t,r){r._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",/\d\d?/),addRegexToken("mm",/\d\d?/,/\d\d/),addParseToken(["m","mm"],A);var ve=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",/\d\d?/),addRegexToken("ss",/\d\d?/,/\d\d/),addParseToken(["s","ss"],M);var be=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",/\d{1,3}/,/\d/),addRegexToken("SS",/\d{1,3}/,/\d\d/),addRegexToken("SSS",/\d{1,3}/,/\d{3}/);var _e;for(_e="SSSS";_e.length<=9;_e+="S")addRegexToken(_e,/\d+/);for(_e="S";_e.length<=9;_e+="S")addParseToken(_e,parseMs);var we=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Ee=Moment.prototype;Ee.add=pe,Ee.calendar=calendar$1,Ee.clone=clone,Ee.diff=diff,Ee.endOf=endOf,Ee.format=format,Ee.from=from,Ee.fromNow=fromNow,Ee.to=to,Ee.toNow=toNow,Ee.get=stringGet,Ee.invalidAt=invalidAt,Ee.isAfter=isAfter,Ee.isBefore=isBefore,Ee.isBetween=isBetween,Ee.isSame=isSame,Ee.isSameOrAfter=isSameOrAfter,Ee.isSameOrBefore=isSameOrBefore,Ee.isValid=isValid$2,Ee.lang=me,Ee.locale=locale,Ee.localeData=localeData,Ee.max=ce,Ee.min=se,Ee.parsingFlags=parsingFlags,Ee.set=stringSet,Ee.startOf=startOf,Ee.subtract=ye,Ee.toArray=toArray,Ee.toObject=toObject,Ee.toDate=toDate,Ee.toISOString=toISOString,Ee.inspect=inspect,Ee.toJSON=toJSON,Ee.toString=toString,Ee.unix=unix,Ee.valueOf=valueOf,Ee.creationData=creationData,Ee.year=U,Ee.isLeapYear=getIsLeapYear,Ee.weekYear=getSetWeekYear,Ee.isoWeekYear=getSetISOWeekYear,Ee.quarter=Ee.quarters=getSetQuarter,Ee.month=getSetMonth,Ee.daysInMonth=getDaysInMonth,Ee.week=Ee.weeks=getSetWeek,Ee.isoWeek=Ee.isoWeeks=getSetISOWeek,Ee.weeksInYear=getWeeksInYear,Ee.isoWeeksInYear=getISOWeeksInYear,Ee.date=ge,Ee.day=Ee.days=getSetDayOfWeek,Ee.weekday=getSetLocaleDayOfWeek,Ee.isoWeekday=getSetISODayOfWeek,Ee.dayOfYear=getSetDayOfYear,Ee.hour=Ee.hours=J,Ee.minute=Ee.minutes=ve,Ee.second=Ee.seconds=be,Ee.millisecond=Ee.milliseconds=we,Ee.utcOffset=getSetOffset,Ee.utc=setOffsetToUTC,Ee.local=setOffsetToLocal,Ee.parseZone=setOffsetToParsedOffset,Ee.hasAlignedHourOffset=hasAlignedHourOffset,Ee.isDST=isDaylightSavingTime,Ee.isLocal=isLocal,Ee.isUtcOffset=isUtcOffset,Ee.isUtc=isUtc,Ee.isUTC=isUtc,Ee.zoneAbbr=getZoneAbbr,Ee.zoneName=getZoneName,Ee.dates=deprecate("dates accessor is deprecated. Use date instead.",ge),Ee.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Ee.years=deprecate("years accessor is deprecated. Use year instead",U),Ee.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),Ee.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var Se=Locale.prototype;Se.calendar=calendar,Se.longDateFormat=longDateFormat,Se.invalidDate=invalidDate,Se.ordinal=ordinal,Se.preparse=preParsePostFormat,Se.postformat=preParsePostFormat,Se.relativeTime=relativeTime,Se.pastFuture=pastFuture,Se.set=set,Se.months=localeMonths,Se.monthsShort=localeMonthsShort,Se.monthsParse=localeMonthsParse,Se.monthsRegex=monthsRegex,Se.monthsShortRegex=monthsShortRegex,Se.week=localeWeek,Se.firstDayOfYear=localeFirstDayOfYear,Se.firstDayOfWeek=localeFirstDayOfWeek,Se.weekdays=localeWeekdays,Se.weekdaysMin=localeWeekdaysMin,Se.weekdaysShort=localeWeekdaysShort,Se.weekdaysParse=localeWeekdaysParse,Se.weekdaysRegex=weekdaysRegex,Se.weekdaysShortRegex=weekdaysShortRegex,Se.weekdaysMinRegex=weekdaysMinRegex,Se.isPM=localeIsPM,Se.meridiem=localeMeridiem,getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var ke=Math.abs,Ce=makeAs("ms"),xe=makeAs("s"),Pe=makeAs("m"),Re=makeAs("h"),Oe=makeAs("d"),Ae=makeAs("w"),Me=makeAs("M"),Ie=makeAs("y"),Te=makeGetter("milliseconds"),De=makeGetter("seconds"),je=makeGetter("minutes"),Ne=makeGetter("hours"),Le=makeGetter("days"),Be=makeGetter("months"),Fe=makeGetter("years"),qe=Math.round,Ue={ss:44,s:45,m:45,h:22,d:26,M:11},He=Math.abs,Ve=Duration.prototype;return Ve.isValid=isValid$1,Ve.abs=abs,Ve.add=add$1,Ve.subtract=subtract$1,Ve.as=as,Ve.asMilliseconds=Ce,Ve.asSeconds=xe,Ve.asMinutes=Pe,Ve.asHours=Re,Ve.asDays=Oe,Ve.asWeeks=Ae,Ve.asMonths=Me,Ve.asYears=Ie,Ve.valueOf=valueOf$1,Ve._bubble=bubble,Ve.get=get$2,Ve.milliseconds=Te,Ve.seconds=De,Ve.minutes=je,Ve.hours=Ne,Ve.days=Le,Ve.weeks=weeks,Ve.months=Be,Ve.years=Fe,Ve.humanize=humanize,Ve.toISOString=toISOString$1,Ve.toString=toISOString$1,Ve.toJSON=toISOString$1,Ve.locale=locale,Ve.localeData=localeData,Ve.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),Ve.lang=me,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",/[+-]?\d+/),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,r){r._d=new Date(toInt(e))}),hooks.version="2.18.1",function(e){t=e}(createLocal),hooks.fn=Ee,hooks.min=min,hooks.max=max,hooks.now=ue,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=Ee,hooks})}).call(t,r(29)(e))},function(e,t,r){(function(t){function Hash(e,r){this._block=new t(e),this._finalSize=r,this._blockSize=e,this._len=0,this._s=0}Hash.prototype.update=function(e,r){"string"==typeof e&&(r=r||"utf8",e=new t(e,r));for(var n=this._len+=e.length,i=this._s||0,o=0,a=this._block;i<n;){for(var s=Math.min(e.length,o+this._blockSize-i%this._blockSize),c=s-o,u=0;u<c;u++)a[i%this._blockSize+u]=e[u+o];i+=c,o+=c,i%this._blockSize==0&&this._update(a)}return this._s=i,this},Hash.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var r=this._update(this._block)||this._hash();return e?r.toString(e):r},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=Hash}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function bind(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function slice(e,t){return Array.prototype.slice.call(e,t||0)}function each(e,t){pluck(e,function(e,r){return t(e,r),!1})}function map(e,t){var r=isList(e)?[]:{};return pluck(e,function(e,n){return r[n]=t(e,n),!1}),r}function pluck(e,t){if(isList(e)){for(var r=0;r<e.length;r++)if(t(e[r],r))return e[r]}else for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))return e[n]}function isList(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function isObject(e){return e&&"[object Object]"==={}.toString.call(e)}var r=function(){return Object.assign?Object.assign:function(e,t,r,n){for(var i=1;i<arguments.length;i++)each(Object(arguments[i]),function(t,r){e[r]=t});return e}}(),n=function(){function F(){}return Object.create?function(e,t,n,i){var o=slice(arguments,1);return r.apply(this,[Object.create(e)].concat(o))}:function(e,t,n,i){var o=slice(arguments,1);return F.prototype=e,r.apply(this,[new F].concat(o))}}(),i=function(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),o="undefined"!=typeof window?window:t;e.exports={assign:r,create:n,trim:i,bind:bind,slice:slice,each:each,map:map,pluck:pluck,isList:isList,isFunction:isFunction,isObject:isObject,Global:o}}).call(t,r(4))},function(e,t,r){(function(){var t,n,i,o,a,s,c,u,l,f,h={}.hasOwnProperty;f=r(17),l=r(78),u=r(579),a=null,t=null,n=null,i=null,o=null,s=null,c=null,e.exports=function(){function XMLNode(e){this.parent=e,this.options=this.parent.options,this.stringify=this.parent.stringify,null===a&&(a=r(232),t=r(228),n=r(229),i=r(230),o=r(231),s=r(657),c=r(659))}return XMLNode.prototype.element=function(e,t,r){var n,i,o,a,s,c,d,p,y,m;if(c=null,null==t&&(t={}),t=t.valueOf(),f(t)||(y=[t,r],r=y[0],t=y[1]),null!=e&&(e=e.valueOf()),Array.isArray(e))for(o=0,d=e.length;o<d;o++)i=e[o],c=this.element(i);else if(l(e))c=this.element(e.apply());else if(f(e)){for(s in e)if(h.call(e,s))if(m=e[s],l(m)&&(m=m.apply()),f(m)&&u(m)&&(m=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))c=this.attribute(s.substr(this.stringify.convertAttKey.length),m);else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===s.indexOf(this.stringify.convertPIKey))c=this.instruction(s.substr(this.stringify.convertPIKey.length),m);else if(!this.options.separateArrayItems&&Array.isArray(m))for(a=0,p=m.length;a<p;a++)i=m[a],n={},n[s]=i,c=this.element(n);else f(m)?(c=this.element(s),c.element(m)):c=this.element(s,m)}else c=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):this.node(e,t,r);if(null==c)throw new Error("Could not create any elements with: "+e);return c},XMLNode.prototype.insertBefore=function(e,t,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n},XMLNode.prototype.insertAfter=function(e,t,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n},XMLNode.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element");return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},XMLNode.prototype.node=function(e,t,r){var n,i;return null!=e&&(e=e.valueOf()),null==t&&(t={}),t=t.valueOf(),f(t)||(i=[t,r],r=i[0],t=i[1]),n=new a(this,e,t),null!=r&&n.text(r),this.children.push(n),n},XMLNode.prototype.text=function(e){var t;return t=new c(this,e),this.children.push(t),this},XMLNode.prototype.cdata=function(e){var r;return r=new t(this,e),this.children.push(r),this},XMLNode.prototype.comment=function(e){var t;return t=new n(this,e),this.children.push(t),this},XMLNode.prototype.raw=function(e){var t;return t=new s(this,e),this.children.push(t),this},XMLNode.prototype.declaration=function(e,t,r){var n,o;return n=this.document(),o=new i(n,e,t,r),n.xmldec=o,n.root()},XMLNode.prototype.doctype=function(e,t){var r,n;return r=this.document(),n=new o(r,e,t),r.doctype=n,n},XMLNode.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},XMLNode.prototype.root=function(){var e;if(this.isRoot)return this;for(e=this.parent;!e.isRoot;)e=e.parent;return e},XMLNode.prototype.document=function(){return this.root().documentObject},XMLNode.prototype.end=function(e){return this.document().toString(e)},XMLNode.prototype.prev=function(){var e;if(this.isRoot)throw new Error("Root node has no siblings");if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[e-1]},XMLNode.prototype.next=function(){var e;if(this.isRoot)throw new Error("Root node has no siblings");if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[e+1]},XMLNode.prototype.importXMLBuilder=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},XMLNode.prototype.ele=function(e,t,r){return this.element(e,t,r)},XMLNode.prototype.nod=function(e,t,r){return this.node(e,t,r)},XMLNode.prototype.txt=function(e){return this.text(e)},XMLNode.prototype.dat=function(e){return this.cdata(e)},XMLNode.prototype.com=function(e){return this.comment(e)},XMLNode.prototype.doc=function(){return this.document()},XMLNode.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},XMLNode.prototype.dtd=function(e,t){return this.doctype(e,t)},XMLNode.prototype.e=function(e,t,r){return this.element(e,t,r)},XMLNode.prototype.n=function(e,t,r){return this.node(e,t,r)},XMLNode.prototype.t=function(e){return this.text(e)},XMLNode.prototype.d=function(e){return this.cdata(e)},XMLNode.prototype.c=function(e){return this.comment(e)},XMLNode.prototype.r=function(e){return this.raw(e)},XMLNode.prototype.u=function(){return this.up()},XMLNode}()}).call(this)},function(e,t,r){var n=t;n.bignum=r(6),n.define=r(251).define,n.base=r(42),n.constants=r(127),n.decoders=r(255),n.encoders=r(257)},function(e,t,r){var n=t;n.Reporter=r(253).Reporter,n.DecoderBuffer=r(126).DecoderBuffer,n.EncoderBuffer=r(126).EncoderBuffer,n.Node=r(252)},function(e,t,r){function property(e,t,r){null!==r&&void 0!==r&&i.property.apply(this,arguments)}function memoizedProperty(e,t){e.constructor.prototype[t]||i.memoizedProperty.apply(this,arguments)}function Shape(e,t,r){t=t||{},property(this,"shape",e.shape),property(this,"api",t.api,!1),property(this,"type",e.type),property(this,"enum",e.enum),property(this,"min",e.min),property(this,"max",e.max),property(this,"pattern",e.pattern),property(this,"location",e.location||this.location||"body"),property(this,"name",this.name||e.xmlName||e.queryName||e.locationName||r),property(this,"isStreaming",e.streaming||this.isStreaming||!1),property(this,"isComposite",e.isComposite||!1),property(this,"isShape",!0,!1),property(this,"isQueryName",Boolean(e.queryName),!1),property(this,"isLocationName",Boolean(e.locationName),!1),property(this,"isIdempotent",!0===e.idempotencyToken),property(this,"isJsonValue",!0===e.jsonvalue),t.documentation&&(property(this,"documentation",e.documentation),property(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&property(this,"isXmlAttribute",e.xmlAttribute||!1),property(this,"defaultValue",null),this.toWireFormat=function(e){return null===e||void 0===e?"":e},this.toType=function(e){return e}}function CompositeShape(e){Shape.apply(this,arguments),property(this,"isComposite",!0),e.flattened&&property(this,"flattened",e.flattened||!1)}function StructureShape(e,t){var r=null,i=!this.isShape;CompositeShape.apply(this,arguments),i&&(property(this,"defaultValue",function(){return{}}),property(this,"members",{}),property(this,"memberNames",[]),property(this,"required",[]),property(this,"isRequired",function(){return!1})),e.members&&(property(this,"members",new n(e.members,t,function(e,r){return Shape.create(r,t,e)})),memoizedProperty(this,"memberNames",function(){return e.xmlOrder||Object.keys(e.members)})),e.required&&(property(this,"required",e.required),property(this,"isRequired",function(t){if(!r){r={};for(var n=0;n<e.required.length;n++)r[e.required[n]]=!0}return r[t]},!1,!0)),property(this,"resultWrapper",e.resultWrapper||null),e.payload&&property(this,"payload",e.payload),"string"==typeof e.xmlNamespace?property(this,"xmlNamespaceUri",e.xmlNamespace):"object"==typeof e.xmlNamespace&&(property(this,"xmlNamespacePrefix",e.xmlNamespace.prefix),property(this,"xmlNamespaceUri",e.xmlNamespace.uri))}function ListShape(e,t){var r=this,n=!this.isShape;if(CompositeShape.apply(this,arguments),n&&property(this,"defaultValue",function(){return[]}),e.member&&memoizedProperty(this,"member",function(){return Shape.create(e.member,t)}),this.flattened){var i=this.name;memoizedProperty(this,"name",function(){return r.member.name||i})}}function MapShape(e,t){var r=!this.isShape;CompositeShape.apply(this,arguments),r&&(property(this,"defaultValue",function(){return{}}),property(this,"key",Shape.create({type:"string"},t)),property(this,"value",Shape.create({type:"string"},t))),e.key&&memoizedProperty(this,"key",function(){return Shape.create(e.key,t)}),e.value&&memoizedProperty(this,"value",function(){return Shape.create(e.value,t)})}function TimestampShape(e){var t=this;if(Shape.apply(this,arguments),"header"===this.location)property(this,"timestampFormat","rfc822");else if(e.timestampFormat)property(this,"timestampFormat",e.timestampFormat);else if(this.api)if(this.api.timestampFormat)property(this,"timestampFormat",this.api.timestampFormat);else switch(this.api.protocol){case"json":case"rest-json":property(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":property(this,"timestampFormat","iso8601")}this.toType=function(e){return null===e||void 0===e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?i.date.parseTimestamp(e):null},this.toWireFormat=function(e){return i.date.format(e,t.timestampFormat)}}function StringShape(){Shape.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function FloatShape(){Shape.apply(this,arguments),this.toType=function(e){return null===e||void 0===e?null:parseFloat(e)},this.toWireFormat=this.toType}function IntegerShape(){Shape.apply(this,arguments),this.toType=function(e){return null===e||void 0===e?null:parseInt(e,10)},this.toWireFormat=this.toType}function BinaryShape(){Shape.apply(this,arguments),this.toType=i.base64.decode,this.toWireFormat=i.base64.encode}function Base64Shape(){BinaryShape.apply(this,arguments)}function BooleanShape(){Shape.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null===e||void 0===e?null:"true"===e}}var n=r(135),i=r(5);Shape.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},Shape.types={structure:StructureShape,list:ListShape,map:MapShape,boolean:BooleanShape,timestamp:TimestampShape,float:FloatShape,integer:IntegerShape,string:StringShape,base64:Base64Shape,binary:BinaryShape},Shape.resolve=function(e,t){if(e.shape){var r=t.api.shapes[e.shape];if(!r)throw new Error("Cannot find shape reference: "+e.shape);return r}return null},Shape.create=function(e,t,r){if(e.isShape)return e;var n=Shape.resolve(e,t);if(n){var i=Object.keys(e);if(t.documentation||(i=i.filter(function(e){return!e.match(/documentation/)})),i===["shape"])return n;var o=function(){n.constructor.call(this,e,t,r)};return o.prototype=n,new o}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(Shape.normalizedTypes[e.type]&&(e.type=Shape.normalizedTypes[e.type]),Shape.types[e.type])return new Shape.types[e.type](e,t,r);throw new Error("Unrecognized shape type: "+a)},Shape.shapes={StructureShape:StructureShape,ListShape:ListShape,MapShape:MapShape,StringShape:StringShape,BooleanShape:BooleanShape,Base64Shape:Base64Shape},e.exports=Shape},function(e,t,r){(function(t){e.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new t(n),o=0;o<n;++o)i[o]=e[o]^r[o];return i}}).call(t,r(0).Buffer)},function(e,t,r){(function(e){function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return"[object Date]"===objectToString(e)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=e.isBuffer}).call(t,r(0).Buffer)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(158);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Extractable=void 0;var n=r(90);t.Extractable=function(e){function Extractable(){return _classCallCheck(this,Extractable),_possibleConstructorReturn(this,(Extractable.__proto__||Object.getPrototypeOf(Extractable)).call(this,["extract"]))}return _inherits(Extractable,e),Extractable}(n.Interface)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=_interopRequireDefault(i),a=r(27),s=_interopRequireDefault(a);t.AbstractDriver=function(e){function AbstractDriver(){return _classCallCheck(this,AbstractDriver),_possibleConstructorReturn(this,(AbstractDriver.__proto__||Object.getPrototypeOf(AbstractDriver)).call(this,["log"]))}return _inherits(AbstractDriver,e),n(AbstractDriver,null,[{key:"plainifyContext",value:function(e){let t=typeof e;return"object"===t?JSON.stringify(e):e instanceof Object?`${t}: ${e.toString()}`:e.toString()}},{key:"_md5",value:function(e){return s.default.createHash("md5").update(e).digest("hex")}},{key:"datetime",get:function(){return(new Date).toISOString()}},{key:"timeString",get:function(){return(new Date).toTimeString()}}]),AbstractDriver}(o.default.OOP.Interface)},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,r,n,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(r=this._events[e],isUndefined(r))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(isObject(r))for(i=Array.prototype.slice.call(arguments,1),a=r.slice(),n=a.length,o=0;o<n;o++)a[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(r=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),r||(r=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var r,n,i,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],isFunction(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){var n=r(9),i=r(52),o={any:null,date:r(104),string:r(186),number:r(184),boolean:r(183),alt:null,object:null};t.schema=function(e){return o.any=o.any||new(r(13)),o.alt=o.alt||r(103),o.object=o.object||r(185),e&&"object"==typeof e?e.isJoi?e:Array.isArray(e)?o.alt.try(e):e instanceof RegExp?o.string.regex(e):e instanceof Date?o.date.valid(e):o.object.keys(e):"string"==typeof e?o.string.valid(e):"number"==typeof e?o.number.valid(e):"boolean"==typeof e?o.boolean.valid(e):i.isRef(e)?o.any.valid(e):(n.assert(null===e,"Invalid schema content:",e),o.any.valid(null))},t.ref=function(e){return i.isRef(e)?e:i.create(e)}},function(e,t,r){var n=r(9);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);var r=n.clone(t),i=function(e,t){return n.reach(i.isContext?t.context:e,i.key,r)};return i.isContext=e[0]===(r&&r.contextPrefix||"$"),i.key=i.isContext?e.slice(1):e,i.path=i.key.split(r&&r.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,r){t.isRef(r)&&!r.isContext&&e.push(r.root)}},function(e,t,r){function baseGetTag(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}var n=r(72),i=r(535),o=r(560),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=baseGetTag},function(e,t,r){function isArrayLike(e){return null!=e&&i(e.length)&&!n(e)}var n=r(78),i=r(113);e.exports=isArrayLike},function(e,t){function isObjectLike(e){return null!=e&&"object"==typeof e}e.exports=isObjectLike},function(e,t,r){function keys(e){return o(e)?n(e):i(e)}var n=r(499),i=r(192),o=r(54);e.exports=keys},function(e,t,r){(function(e){function normalizeArray(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var i=n>=0?arguments[n]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,r="/"===i.charAt(0))}return t=normalizeArray(filter(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),n="/"===i(e,-1);return e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(filter(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=trim(e.split("/")),i=trim(r.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}for(var c=[],s=a;s<n.length;s++)c.push("..");return c=c.concat(i.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=n(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},t.basename=function(e,t){var r=n(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return n(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(7))},function(e,t,r){"use strict";(function(t,r,n){function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(e,o){if(e>65536)throw new Error("requested too many random bytes");var a=new t.Uint8Array(e);e>0&&i.getRandomValues(a);var s=new r(a.buffer);return"function"==typeof o?n.nextTick(function(){o(null,s)}):s}var i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=randomBytes:e.exports=oldBrowser}).call(t,r(4),r(0).Buffer,r(7))},function(e,t,r){r(31);var n=r(1),i=r(32),o=r(30);o.services.sts={},n.STS=i.defineService("sts",["2011-06-15"]),r(291),Object.defineProperty(o.services.sts,"2011-06-15",{get:function(){return r(269)},enumerable:!0,configurable:!0}),e.exports=n.STS},function(e,t,r){function populateMethod(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod}function generateURI(e,t,r,i){var o=[e,t].join("/");o=o.replace(/\/+/g,"/");var a={},s=!1;if(n.each(r.members,function(e,t){var r=i[e];if(null!==r&&void 0!==r)if("uri"===t.location){var c=new RegExp("\\{"+t.name+"(\\+)?\\}");o=o.replace(c,function(e,t){return(t?n.uriEscapePath:n.uriEscape)(String(r))})}else"querystring"===t.location&&(s=!0,"list"===t.type?a[t.name]=r.map(function(e){return n.uriEscape(String(e))}):"map"===t.type?n.each(r,function(e,t){Array.isArray(t)?a[e]=t.map(function(e){return n.uriEscape(String(e))}):a[e]=n.uriEscape(String(t))}):a[t.name]=n.uriEscape(String(r)))}),s){o+=o.indexOf("?")>=0?"&":"?";var c=[];n.arrayEach(Object.keys(a).sort(),function(e){Array.isArray(a[e])||(a[e]=[a[e]]);for(var t=0;t<a[e].length;t++)c.push(n.uriEscape(String(e))+"="+a[e][t])}),o+=c.join("&")}return o}function populateURI(e){var t=e.service.api.operations[e.operation],r=t.input,n=generateURI(e.httpRequest.endpoint.path,t.httpPath,r,e.params);e.httpRequest.path=n}function populateHeaders(e){var t=e.service.api.operations[e.operation];n.each(t.input.members,function(t,r){var i=e.params[t];null!==i&&void 0!==i&&("headers"===r.location&&"map"===r.type?n.each(i,function(t,n){e.httpRequest.headers[r.name+t]=n}):"header"===r.location&&(i=r.toWireFormat(i).toString(),r.isJsonValue&&(i=n.base64.encode(i)),e.httpRequest.headers[r.name]=i))})}function buildRequest(e){populateMethod(e),populateURI(e),populateHeaders(e)}function extractError(){}function extractData(e){var t=e.request,r={},i=e.httpResponse,o=t.service.api.operations[t.operation],a=o.output,s={};n.each(i.headers,function(e,t){s[e.toLowerCase()]=t}),n.each(a.members,function(e,t){var o=(t.name||e).toLowerCase();if("headers"===t.location&&"map"===t.type){r[e]={};var a=t.isLocationName?t.name:"",c=new RegExp("^"+a+"(.+)","i");n.each(i.headers,function(t,n){var i=t.match(c);null!==i&&(r[e][i[1]]=n)})}else if("header"===t.location){if(void 0!==s[o]){var u=t.isJsonValue?n.base64.decode(s[o]):s[o];r[e]=t.toType(u)}}else"statusCode"===t.location&&(r[e]=parseInt(i.statusCode,10))}),e.data=r}var n=r(5);e.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData,generateURI:generateURI}},function(e,t,r){(function(e){function fixup_uint32(e){var t;return e>r||e<0?(t=Math.abs(e)%r,e<0?r-t:t):e}function scrub_vec(e){for(;0<e.length;e++)e[0]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(e){for(var t=e.length/4,r=new Array(t),n=-1;++n<t;)r[n]=e.readUInt32BE(4*n);return r}function AES(e){this._key=bufferToArray(e),this._doReset()}var r=Math.pow(2,32);Global.prototype.init=function(){var e,t,r,n,i,o,a,s,c,u;for(e=function(){var e,r;for(r=[],t=e=0;e<256;t=++e)t<128?r.push(t<<1):r.push(t<<1^283);return r}(),i=0,c=0,t=u=0;u<256;t=++u)r=c^c<<1^c<<2^c<<3^c<<4,r=r>>>8^255&r^99,this.SBOX[i]=r,this.INV_SBOX[r]=i,o=e[i],a=e[o],s=e[a],n=257*e[r]^16843008*r,this.SUB_MIX[0][i]=n<<24|n>>>8,this.SUB_MIX[1][i]=n<<16|n>>>16,this.SUB_MIX[2][i]=n<<8|n>>>24,this.SUB_MIX[3][i]=n,n=16843009*s^65537*a^257*o^16843008*i,this.INV_SUB_MIX[0][r]=n<<24|n>>>8,this.INV_SUB_MIX[1][r]=n<<16|n>>>16,this.INV_SUB_MIX[2][r]=n<<8|n>>>24,this.INV_SUB_MIX[3][r]=n,0===i?i=c=1:(i=o^e[e[e[s^o]]],c^=e[e[c]]);return!0};var n=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var e,t,r,i,o,a;for(r=this._key,t=r.length,this._nRounds=t+6,o=4*(this._nRounds+1),this._keySchedule=[],i=0;i<o;i++)this._keySchedule[i]=i<t?r[i]:(a=this._keySchedule[i-1],i%t==0?(a=a<<8|a>>>24,a=n.SBOX[a>>>24]<<24|n.SBOX[a>>>16&255]<<16|n.SBOX[a>>>8&255]<<8|n.SBOX[255&a],a^=n.RCON[i/t|0]<<24):t>6&&i%t==4&&(a=n.SBOX[a>>>24]<<24|n.SBOX[a>>>16&255]<<16|n.SBOX[a>>>8&255]<<8|n.SBOX[255&a]),this._keySchedule[i-t]^a);for(this._invKeySchedule=[],e=0;e<o;e++)i=o-e,a=this._keySchedule[i-(e%4?0:4)],this._invKeySchedule[e]=e<4||i<=4?a:n.INV_SUB_MIX[0][n.SBOX[a>>>24]]^n.INV_SUB_MIX[1][n.SBOX[a>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[a>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[255&a]];return!0},AES.prototype.encryptBlock=function(t){t=bufferToArray(new e(t));var r=this._doCryptBlock(t,this._keySchedule,n.SUB_MIX,n.SBOX),i=new e(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[1],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[3],12),i},AES.prototype.decryptBlock=function(t){t=bufferToArray(new e(t));var r=[t[3],t[1]];t[1]=r[0],t[3]=r[1];var i=this._doCryptBlock(t,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX),o=new e(16);return o.writeUInt32BE(i[0],0),o.writeUInt32BE(i[3],4),o.writeUInt32BE(i[2],8),o.writeUInt32BE(i[1],12),o},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(e,t,r,n){var i,o,a,s,c,u,l,f,h;o=e[0]^t[0],a=e[1]^t[1],s=e[2]^t[2],c=e[3]^t[3],i=4;for(var d=1;d<this._nRounds;d++)u=r[0][o>>>24]^r[1][a>>>16&255]^r[2][s>>>8&255]^r[3][255&c]^t[i++],l=r[0][a>>>24]^r[1][s>>>16&255]^r[2][c>>>8&255]^r[3][255&o]^t[i++],f=r[0][s>>>24]^r[1][c>>>16&255]^r[2][o>>>8&255]^r[3][255&a]^t[i++],h=r[0][c>>>24]^r[1][o>>>16&255]^r[2][a>>>8&255]^r[3][255&s]^t[i++],o=u,a=l,s=f,c=h;return u=(n[o>>>24]<<24|n[a>>>16&255]<<16|n[s>>>8&255]<<8|n[255&c])^t[i++],l=(n[a>>>24]<<24|n[s>>>16&255]<<16|n[c>>>8&255]<<8|n[255&o])^t[i++],f=(n[s>>>24]<<24|n[c>>>16&255]<<16|n[o>>>8&255]<<8|n[255&a])^t[i++],h=(n[c>>>24]<<24|n[o>>>16&255]<<16|n[a>>>8&255]<<8|n[255&s])^t[i++],[fixup_uint32(u),fixup_uint32(l),fixup_uint32(f),fixup_uint32(h)]},t.AES=AES}).call(t,r(0).Buffer)},function(e,t){t["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},t["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},t["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},t["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},t["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},t["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},t.aes128=t["aes-128-cbc"],t.aes192=t["aes-192-cbc"],t.aes256=t["aes-256-cbc"],t["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},t["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},t["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},t["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},t["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},t["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},t["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},t["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},t["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},t["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},t["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},t["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},t["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},t["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},t["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},t["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},t["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},t["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},function(e,t,r){(function(e){function incr32(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}function getBlock(e){var t=e._cipher.encryptBlock(e._prev);return incr32(e._prev),t}var n=r(44);t.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=e.concat([t._cache,getBlock(t)]);var i=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),n(r,i)}}).call(t,r(0).Buffer)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(331),s=r(332),c=r(329);t.AbstractDriver=function(e){function AbstractDriver(){_classCallCheck(this,AbstractDriver);var e=_possibleConstructorReturn(this,(AbstractDriver.__proto__||Object.getPrototypeOf(AbstractDriver)).call(this,["_get","_has","_set","_invalidate","_type"]));return e._buildId="",e._namespace="",e._silent=!1,e}return _inherits(AbstractDriver,e),n(AbstractDriver,[{key:"has",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{this._has(this._buildKey(e),t)}catch(e){t(new c.DriverException(e),null)}return this}},{key:"get",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{this.has(e,(r,n)=>{if(r)return void t(new c.DriverException(r),null);if(!n&&!this._silent)return void t(new a.MissingCacheException(e),null);this._get(this._buildKey(e),t)})}catch(e){t(new c.DriverException(e),null)}return this}},{key:"set",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};try{this._set(this._buildKey(e),t,r,n)}catch(e){n(new c.DriverException(e),null)}return this}},{key:"invalidate",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};try{this.has(e,(n,i)=>{if(n)return void r(new c.DriverException(n),null);if(!i)return void r(null,!0);this._invalidate(this._buildKey(e),t,r)})}catch(e){r(new c.DriverException(e),null)}return this}},{key:"flush",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};try{this._flush(e)}catch(t){e(new c.DriverException(t),null)}return this}},{key:"type",value:function(){return this._type()}},{key:"_flush",value:function(){throw new s.NoFlushException}},{key:"_buildKey",value:function(e){return`${this._buildId}:${this._namespace}#${e}`}},{key:"_getKeyBuildId",value:function(e){if(this.isDeepKey(e)){let t=e.match(/^([^:])+:/);return t[1]}return null}},{key:"isDeepKey",value:function(e){return/.+:.*#.+/.test(e)}},{key:"buildId",get:function(){return this._buildId},set:function(e){this._buildId=e}},{key:"namespace",get:function(){return this._namespace},set:function(e){this._namespace=e}},{key:"silent",set:function(e){this._silent=e},get:function(){return this._silent}}]),AbstractDriver}(o.default.OOP.Interface)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Policy=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(47),o=r(88),a=r(162);t.Policy=function(e){function Policy(){_classCallCheck(this,Policy);var e=_possibleConstructorReturn(this,(Policy.__proto__||Object.getPrototypeOf(Policy)).call(this));return e._version=Policy.DEFAULT_VERSION,e._statement=new o.Collection(a.Statement),e}return _inherits(Policy,e),n(Policy,[{key:"extract",value:function(){return{Version:this._version,Statement:this._statement.extract()}}},{key:"toString",value:function(){return JSON.stringify(this.extract())}},{key:"version",set:function(e){this._version=e},get:function(){return this._version}},{key:"statement",get:function(){return this._statement}}],[{key:"ANY",get:function(){return"*"}},{key:"DEFAULT_VERSION",get:function(){return"2012-10-17"}}]),Policy}(i.Extractable)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=_interopRequireDefault(i),a=r(3),s=_interopRequireDefault(a),c=r(378),u=r(390),l=r(389),f=r(391),h=r(49);t.Log=function(e){function Log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Log);var t=_possibleConstructorReturn(this,(Log.__proto__||Object.getPrototypeOf(Log)).call(this));t._drivers=new s.default.Generic.ObjectStorage;for(let r in e)e.hasOwnProperty(r)&&t.register(r,e[r]);return t}return _inherits(Log,e),n(Log,[{key:"boot",value:function(e,t){let r=e.config.globals,n=r.logDrivers||{};n.hasOwnProperty("console")||e.env===o.default.PROD_ENVIRONMENT||(n.console={});for(let e in n)n.hasOwnProperty(e)&&this.register(e,n[e]);t()}},{key:"create",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];switch(e.toLowerCase()){case"console":t=new(Function.prototype.bind.apply(c.ConsoleDriver,[null].concat(n)));break;case"raven":case"sentry":let r=this.container.get(o.default.CONTEXT).isFrontend?l.RavenBrowserDriver:u.RavenDriver;t=new r(n.length>0&&"object"==typeof n[0]?n[0].dsn:null);break;case"rum":let i=this.kernel.config.hasOwnProperty("rumQueue")?this.kernel.config.rumQueue.url:"",a=!!(n.length>0&&n[0]&&"object"==typeof n[0])&&n[0].enabled;t=new f.RumSqsDriver(i,this.kernel,a);break;default:throw new s.default.Exception.InvalidArgumentException(e,"[Console, Raven, Sentry, RUM]")}return t}},{key:"overrideJsConsole",value:function(){var e;let t=this._drivers.find(c.ConsoleDriver);return t||this.register("console"),(e=t||this._drivers.find(c.ConsoleDriver)).overrideNative.apply(e,arguments),this}},{key:"register",value:function(e){if("string"==typeof e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e=this.create.apply(this,[e].concat(r))}if(!(e instanceof h.AbstractDriver))throw new s.default.Exception.InvalidArgumentException(e,"AbstractDriver");return this._drivers.add(e),this}},{key:"log",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Log.INFO,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.drivers.iterator;for(let i in n)if(n.hasOwnProperty(i)){let o=n[i];o instanceof f.RumSqsDriver||o.log(e,t,r)}return this}},{key:"isRumEnabled",value:function(){let e=this.rumDriver();return e&&e.enabled}},{key:"rumLog",value:function(e){let t=this.rumDriver();t&&t.log(e,(t,r)=>{t&&this.log(t,Log.ERROR,e)})}},{key:"rumFlush",value:function(e){let t=this.rumDriver();if(!t)return void e(null,null);t.flush((t,r)=>{t&&this.log(t,Log.ERROR);e(t,r)})}},{key:"rumDriver",value:function(){return this.drivers.find(f.RumSqsDriver)}},{key:"debug",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.DEBUG,t)}},{key:"err",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.ERROR,t)}},{key:"error",value:function(){return this.err.apply(this,arguments)}},{key:"info",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.INFO,t)}},{key:"warn",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.WARNING,t)}},{key:"warning",value:function(){return this.warn.apply(this,arguments)}},{key:"emerg",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.EMERGENCY,t)}},{key:"emergency",value:function(){return this.emerg.apply(this,arguments)}},{key:"crit",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.CRITICAL,t)}},{key:"critical",value:function(){return this.crit.apply(this,arguments)}},{key:"notice",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.NOTICE,t)}},{key:"alert",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(e,Log.ALERT,t)}},{key:"drivers",get:function(){return this._drivers}}],[{key:"LEVELS",get:function(){return[Log.EMERGENCY,Log.ALERT,Log.CRITICAL,Log.ERROR,Log.WARNING,Log.NOTICE,Log.INFO,Log.DEBUG]}},{key:"EMERGENCY",get:function(){return"emergency"}},{key:"ALERT",get:function(){return"alert"}},{key:"CRITICAL",get:function(){return"critical"}},{key:"ERROR",get:function(){return"error"}},{key:"WARNING",get:function(){return"warning"}},{key:"NOTICE",get:function(){return"notice"}},{key:"INFO",get:function(){return"info"}},{key:"DEBUG",get:function(){return"debug"}}]),Log}(o.default.ContainerAware)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractStrategy=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.AbstractStrategy=function(e){function AbstractStrategy(){return _classCallCheck(this,AbstractStrategy),_possibleConstructorReturn(this,(AbstractStrategy.__proto__||Object.getPrototypeOf(AbstractStrategy)).call(this,["onSuccess","onError"]))}return _inherits(AbstractStrategy,e),n(AbstractStrategy,[{key:"decide",value:function(e){return this[e.isError?"onError":"onSuccess"](e)}}]),AbstractStrategy}(o.default.OOP.Interface)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){"use strict";var n=t;n.base=r(459),n.short=r(462),n.mont=r(461),n.edwards=r(460)},function(e,t,r){(function(t){function EVP_BytesToKey(e,r,i,o){t.isBuffer(e)||(e=new t(e,"binary")),r&&!t.isBuffer(r)&&(r=new t(r,"binary")),i/=8,o=o||0;for(var a,s,c=0,u=0,l=new t(i),f=new t(o),h=0,d=[];;){if(h++>0&&d.push(a),d.push(e),r&&d.push(r),a=n(t.concat(d)),d=[],s=0,i>0)for(;;){if(0===i)break;if(s===a.length)break;l[c++]=a[s],i--,s++}if(o>0&&s!==a.length)for(;;){if(0===o)break;if(s===a.length)break;f[u++]=a[s],o--,s++}if(0===i&&0===o)break}for(s=0;s<a.length;s++)a[s]=0;return{key:l,iv:f}}var n=r(155);e.exports=EVP_BytesToKey}).call(t,r(0).Buffer)},function(e,t,r){function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var n=r(546),i=r(547),o=r(548),a=r(549),s=r(550);ListCache.prototype.clear=n,ListCache.prototype.delete=i,ListCache.prototype.get=o,ListCache.prototype.has=a,ListCache.prototype.set=s,e.exports=ListCache},function(e,t,r){var n=r(19),i=n.Symbol;e.exports=i},function(e,t,r){function assocIndexOf(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}var n=r(77);e.exports=assocIndexOf},function(e,t,r){function getMapData(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}var n=r(544);e.exports=getMapData},function(e,t,r){var n=r(25),i=n(Object,"create");e.exports=i},function(e,t,r){function toKey(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var n=r(114),i=1/0;e.exports=toKey},function(e,t){function eq(e,t){return e===t||e!==e&&t!==t}e.exports=eq},function(e,t,r){function isFunction(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==c}var n=r(53),i=r(17),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=isFunction},function(e,t,r){(function(t){function parseKeys(e){var r;"object"!=typeof e||t.isBuffer(e)||(r=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var i,a,s=o(e,r),c=s.tag,u=s.data;switch(c){case"CERTIFICATE":a=n.certificate.decode(u,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=n.PublicKey.decode(u,"der")),i=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=n.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+c);case"ENCRYPTED PRIVATE KEY":u=n.EncryptedPrivateKey.decode(u,"der"),u=decrypt(u,r);case"PRIVATE KEY":switch(a=n.PrivateKey.decode(u,"der"),i=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:n.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=n.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+c);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(u,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(u,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(u,"der")};case"EC PRIVATE KEY":return u=n.ECPrivateKey.decode(u,"der"),{curve:u.parameters.value,privateKey:u.privateKey};default:throw new Error("unknown key type "+c)}}function decrypt(e,r){var n=e.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(c.split("-")[1],10)/8,h=s.pbkdf2Sync(r,n,o,f),d=a.createDecipheriv(c,h,u),p=[];return p.push(d.update(l)),p.push(d.final()),t.concat(p)}var n=r(590),i=r(589),o=r(592),a=r(83),s=r(211);e.exports=parseKeys,parseKeys.signature=n.signature}).call(t,r(0).Buffer)},function(e,t,r){function JsonBuilder(){}function translate(e,t){if(t&&void 0!==e&&null!==e)switch(t.type){case"structure":return translateStructure(e,t);case"map":return translateMap(e,t);case"list":return translateList(e,t);default:return translateScalar(e,t)}}function translateStructure(e,t){var r={};return n.each(e,function(e,n){var i=t.members[e];if(i){if("body"!==i.location)return;var o=i.isLocationName?i.name:e,a=translate(n,i);void 0!==a&&(r[o]=a)}}),r}function translateList(e,t){var r=[];return n.arrayEach(e,function(e){var n=translate(e,t.member);void 0!==n&&r.push(n)}),r}function translateMap(e,t){var r={};return n.each(e,function(e,n){var i=translate(n,t.value);void 0!==i&&(r[e]=i)}),r}function translateScalar(e,t){return t.toWireFormat(e)}var n=r(5);JsonBuilder.prototype.build=function(e,t){return JSON.stringify(translate(e,t))},e.exports=JsonBuilder},function(e,t,r){function JsonParser(){}function translate(e,t){if(t&&void 0!==e)switch(t.type){case"structure":return translateStructure(e,t);case"map":return translateMap(e,t);case"list":return translateList(e,t);default:return translateScalar(e,t)}}function translateStructure(e,t){if(null!=e){var r={},i=t.members;return n.each(i,function(t,n){var i=n.isLocationName?n.name:t;if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i],a=translate(o,n);void 0!==a&&(r[t]=a)}}),r}}function translateList(e,t){if(null!=e){var r=[];return n.arrayEach(e,function(e){var n=translate(e,t.member);void 0===n?r.push(null):r.push(n)}),r}}function translateMap(e,t){if(null!=e){var r={};return n.each(e,function(e,n){var i=translate(n,t.value);r[e]=void 0===i?null:i}),r}}function translateScalar(e,t){return t.toType(e)}var n=r(5);JsonParser.prototype.parse=function(e,t){return translate(JSON.parse(e),t)},e.exports=JsonParser},function(e,t,r){function buildRequest(e){var t=e.httpRequest,r=e.service.api,n=r.targetPrefix+"."+r.operations[e.operation].name,o=r.jsonVersion||"1.0",a=r.operations[e.operation].input,s=new i;1===o&&(o="1.0"),t.body=s.build(e.params||{},a),t.headers["Content-Type"]="application/x-amz-json-"+o,t.headers["X-Amz-Target"]=n}function extractError(e){var t={},r=e.httpResponse;if(t.code=r.headers["x-amzn-errortype"]||"UnknownError","string"==typeof t.code&&(t.code=t.code.split(":")[0]),r.body.length>0)try{var i=JSON.parse(r.body.toString());(i.__type||i.code)&&(t.code=(i.__type||i.code).split("#").pop()),"RequestEntityTooLarge"===t.code?t.message="Request body must be less than 1 MB":t.message=i.message||i.Message||null}catch(i){t.statusCode=r.statusCode,t.message=r.statusMessage}else t.statusCode=r.statusCode,t.message=r.statusCode.toString();e.error=n.error(new Error,t)}function extractData(e){var t=e.httpResponse.body.toString()||"{}";if(!1===e.request.service.config.convertResponseTypes)e.data=JSON.parse(t);else{var r=e.request.service.api.operations[e.request.operation],n=r.output||{},i=new o;e.data=i.parse(t,n)}}var n=r(5),i=r(80),o=r(81);e.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(e,t,r){function getCiphers(){return Object.keys(o)}var n=r(307);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv;var i=r(306);t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv;var o=r(62);t.listCiphers=t.getCiphers=getCiphers},function(e,t,r){(function(t){function blind(e){var t=getr(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function crt(e,r){var i=blind(r),o=r.modulus.byteLength(),a=(n.mont(r.modulus),new n(e).mul(i.blinder).umod(r.modulus)),s=a.toRed(n.mont(r.prime1)),c=a.toRed(n.mont(r.prime2)),u=r.coefficient,l=r.prime1,f=r.prime2,h=s.redPow(r.exponent1),d=c.redPow(r.exponent2);h=h.fromRed(),d=d.fromRed();var p=h.isub(d).imul(u).umod(l);return p.imul(f),d.iadd(p),new t(d.imul(i.unblinder).umod(r.modulus).toArray(!1,o))}function getr(e){for(var t=e.modulus.byteLength(),r=new n(i(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(i(t));return r}var n=r(6),i=r(58);e.exports=crt,crt.getr=getr}).call(t,r(0).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(0),i=n.Buffer,o=n.SlowBuffer,a=n.kMaxLength||2147483647;t.alloc=function(e,t,r){if("function"==typeof i.alloc)return i.alloc(e,t,r);if("number"==typeof r)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");var n=r,o=t;void 0===o&&(n=void 0,o=0);var s=new i(e);if("string"==typeof o)for(var c=new i(o,n),u=c.length,l=-1;++l<e;)s[l]=c[l%u];else s.fill(o);return s},t.allocUnsafe=function(e){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");return new i(e)},t.from=function(t,r,n){if("function"==typeof i.from&&(!e.Uint8Array||Uint8Array.from!==i.from))return i.from(t,r,n);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new i(t,r);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=r;if(1===arguments.length)return new i(t);void 0===o&&(o=0);var a=n;if(void 0===a&&(a=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(a>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(t.slice(o,o+a))}if(i.isBuffer(t)){var s=new i(t.length);return t.copy(s,0,0,t.length),s}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new i(t);if("Buffer"===t.type&&Array.isArray(t.data))return new i(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(e){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=a)throw new RangeError("size is too large");return new o(e)}}).call(t,r(4))},function(e,t,r){"use strict";(function(t){function Hmac(e,r){o.call(this),e=e.toLowerCase(),"string"==typeof r&&(r=new t(r));var i="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=r,r.length>i?r=n(e).update(r).digest():r.length<i&&(r=t.concat([r,a],i));for(var s=this._ipad=new t(i),c=this._opad=new t(i),u=0;u<i;u++)s[u]=54^r[u],c[u]=92^r[u];this._hash=n(e).update(s)}var n=r(34),i=r(2),o=r(122).Transform,a=new t(128);a.fill(0),i(Hmac,o),Hmac.prototype.update=function(e,t){return this._hash.update(e,t),this},Hmac.prototype._transform=function(e,t,r){this._hash.update(e),r()},Hmac.prototype._flush=function(e){this.push(this.digest()),e()},Hmac.prototype.digest=function(e){var t=this._hash.digest();return n(this._alg).update(this._opad).update(t).digest(e)},e.exports=function(e,t){return new Hmac(e,t)}}).call(t,r(0).Buffer)},function(e,t,r){function toArray(e,t){if(e.length%i!=0){var r=e.length+(i-e.length%i);e=n.concat([e,o],r)}for(var a=[],s=t?e.readInt32BE:e.readInt32LE,c=0;c<e.length;c+=i)a.push(s.call(e,c));return a}function toBuffer(e,t,r){for(var i=new n(t),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<e.length;a++)o.call(i,e[a],4*a,!0);return i}function hash(e,t,r,i){return n.isBuffer(e)||(e=new n(e)),toBuffer(t(toArray(e,i),e.length*a),r,i)}var n=r(0).Buffer,i=4,o=new n(i);o.fill(0);var a=8;e.exports={hash:hash}},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Collection=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(47),o=r(35);t.Collection=function(e){function Collection(e){_classCallCheck(this,Collection);var t=_possibleConstructorReturn(this,(Collection.__proto__||Object.getPrototypeOf(Collection)).call(this));if(e.__proto__!==i.Extractable)throw new o.InvalidArgumentException(e,i.Extractable);return t._prototype=e,t._vector=[],t}return _inherits(Collection,e),n(Collection,[{key:"create",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(this._prototype,[null].concat(t)))}},{key:"add",value:function(){let e=1===arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof this._prototype?arguments.length<=0?void 0:arguments[0]:this.create.apply(this,arguments);return this._vector.push(e),e}},{key:"count",value:function(){return this._vector.length}},{key:"list",value:function(){return this._vector}},{key:"extract",value:function(){let e=[];for(let t in this._vector)if(this._vector.hasOwnProperty(t)){let r=this._vector[t];e.push(r.extract())}return e}},{key:"prototype",get:function(){return this._prototype}}]),Collection}(i.Extractable)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Service=function(){function Service(){_classCallCheck(this,Service)}return n(Service,null,[{key:"identifier",value:function(e){return`${e}.amazonaws.com`}},{key:"exists",value:function(e){return-1!==Service.list().indexOf(e)}},{key:"list",value:function(){return[Service.ANY,Service.LAMBDA,Service.SIMPLE_STORAGE_SERVICE,Service.DYNAMO_DB,Service.SIMPLE_NOTIFICATION_SERVICE,Service.COGNITO_IDENTITY,Service.COGNITO_IDENTITY_PROVIDER,Service.COGNITO_SYNC,Service.ELASTIC_CACHE,Service.IDENTITY_AND_ACCESS_MANAGEMENT,Service.KINESIS,Service.CLOUD_FRONT,Service.SECURITY_TOKEN_SERVICE,Service.CLOUD_WATCH_LOGS,Service.API_GATEWAY,Service.API_GATEWAY_EXECUTE,Service.CLOUD_SEARCH,Service.SIMPLE_QUEUE_SERVICE,Service.CERTIFICATE_MANAGER,Service.EC2,Service.ELASTIC_SEARCH,Service.CLOUD_WATCH_EVENTS,Service.CLOUD_WATCH,Service.SIMPLE_EMAIL_SERVICE,Service.LAMBDA_EDGE]}},{key:"ANY",get:function(){return"*"}},{key:"EC2",get:function(){return"ec2"}},{key:"LAMBDA",get:function(){return"lambda"}},{key:"SIMPLE_EMAIL_SERVICE",get:function(){return"ses"}},{key:"SIMPLE_STORAGE_SERVICE",get:function(){return"s3"}},{key:"DYNAMO_DB",get:function(){return"dynamodb"}},{key:"SIMPLE_NOTIFICATION_SERVICE",get:function(){return"sns"}},{key:"COGNITO_IDENTITY",get:function(){return"cognito-identity"}},{key:"COGNITO_IDENTITY_PROVIDER",get:function(){return"cognito-idp"}},{key:"COGNITO_SYNC",get:function(){return"cognito-sync"}},{key:"ELASTIC_CACHE",get:function(){return"elasticache"}},{key:"IDENTITY_AND_ACCESS_MANAGEMENT",get:function(){return"iam"}},{key:"KINESIS",get:function(){return"kinesis"}},{key:"CLOUD_FRONT",get:function(){return"cloudfront"}},{key:"CLOUD_SEARCH",get:function(){return"cloudsearch"}},{key:"SECURITY_TOKEN_SERVICE",get:function(){return"sts"}},{key:"CLOUD_WATCH",get:function(){return"cloudwatch"}},{key:"CLOUD_WATCH_LOGS",get:function(){return"logs"}},{key:"CLOUD_WATCH_EVENTS",get:function(){return"events"}},{key:"API_GATEWAY",get:function(){return"apigateway"}},{key:"API_GATEWAY_EXECUTE",get:function(){return"execute-api"}},{key:"SIMPLE_QUEUE_SERVICE",get:function(){return"sqs"}},{key:"CERTIFICATE_MANAGER",get:function(){return"acm"}},{key:"ELASTIC_SEARCH",get:function(){return"es"}},{key:"LAMBDA_EDGE",get:function(){return"edgelambda"}}]),Service}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Interface=void 0;var n=r(165);t.Interface=function Interface(){_classCallCheck(this,Interface);for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=1===t.length&&t[0]instanceof Array?t[0]:t,o=[];for(let e in i)if(i.hasOwnProperty(e)){let t=i[e];this[t]instanceof Function||o.push(t)}if(o.length>0)throw new n.MethodsNotImplementedException(o)}},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Injectable=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(173),o=r(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(377);t.Injectable=function(){function Injectable(){_classCallCheck(this,Injectable),this._microservice=null}return n(Injectable,[{key:"bind",value:function(e){return this.microservice=e,this}},{key:"microservice",get:function(){if(null===this._microservice)throw new s.MissingWorkingMicroserviceException;return this._microservice},set:function(e){if(!(e instanceof i.Instance))throw new a.default.Exception.InvalidArgumentException(e,"Microservice");this._microservice=e}}]),Injectable}()},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractEvent=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=_interopRequireDefault(i),a=r(24),s=_interopRequireDefault(a);t.AbstractEvent=function(t){function AbstractEvent(e,t){_classCallCheck(this,AbstractEvent);var r=_possibleConstructorReturn(this,(AbstractEvent.__proto__||Object.getPrototypeOf(AbstractEvent)).call(this,["toJSON","getValidationSchema","getEventLevel"]));return r._kernel=e,r._rawData=t,r._data=r._enrichWithContextData(t),r._validationError=null,r}return _inherits(AbstractEvent,t),n(AbstractEvent,[{key:"isValid",value:function(){return!this.validate().error}},{key:"validate",value:function(){let e=s.default.validate(this._data,this.getValidationSchema(),{stripUnknown:!0,convert:!0,abortEarly:!1});return e.error?this._validationError=e.error:this._data=e.value,e}},{key:"_enrichWithContextData",value:function(t){if(t.eventLevel=this.getEventLevel(),t.time=t.time||(new Date).getTime(),t.metadata=t.metadata||{},this._kernel.isBackend){let r=this._kernel.runtimeContext;t.depthLevel=r.getDeepFrameworkOption("lambdaDepthLevel")||0,t.mainRequestId=r.getDeepFrameworkOption("mainRequestId")||r.awsRequestId,t.context=AbstractEvent.BACKEND_CONTEXT,t.memoryUsage=e.memoryUsage(),t.environment={},t.requestId=t.requestId||r.awsRequestId,t.identityId=r.identity&&r.identity.cognitoIdentityId?r.identity.cognitoIdentityId:"system"}else{t.context=AbstractEvent.FRONTEND_CONTEXT,t.memoryUsage=window.performance&&window.performance.memory?window.performance.memory:{},t.environment={userAgent:navigator?navigator.userAgent:""};let e=this._kernel.get("security").token;t.identityId=e&&e.identityId?e.identityId:"anonymous"}return t}},{key:"validationError",get:function(){return this._validationError}}],[{key:"FRAMEWORK_EVENT_LEVEL",get:function(){return"Framework"}},{key:"FRONTEND_EVENT_LEVEL",get:function(){return"Frontend"}},{key:"BACKEND_CONTEXT",get:function(){return"Backend"}},{key:"FRONTEND_CONTEXT",get:function(){return"Frontend"}},{key:"CONTEXTS",get:function(){return[AbstractEvent.BACKEND_CONTEXT,AbstractEvent.FRONTEND_CONTEXT]}},{key:"SERVICES",get:function(){return["deep-asset","deep-cache","deep-core","deep-db","deep-event","deep-fs","deep-kernel","deep-log","deep-notification","deep-resource","deep-security","deep-validation"]}},{key:"RESOURCE_TYPES",get:function(){return["Browser","Lambda","S3","DynamoDB","CloudFront","InMemory","LocalStorage","Redis","S3FS","Cognito"]}}]),AbstractEvent}(o.default.OOP.Interface)}).call(t,r(7))},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(407),o=r(174),a=r(410);t.Action=function(){function Action(e,t,r,n,i,a,s,c,u,l){_classCallCheck(this,Action),this._resource=e,this._name=t,this._type=r,this._methods=n,this._source=i,this._region=a,this._forceUserIdentity=s,this._apiCacheEnabled=!(!c||!c.hasOwnProperty("enabled"))&&c.enabled,this._apiCacheTtl=c&&c.hasOwnProperty("ttl")?c.ttl:o.Request.TTL_INVALIDATE,this._scope=u,this._apiAuthType=l&&l.hasOwnProperty("authorization")?l.authorization:Action.API_AWS_IAM_AUTH,this._apiKeyRequired=!(!l||!l.hasOwnProperty("keyRequired"))&&l.keyRequired,this._validationSchemaName=null,this._baseUrl=null}return n(Action,[{key:"request",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=t||(this._methods.length>0?this._methods[0]:Action.HTTP_VERBS[0]),this._methods.length>0&&-1===this._methods.indexOf(t))throw new i.UnknownMethodException(t,this._methods);let r=this._resource.localBackend?a.LocalRequest:o.Request,n=new r(this,e,t);return n.validationSchemaName=this._validationSchemaName,this._resource.cache&&(n.cacheImpl=this._resource.cache),n}},{key:"baseUrl",set:function(e){this._baseUrl=e},get:function(){return this._baseUrl}},{key:"validationSchemaName",get:function(){return this._validationSchemaName},set:function(e){this._validationSchemaName=e}},{key:"sourceId",get:function(){return this._type===Action.LAMBDA?this._source.original:this._source.api}},{key:"forceUserIdentity",get:function(){return this._forceUserIdentity}},{key:"resource",get:function(){return this._resource}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"methods",get:function(){return this._methods}},{key:"source",get:function(){return this._source}},{key:"isOriginalSourceInvokable",get:function(){return!!this._source.original}},{key:"isApiSourceInvokable",get:function(){return!!this._source.api}},{key:"region",get:function(){return this._region}},{key:"apiCacheEnabled",get:function(){return this._apiCacheEnabled}},{key:"apiCacheTtl",get:function(){return this._apiCacheTtl}},{key:"scope",get:function(){return this._scope}},{key:"apiAuthType",get:function(){return this._apiAuthType}},{key:"apiKeyRequired",get:function(){return this._apiKeyRequired}},{key:"fullName",get:function(){return`@${this._resource.microservice.identifier}:${this._resource.name}:${this._name}`}}],[{key:"HTTP_VERBS",get:function(){return["GET","POST","DELETE","HEAD","PUT","OPTIONS","PATCH"]}},{key:"LAMBDA",get:function(){return"lambda"}},{key:"EXTERNAL",get:function(){return"external"}},{key:"DEEP_CACHE_QS_PARAM",get:function(){return"_deepQsHash"}},{key:"API_AWS_IAM_AUTH",get:function(){return"AWS_IAM"}},{key:"API_NONE_AUTH",get:function(){return"NONE"}}]),Action}()},function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LambdaResponse=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(95),o=r(408);t.LambdaResponse=function(t){function LambdaResponse(){var e;_classCallCheck(this,LambdaResponse);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=LambdaResponse.__proto__||Object.getPrototypeOf(LambdaResponse)).call.apply(e,[this].concat(r)));i._originalResponse=null,i._logResult=null,i._fillStatusCode();let o=i._decodePayload();return i._fillData(o),i._fillError(o),i}return _inherits(LambdaResponse,t),n(LambdaResponse,[{key:"_fillData",value:function(e){!e||this._request.async||e.hasOwnProperty("errorMessage")||(this._data=e)}},{key:"_fillError",value:function(e){this._rawError?this._error=this._rawError:this._request.async?202!==this._statusCode&&(this._error=new Error("Unknown async invocation error")):e&&e.hasOwnProperty("errorMessage")&&(this._error=LambdaResponse.getPayloadError(e))}},{key:"_fillStatusCode",value:function(){this._rawData?this._statusCode=parseInt(this._rawData.StatusCode||this._rawData.Status):this._statusCode=500}},{key:"_decodePayload",value:function(){let e=null;return this._rawData&&(this._rawData.Payload?(e=LambdaResponse._decodePayloadObject(this._rawData.Payload))&&e.hasOwnProperty("errorMessage")&&(e=LambdaResponse._decodeRawErrorObject(e.errorMessage)):this._rawData.errorMessage&&(e=LambdaResponse._decodeRawErrorObject(this._rawData.errorMessage))),e}},{key:"_decodeBase64",value:function(t){return void 0!==e?t=new e(t,"base64").toString("utf8"):"undefined"!=typeof atob&&(t=atob(t)),t}},{key:"originalResponse",set:function(e){this._originalResponse=e},get:function(){return this._originalResponse}},{key:"headers",get:function(){return!this._headers&&this.originalResponse&&(this._headers=this.originalResponse.httpResponse?this.originalResponse.httpResponse.headers:{}),this._headers}},{key:"requestId",get:function(){return!this._requestId&&this.headers&&this.headers[i.Response.REQUEST_ID_HEADER.toLowerCase()]&&(this._requestId=this.headers[i.Response.REQUEST_ID_HEADER.toLowerCase()]),this._requestId}},{key:"logResult",get:function(){return this._logResult?this._logResult:(this._rawData&&this._rawData.hasOwnProperty("LogResult")&&(this._logResult=this._decodeBase64(this._rawData.LogResult)),this._logResult)}}],[{key:"_decodeRawErrorObject",value:function(e){let t=e;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={errorMessage:t,errorStack:new Error("Unknown error occurred.").stack,errorType:"UnknownError"}}else t=t||{errorMessage:"Unknown error occurred.",errorStack:new Error("Unknown error occurred.").stack,errorType:"UnknownError"};return t}},{key:"_decodePayloadObject",value:function(e){let t=e;if("string"==typeof e)try{t=JSON.parse(t)}catch(e){console.debug("Unable to parse: ",e)}return t}},{key:"getPayloadError",value:function(e){if(e.hasOwnProperty("errorMessage")){let t=null;if(LambdaResponse.isValidationError(e))t=new o.ValidationError(e.errorMessage,e.validationErrors);else{e.errorType=e.errorType||"UnknownError",e.errorMessage=e.errorMessage||"Unknown error occurred.",e.errorStack=e.errorStack||new Error(e.errorMessage).stack,t=new Error(e.errorMessage);try{Object.defineProperty(t,"name",{value:e.errorType})}catch(e){console.debug("Unable to define property: ",e)}}try{Object.defineProperty(t,"stack",{value:e.errorStack})}catch(e){console.debug("Unable to define property: ",e)}return t}return null}},{key:"isValidationError",value:function(e){return e.hasOwnProperty("errorType")&&e.hasOwnProperty("errorMessage")&&e.hasOwnProperty("validationErrors")&&e.errorType===LambdaResponse.VALIDATION_ERROR_TYPE}},{key:"VALIDATION_ERROR_TYPE",get:function(){return"ValidationError"}}]),LambdaResponse}(i.Response)}).call(t,r(0).Buffer)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Response=function(){function Response(e,t,r){_classCallCheck(this,Response),this._request=e,this._rawError=r,this._rawData=t,this._rawError&&(this._rawError=Response._toErrorObj(this._rawError)),this._statusCode=null,this._data=null,this._error=null,this._headers=null,this._requestId=null}return n(Response,[{key:"toJSON",value:function(){return{requestId:this.requestId,statusCode:this.statusCode,headers:this.headers,data:this.data,error:this.error}}},{key:"rawData",get:function(){return this._rawData}},{key:"rawError",get:function(){return this._rawError}},{key:"request",get:function(){return this._request}},{key:"data",get:function(){return this._data}},{key:"statusCode",get:function(){return this._statusCode}},{key:"error",get:function(){return this._error}},{key:"requestId",get:function(){return this._requestId}},{key:"headers",get:function(){return this._headers}},{key:"isError",get:function(){return!!this.error}}],[{key:"_toErrorObj",value:function(e){return e instanceof Error?e:new Error(e.toString())}},{key:"ORIGINAL_REQUEST_ID_HEADER",get:function(){return"x-amzn-original-RequestId"}},{key:"REQUEST_ID_HEADER",get:function(){return"x-amzn-RequestId"}}]),Response}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomStrategy=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(67);t.CustomStrategy=function(e){function CustomStrategy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1;_classCallCheck(this,CustomStrategy);var r=_possibleConstructorReturn(this,(CustomStrategy.__proto__||Object.getPrototypeOf(CustomStrategy)).call(this));return r._onErrorCb=e,r._onSuccessCb=t,r}return _inherits(CustomStrategy,e),n(CustomStrategy,[{key:"onSuccess",value:function(e){return this._onSuccessCb(e)}},{key:"onError",value:function(e){return this._onErrorCb(e)}}]),CustomStrategy}(i.AbstractStrategy)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InternalErrorStrategy=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(67);t.InternalErrorStrategy=function(e){function InternalErrorStrategy(){return _classCallCheck(this,InternalErrorStrategy),_possibleConstructorReturn(this,(InternalErrorStrategy.__proto__||Object.getPrototypeOf(InternalErrorStrategy)).call(this))}return _inherits(InternalErrorStrategy,e),n(InternalErrorStrategy,[{key:"onSuccess",value:function(){return!1}},{key:"onError",value:function(e){return e.statusCode>=500}}]),InternalErrorStrategy}(i.AbstractStrategy)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.StrategyFactory=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(96),o=r(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o);r(97);t.StrategyFactory=function(){function StrategyFactory(){_classCallCheck(this,StrategyFactory)}return n(StrategyFactory,null,[{key:"create",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"internal-error";for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if("string"==typeof e){const t=`${StrategyFactory._pascalCase(e)}Strategy`,i=r(412)(`./${t}`)[t];return new(Function.prototype.bind.apply(i,[null].concat(n)))}if("function"==typeof e)return new(Function.prototype.bind.apply(i.CustomStrategy,[null].concat([e],n)));throw new a.default.Exception.InvalidArgumentException(e,"string|function")}},{key:"_pascalCase",value:function(e){return e.split(/[^a-zA-Z0-9]+/).reduce((e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),"")}}]),StrategyFactory}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityProviderTokenExpiredException=void 0;var n=r(12);t.IdentityProviderTokenExpiredException=function(e){function IdentityProviderTokenExpiredException(e,t){return _classCallCheck(this,IdentityProviderTokenExpiredException),_possibleConstructorReturn(this,(IdentityProviderTokenExpiredException.__proto__||Object.getPrototypeOf(IdentityProviderTokenExpiredException)).call(this,`"${e}" access_token has expired on "${t.toString()}".`))}return _inherits(IdentityProviderTokenExpiredException,e),IdentityProviderTokenExpiredException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityProvider=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(423),o=r(419),a=r(420),s=r(422),c=r(429),u=r(424);t.IdentityProvider=function(){function IdentityProvider(e,t,r){_classCallCheck(this,IdentityProvider);let n=this.getProviderDomain(t,e);if(!n)throw new i.MissingLoginProviderException(t);if(r.provider&&r.provider!==t&&t!==IdentityProvider.SNAPSHOT_PROVIDER)throw new o.IdentityProviderMismatchException(t,r.provider);let a=this._normalizeIdentityMetadata(t,r);this._metadata=r,this._userToken=a.token,this._tokenExpTime=new Date(a.expireTime),this._userId=a.userId,this._providers=e,this._refreshToken=a.refreshToken,this._domain=n,this._clientName=a.clientName,this._name=t}return n(IdentityProvider,[{key:"getProviderDomain",value:function(e,t){let r;switch(e){case IdentityProvider.AMAZON_PROVIDER:r=/^www\.amazon\.com$/;break;case IdentityProvider.FACEBOOK_PROVIDER:r=/^graph\.facebook\.com$/;break;case IdentityProvider.GOOGLE_PROVIDER:r=/^accounts\.google\.com$/;break;case IdentityProvider.AUTH0_PROVIDER:r=/^.+\.auth0\.com$/;break;case IdentityProvider.COGNITO_USER_POOL_PROVIDER:r=/^cognito\-idp\.[\w\d\-]+\.amazonaws\.com\/[\w\d\-]+$/;break;case IdentityProvider.SNAPSHOT_PROVIDER:return IdentityProvider.SNAPSHOT_PROVIDER}if(!r)return null;for(let e in t)if(t.hasOwnProperty(e)&&r.test(e))return e;return null}},{key:"_normalizeIdentityMetadata",value:function(e,t){let r=null,n=null,i=null,o=null,s=null,c=null;switch(e){case IdentityProvider.FACEBOOK_PROVIDER:r=t.accessToken,n=t.expiresIn,o=t.userID;break;case IdentityProvider.COGNITO_USER_POOL_PROVIDER:let a=t.getSignInUserSession(),u=a.getIdToken();s=a.getRefreshToken().getToken(),r=u.getJwtToken(),i=1e3*u.getExpiration(),c=t.pool.getClientId();break;case IdentityProvider.AMAZON_PROVIDER:r=t.access_token,o=t.user_id,n=t.expires_in||3600;break;case IdentityProvider.AUTH0_PROVIDER:i=t.tokenExpirationTime,r=t.access_token,o=t.user_id;break;case IdentityProvider.SNAPSHOT_PROVIDER:return t}if(o=o||null,i=i||(n?Date.now()+1e3*n:null),!r||!i)throw new a.InvalidProviderIdentityException(e);return{token:r,userId:o,expireTime:i,refreshToken:s,clientName:c}}},{key:"isTokenValid",value:function(){return!(!this.userToken||!this.tokenExpirationTime)&&this.tokenExpirationTime>new Date}},{key:"fillFromSnapshot",value:function(e){return this._name=e.name,this._refreshToken=e.refreshToken,this._clientName=e.clientName,this._userToken=e.token,this._tokenExpTime=new Date(e.expireTime),this}},{key:"toJSON",value:function(){return{token:this._userToken,expireTime:this._tokenExpTime.getTime(),userId:this._userId,refreshToken:this._refreshToken,name:this._name,clientName:this._clientName}}},{key:"refresh",value:function(){if(!this._refreshToken)return Promise.reject(new u.MissingRefreshTokenException);let e=null;switch(this._name){case IdentityProvider.COGNITO_USER_POOL_PROVIDER:e=new c.UserPoolImplementation(this);break;default:throw new s.MissingIdentityImplementationException(this._name)}return e.refreshIdentity()}},{key:"config",value:function(e){if(!this.providers.hasOwnProperty(e))throw new i.MissingLoginProviderException(e);return this.providers[e]}},{key:"name",set:function(e){this._name=e},get:function(){return this._name}},{key:"providers",get:function(){return this._providers}},{key:"domain",get:function(){return this._domain}},{key:"userToken",get:function(){return this._userToken},set:function(e){this._userToken=e}},{key:"tokenExpirationTime",get:function(){return this._tokenExpTime},set:function(e){this._tokenExpTime=e instanceof Date?e:new Date(e)}},{key:"refreshToken",get:function(){return this._refreshToken}},{key:"clientName",get:function(){return this._clientName}},{key:"userId",get:function(){return this._userId}}],[{key:"createFromSnapshot",value:function(e){let t=new IdentityProvider(null,IdentityProvider.SNAPSHOT_PROVIDER,e);return t.fillFromSnapshot(e),t}},{key:"COGNITO_USER_POOL_PROVIDER",get:function(){return"cognito-user-pool"}},{key:"FACEBOOK_PROVIDER",get:function(){return"facebook"}},{key:"AMAZON_PROVIDER",get:function(){return"amazon"}},{key:"GOOGLE_PROVIDER",get:function(){return"google"}},{key:"AUTH0_PROVIDER",get:function(){return"auth0"}},{key:"SNAPSHOT_PROVIDER",get:function(){return"snapshot"}}]),IdentityProvider}()},function(e,t,r){"use strict";t.utils=r(453),t.Cipher=r(450),t.DES=r(451),t.CBC=r(449),t.EDE=r(452)},function(e,t,r){!function(e){"use strict";function isArray(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function strictDeepEqual(e,t){if(e===t)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(!0===isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!1===strictDeepEqual(e[r],t[r]))return!1;return!0}if(!0===isObject(e)){var n={};for(var i in e)if(hasOwnProperty.call(e,i)){if(!1===strictDeepEqual(e[i],t[i]))return!1;n[i]=!0}for(var o in t)if(hasOwnProperty.call(t,o)&&!0!==n[o])return!1;return!0}return!1}function isFalse(e){if(""===e||!1===e||null===e)return!0;if(isArray(e)&&0===e.length)return!0;if(isObject(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1}function objValues(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e}function isNum(e){return e>="0"&&e<="9"||"-"===e}function isAlphaNum(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e}function Lexer(){}function Parser(){}function TreeInterpreter(e){this.runtime=e}function Runtime(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[r]}]},avg:{_func:this._functionAvg,_signature:[{types:[c]}]},ceil:{_func:this._functionCeil,_signature:[{types:[r]}]},contains:{_func:this._functionContains,_signature:[{types:[i,o]},{types:[n]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[i]},{types:[i]}]},floor:{_func:this._functionFloor,_signature:[{types:[r]}]},length:{_func:this._functionLength,_signature:[{types:[i,o,a]}]},map:{_func:this._functionMap,_signature:[{types:[s]},{types:[o]}]},max:{_func:this._functionMax,_signature:[{types:[c,u]}]},merge:{_func:this._functionMerge,_signature:[{types:[a],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[o]},{types:[s]}]},sum:{_func:this._functionSum,_signature:[{types:[c]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[i]},{types:[i]}]},min:{_func:this._functionMin,_signature:[{types:[c,u]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[o]},{types:[s]}]},type:{_func:this._functionType,_signature:[{types:[n]}]},keys:{_func:this._functionKeys,_signature:[{types:[a]}]},values:{_func:this._functionValues,_signature:[{types:[a]}]},sort:{_func:this._functionSort,_signature:[{types:[u,c]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[o]},{types:[s]}]},join:{_func:this._functionJoin,_signature:[{types:[i]},{types:[u]}]},reverse:{_func:this._functionReverse,_signature:[{types:[i,o]}]},to_array:{_func:this._functionToArray,_signature:[{types:[n]}]},to_string:{_func:this._functionToString,_signature:[{types:[n]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[n]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[n],variadic:!0}]}}}function compile(e){return(new Parser).parse(e)}function tokenize(e){return(new Lexer).tokenize(e)}function search(e,t){var r=new Parser,n=new Runtime,i=new TreeInterpreter(n);n._interpreter=i;var o=r.parse(t);return i.search(o,e)}var t;t="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var r=0,n=1,i=2,o=3,a=4,s=6,c=8,u=9,l={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},f={"<":!0,">":!0,"=":!0,"!":!0},h={" ":!0,"\t":!0,"\n":!0};Lexer.prototype={tokenize:function(e){var t=[];this._current=0;for(var r,n,i;this._current<e.length;)if(isAlpha(e[this._current]))r=this._current,n=this._consumeUnquotedIdentifier(e),t.push({type:"UnquotedIdentifier",value:n,start:r});else if(void 0!==l[e[this._current]])t.push({type:l[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(isNum(e[this._current]))i=this._consumeNumber(e),t.push(i);else if("["===e[this._current])i=this._consumeLBracket(e),t.push(i);else if('"'===e[this._current])r=this._current,n=this._consumeQuotedIdentifier(e),t.push({type:"QuotedIdentifier",value:n,start:r});else if("'"===e[this._current])r=this._current,n=this._consumeRawStringLiteral(e),t.push({type:"Literal",value:n,start:r});else if("`"===e[this._current]){r=this._current;var o=this._consumeLiteral(e);t.push({type:"Literal",value:o,start:r})}else if(void 0!==f[e[this._current]])t.push(this._consumeOperator(e));else if(void 0!==h[e[this._current]])this._current++;else if("&"===e[this._current])r=this._current,this._current++,"&"===e[this._current]?(this._current++,t.push({type:"And",value:"&&",start:r})):t.push({type:"Expref",value:"&",start:r});else{if("|"!==e[this._current]){var a=new Error("Unknown character:"+e[this._current]);throw a.name="LexerError",a}r=this._current,this._current++,"|"===e[this._current]?(this._current++,t.push({type:"Or",value:"||",start:r})):t.push({type:"Pipe",value:"|",start:r})}return t},_consumeUnquotedIdentifier:function(e){var t=this._current;for(this._current++;this._current<e.length&&isAlphaNum(e[this._current]);)this._current++;return e.slice(t,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var r=e.length;'"'!==e[this._current]&&this._current<r;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&'"'!==e[n+1]?n++:n+=2,this._current=n}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var r=e.length;"'"!==e[this._current]&&this._current<r;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&"'"!==e[n+1]?n++:n+=2,this._current=n}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var r=e.length;isNum(e[this._current])&&this._current<r;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,r=e[t];return this._current++,"!"===r?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===r?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===r?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===r&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var r,n=this._current,i=e.length;"`"!==e[this._current]&&this._current<i;){var o=this._current;"\\"!==e[o]||"\\"!==e[o+1]&&"`"!==e[o+1]?o++:o+=2,this._current=o}var a=t(e.slice(n,this._current));return a=a.replace("\\`","`"),r=this._looksLikeJSON(a)?JSON.parse(a):JSON.parse('"'+a+'"'),this._current++,r},_looksLikeJSON:function(e){var t='[{"',r=["true","false","null"],n="-0123456789";if(""===e)return!1;if(t.indexOf(e[0])>=0)return!0;if(r.indexOf(e)>=0)return!0;if(!(n.indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var d={};d.EOF=0,d.UnquotedIdentifier=0,d.QuotedIdentifier=0,d.Rbracket=0,d.Rparen=0,d.Comma=0,d.Rbrace=0,d.Number=0,d.Current=0,d.Expref=0,d.Pipe=1,d.Or=2,d.And=3,d.EQ=5,d.GT=5,d.LT=5,d.GTE=5,d.LTE=5,d.NE=5,d.Flatten=9,d.Star=20,d.Filter=21,d.Dot=40,d.Not=45,d.Lbrace=50,d.Lbracket=55,d.Lparen=60,Parser.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"!==this._lookahead(0)){var r=this._lookaheadToken(0),n=new Error("Unexpected token type: "+r.type+", value: "+r.value);throw n.name="ParserError",n}return t},_loadTokens:function(e){var t=new Lexer,r=t.tokenize(e);r.push({type:"EOF",value:"",start:e.length}),this.tokens=r},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var r=this.nud(t),n=this._lookahead(0);e<d[n];)this._advance(),r=this.led(n,r),n=this._lookahead(0);return r},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,r,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var i={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return i;case"Not":return r=this.expression(d.Not),{type:"NotExpression",children:[r]};case"Star":return t={type:"Identity"},r=null,r="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(d.Star),{type:"ValueProjection",children:[t,r]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return t={type:"Flatten",children:[{type:"Identity"}]},r=this._parseProjectionRHS(d.Flatten),{type:"Projection",children:[t,r]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(r=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},r)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),r=this._parseProjectionRHS(d.Star),{type:"Projection",children:[{type:"Identity"},r]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return n=this.expression(d.Expref),{type:"ExpressionReference",children:[n]};case"Lparen":for(var o=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),o.push(n);return this._match("Rparen"),o[0];default:this._errorToken(e)}},led:function(e,t){var r;switch(e){case"Dot":var n=d.Dot;return"Star"!==this._lookahead(0)?(r=this._parseDotRHS(n),{type:"Subexpression",children:[t,r]}):(this._advance(),r=this._parseProjectionRHS(n),{type:"ValueProjection",children:[t,r]});case"Pipe":return r=this.expression(d.Pipe),{type:"Pipe",children:[t,r]};case"Or":return r=this.expression(d.Or),{type:"OrExpression",children:[t,r]};case"And":return r=this.expression(d.And),{type:"AndExpression",children:[t,r]};case"Lparen":for(var i,o=t.name,a=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(i={type:"Current"},this._advance()):i=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),a.push(i);return this._match("Rparen"),{type:"Function",name:o,children:a};case"Filter":var s=this.expression(0);return this._match("Rbracket"),r="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(d.Filter),{type:"FilterProjection",children:[t,r,s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(d.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var c=this._lookaheadToken(0);return"Number"===c.type||"Colon"===c.type?(r=this._parseIndexExpression(),this._projectIfSlice(t,r)):(this._match("Star"),this._match("Rbracket"),r=this._parseProjectionRHS(d.Star),{type:"Projection",children:[t,r]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),r=new Error("Expected "+e+", got: "+t.type);throw r.name="ParserError",r}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var r={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[r,this._parseProjectionRHS(d.Star)]}:r},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,r=this._lookahead(0);"Rbracket"!==r&&t<3;){if("Colon"===r)t++,this._advance();else{if("Number"!==r){var n=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+n.value+"("+n.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}r=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(d[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)>=0?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(d[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var r=this._lookaheadToken(0),n=new Error("Sytanx error, unexpected token: "+r.value+"("+r.type+")");throw n.name="ParserError",n}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,r,n,i=[],o=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),o.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),r=this.expression(0),n={type:"KeyValuePair",name:t,value:r},i.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:i}}},TreeInterpreter.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,t){var r,n,i,o,a,s,c,u,l;switch(e.type){case"Field":return null===t?null:isObject(t)?(s=t[e.name],void 0===s?null:s):null;case"Subexpression":for(i=this.visit(e.children[0],t),l=1;l<e.children.length;l++)if(null===(i=this.visit(e.children[1],i)))return null;return i;case"IndexExpression":return c=this.visit(e.children[0],t),this.visit(e.children[1],c);case"Index":if(!isArray(t))return null;var f=e.value;return f<0&&(f=t.length+f),i=t[f],void 0===i&&(i=null),i;case"Slice":if(!isArray(t))return null;var h=e.children.slice(0),d=this.computeSliceParams(t.length,h),p=d[0],y=d[1],m=d[2];if(i=[],m>0)for(l=p;l<y;l+=m)i.push(t[l]);else for(l=p;l>y;l+=m)i.push(t[l]);return i;case"Projection":var g=this.visit(e.children[0],t);if(!isArray(g))return null;for(u=[],l=0;l<g.length;l++)null!==(n=this.visit(e.children[1],g[l]))&&u.push(n);return u;case"ValueProjection":if(g=this.visit(e.children[0],t),!isObject(g))return null;u=[];var v=objValues(g);for(l=0;l<v.length;l++)null!==(n=this.visit(e.children[1],v[l]))&&u.push(n);return u;case"FilterProjection":if(g=this.visit(e.children[0],t),!isArray(g))return null;var b=[],_=[];for(l=0;l<g.length;l++)r=this.visit(e.children[2],g[l]),isFalse(r)||b.push(g[l]);for(var w=0;w<b.length;w++)null!==(n=this.visit(e.children[1],b[w]))&&_.push(n);return _;case"Comparator":switch(o=this.visit(e.children[0],t),a=this.visit(e.children[1],t),e.name){case"EQ":i=strictDeepEqual(o,a);break;case"NE":i=!strictDeepEqual(o,a);break;case"GT":i=o>a;break;case"GTE":i=o>=a;break;case"LT":i=o<a;break;case"LTE":i=o<=a;break;default:throw new Error("Unknown comparator: "+e.name)}return i;case"Flatten":var E=this.visit(e.children[0],t);if(!isArray(E))return null;var S=[];for(l=0;l<E.length;l++)n=E[l],isArray(n)?S.push.apply(S,n):S.push(n);return S;case"Identity":return t;case"MultiSelectList":if(null===t)return null;for(u=[],l=0;l<e.children.length;l++)u.push(this.visit(e.children[l],t));return u;case"MultiSelectHash":if(null===t)return null;u={};var k;for(l=0;l<e.children.length;l++)k=e.children[l],u[k.name]=this.visit(k.value,t);return u;case"OrExpression":return r=this.visit(e.children[0],t),isFalse(r)&&(r=this.visit(e.children[1],t)),r;case"AndExpression":return o=this.visit(e.children[0],t),!0===isFalse(o)?o:this.visit(e.children[1],t);case"NotExpression":return o=this.visit(e.children[0],t),isFalse(o);case"Literal":return e.value;case"Pipe":return c=this.visit(e.children[0],t),this.visit(e.children[1],c);case"Current":return t;case"Function":var C=[];for(l=0;l<e.children.length;l++)C.push(this.visit(e.children[l],t));return this.runtime.callFunction(e.name,C);case"ExpressionReference":var x=e.children[0];return x.jmespathType="Expref",x;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var r=t[0],n=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=i<0;return r=null===r?s?e-1:0:this.capSliceRange(e,r,i),n=null===n?s?-1:e:this.capSliceRange(e,n,i),o[0]=r,o[1]=n,o[2]=i,o},capSliceRange:function(e,t,r){return t<0?(t+=e)<0&&(t=r<0?-1:0):t>=e&&(t=r<0?e-1:e),t}},Runtime.prototype={callFunction:function(e,t){var r=this.functionTable[e];if(void 0===r)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,r._signature),r._func.call(this,t)},_validateArgs:function(e,t,r){var n;if(r[r.length-1].variadic){if(t.length<r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+r.length+n+" but received "+t.length)}else if(t.length!==r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+r.length+n+" but received "+t.length);for(var i,o,a,s=0;s<r.length;s++){a=!1,i=r[s].types,o=this._getTypeName(t[s]);for(var c=0;c<i.length;c++)if(this._typeMatches(o,i[c],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+i+" but received type "+o+" instead.")}},_typeMatches:function(e,t,a){if(t===n)return!0;if(t!==u&&t!==c&&t!==o)return e===t;if(t===o)return e===o;if(e===o){var s;t===c?s=r:t===u&&(s=i);for(var l=0;l<a.length;l++)if(!this._typeMatches(this._getTypeName(a[l]),s,a[l]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return i;case"[object Number]":return r;case"[object Array]":return o;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?s:a}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],r=e[1];return-1!==t.indexOf(r,t.length-r.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===i){for(var t=e[0],r="",n=t.length-1;n>=0;n--)r+=t[n];return r}var o=e[0].slice(0);return o.reverse(),o},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,r=e[0],n=0;n<r.length;n++)t+=r[n];return t/r.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return isObject(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],r=this._interpreter,n=e[0],i=e[1],o=0;o<i.length;o++)t.push(r.visit(n,i[o]));return t},_functionMerge:function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];for(var i in n)t[i]=n[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===r)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)n.localeCompare(t[i])<0&&(n=t[i]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===r)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)t[i].localeCompare(n)<0&&(n=t[i]);return n}return null},_functionSum:function(e){for(var t=0,r=e[0],n=0;n<r.length;n++)t+=r[n];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case r:return"number";case i:return"string";case o:return"array";case a:return"object";case 5:return"boolean";case s:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],r=Object.keys(t),n=[],i=0;i<r.length;i++)n.push(t[r[i]]);return n},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===o?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===i?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===r?e[0]:n!==i||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,o=e[1],a=this._getTypeName(n.visit(o,t[0]));if([r,i].indexOf(a)<0)throw new Error("TypeError");for(var s=this,c=[],u=0;u<t.length;u++)c.push([u,t[u]]);c.sort(function(e,t){var r=n.visit(o,e[1]),i=n.visit(o,t[1]);if(s._getTypeName(r)!==a)throw new Error("TypeError: expected "+a+", received "+s._getTypeName(r));if(s._getTypeName(i)!==a)throw new Error("TypeError: expected "+a+", received "+s._getTypeName(i));return r>i?1:r<i?-1:e[0]-t[0]});for(var l=0;l<c.length;l++)t[l]=c[l][1];return t},_functionMaxBy:function(e){for(var t,n,o=e[1],a=e[0],s=this.createKeyFunction(o,[r,i]),c=-1/0,u=0;u<a.length;u++)(n=s(a[u]))>c&&(c=n,t=a[u]);return t},_functionMinBy:function(e){for(var t,n,o=e[1],a=e[0],s=this.createKeyFunction(o,[r,i]),c=1/0,u=0;u<a.length;u++)(n=s(a[u]))<c&&(c=n,t=a[u]);return t},createKeyFunction:function(e,t){var r=this,n=this._interpreter;return function(i){var o=n.visit(e,i);if(t.indexOf(r._getTypeName(o))<0){var a="TypeError: expected one of "+t+", received "+r._getTypeName(o);throw new Error(a)}return o}}},e.tokenize=tokenize,e.compile=compile,e.search=search,e.strictDeepEqual=strictDeepEqual}(t)},function(e,t,r){var n=r(9),i=r(13),o=r(51),a=r(52),s=r(15),c={};c.Alternatives=function(){i.call(this),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]},n.inherits(c.Alternatives,i),c.Alternatives.prototype._base=function(e,t,r){for(var n=[],i=0,o=this._inner.matches.length;i<o;++i){var a=this._inner.matches[i],c=a.schema;if(!c){if(!(c=a.is._validate(a.ref(t.parent,r),null,r,t.parent).errors?a.otherwise:a.then))continue}var u=c._validate(e,t,r);if(!u.errors)return u;n=n.concat(u.errors)}return{errors:n.length?n:s.create("alternatives.base",null,t,r)}},c.Alternatives.prototype.try=function(){var e=n.flatten(Array.prototype.slice.call(arguments));n.assert(e.length,"Cannot add other alternatives without at least one schema");for(var t=this.clone(),r=0,i=e.length;r<i;++r){var a=o.schema(e[r]);a._refs.length&&(t._refs=t._refs.concat(a._refs)),t._inner.matches.push({schema:a})}return t},c.Alternatives.prototype.when=function(e,t){n.assert(a.isRef(e)||"string"==typeof e,"Invalid reference:",e),n.assert(t,"Missing options"),n.assert("object"==typeof t,"Invalid options"),n.assert(t.hasOwnProperty("is"),'Missing "is" directive'),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var r=this.clone(),i={ref:o.ref(e),is:o.schema(t.is),then:void 0!==t.then?o.schema(t.then):void 0,otherwise:void 0!==t.otherwise?o.schema(t.otherwise):void 0};return a.push(r._refs,i.ref),r._refs=r._refs.concat(i.is._refs),i.then&&i.then._refs&&(r._refs=r._refs.concat(i.then._refs)),i.otherwise&&i.otherwise._refs&&(r._refs=r._refs.concat(i.otherwise._refs)),r._inner.matches.push(i),r},c.Alternatives.prototype.describe=function(){for(var e=i.prototype.describe.call(this),t=[],r=0,n=this._inner.matches.length;r<n;++r){var o=this._inner.matches[r];if(o.schema)t.push(o.schema.describe());else{var a={ref:o.ref.toString(),is:o.is.describe()};o.then&&(a.then=o.then.describe()),o.otherwise&&(a.otherwise=o.otherwise.describe()),t.push(a)}}return e.alternatives=t,e},e.exports=new c.Alternatives},function(e,t,r){var n=r(13),i=r(15),o=r(52),a=r(9),s=r(37),c={};c.isoDate=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\d))$/,c.invalidDate=new Date(""),c.isIsoDate=function(){var e=c.isoDate.toString();return function(t){return t&&t.toString()===e}}(),c.Date=function(){n.call(this),this._type="date"},a.inherits(c.Date,n),c.Date.prototype._base=function(e,t,r){var n={value:r.convert&&c.toDate(e,this._flags.format)||e};return n.value instanceof Date&&!isNaN(n.value.getTime())?n.errors=null:n.errors=i.create(c.isIsoDate(this._flags.format)?"date.isoDate":"date.base",null,t,r),n},c.toDate=function(e,t){if(e instanceof Date)return e;if("string"==typeof e||a.isInteger(e)){"string"==typeof e&&/^[+-]?\d+$/.test(e)&&(e=parseInt(e,10));var r;if(t?c.isIsoDate(t)?r=t.test(e)?new Date(e):c.invalidDate:(r=s(e,t,!0),r=r.isValid()?r.toDate():c.invalidDate):r=new Date(e),!isNaN(r.getTime()))return r}return null},c.compare=function(e,t){return function(r){var n="now"===r,s=o.isRef(r);return n||s||(r=c.toDate(r)),a.assert(r,"Invalid date format"),this._test(e,r,function(o,a,u){var l;if(n)l=Date.now();else if(s){if(!(l=c.toDate(r(a.parent))))return i.create("date.ref",{ref:r.key},a,u);l=l.getTime()}else l=r.getTime();return t(o.getTime(),l)?null:i.create("date."+e,{limit:new Date(l)},a,u)})}},c.Date.prototype.min=c.compare("min",function(e,t){return e>=t}),c.Date.prototype.max=c.compare("max",function(e,t){return e<=t}),c.Date.prototype.format=function(e){a.assert("string"==typeof e||Array.isArray(e)&&e.every(function(e){return"string"==typeof e}),"Invalid format.");var t=this.clone();return t._flags.format=e,t},c.Date.prototype.iso=function(){var e=this.clone();return e._flags.format=c.isoDate,e},c.Date.prototype._isIsoDate=function(e){return c.isoDate.test(e)},e.exports=new c.Date},function(e,t,r){var n=r(25),i=r(19),o=n(i,"Map");e.exports=o},function(e,t,r){function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var n=r(551),i=r(552),o=r(553),a=r(554),s=r(555);MapCache.prototype.clear=n,MapCache.prototype.delete=i,MapCache.prototype.get=o,MapCache.prototype.has=a,MapCache.prototype.set=s,e.exports=MapCache},function(e,t){function isIndex(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=isIndex},function(e,t,r){function isKey(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}var n=r(16),i=r(114),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=isKey},function(e,t){function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=isPrototype},function(e,t){function identity(e){return e}e.exports=identity},function(e,t,r){var n=r(511),i=r(55),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){(function(e){var n=r(19),i=r(583),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,c=s?n.Buffer:void 0,u=c?c.isBuffer:void 0,l=u||i;e.exports=l}).call(t,r(29)(e))},function(e,t){function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=isLength},function(e,t,r){function isSymbol(e){return"symbol"==typeof e||i(e)&&n(e)==o}var n=r(53),i=r(55),o="[object Symbol]";e.exports=isSymbol},function(e,t,r){var n=r(515),i=r(525),o=r(559),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t,r){function assertEncoding(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var n=r(0).Buffer,i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};o.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,n=t.charCodeAt(i);if(n>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},function(e,t,r){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(e,t,r){if(e&&i.isObject(e)&&e instanceof Url)return e;var n=new Url;return n.parse(e,t,r),n}function urlFormat(e){return i.isString(e)&&(e=urlParse(e)),e instanceof Url?e.format():Url.prototype.format.call(e)}function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)}function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t}var n=r(597),i=r(588);t.parse=urlParse,t.resolve=urlResolve,t.resolveObject=urlResolveObject,t.format=urlFormat,t.Url=Url;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],u=["{","}","|","\\","^","`"].concat(c),l=["'"].concat(u),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],d={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(119);Url.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),c=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(c);u[0]=u[0].replace(/\\/g,"/"),e=u.join(c);var g=e;if(g=g.trim(),!r&&1===e.split("#").length){var v=s.exec(g);if(v)return this.path=g,this.href=g,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=o.exec(g);if(b){b=b[0];var _=b.toLowerCase();this.protocol=_,g=g.substr(b.length)}if(r||b||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===g.substr(0,2);!w||b&&p[b]||(g=g.substr(2),this.slashes=!0)}if(!p[b]&&(w||b&&!y[b])){for(var E=-1,S=0;S<h.length;S++){var k=g.indexOf(h[S]);-1!==k&&(-1===E||k<E)&&(E=k)}var C,x;x=-1===E?g.lastIndexOf("@"):g.lastIndexOf("@",E),-1!==x&&(C=g.slice(0,x),g=g.slice(x+1),this.auth=decodeURIComponent(C)),E=-1;for(var S=0;S<f.length;S++){var k=g.indexOf(f[S]);-1!==k&&(-1===E||k<E)&&(E=k)}-1===E&&(E=g.length),this.host=g.slice(0,E),g=g.slice(E),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var R=this.hostname.split(/\./),S=0,O=R.length;S<O;S++){var A=R[S];if(A&&!A.match(/^[+a-z0-9A-Z_-]{0,63}$/)){for(var M="",I=0,T=A.length;I<T;I++)A.charCodeAt(I)>127?M+="x":M+=A[I];if(!M.match(/^[+a-z0-9A-Z_-]{0,63}$/)){var D=R.slice(0,S),j=R.slice(S+1),N=A.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);N&&(D.push(N[1]),j.unshift(N[2])),j.length&&(g="/"+j.join(".")+g),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var L=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+L,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!d[_])for(var S=0,O=l.length;S<O;S++){var F=l[S];if(-1!==g.indexOf(F)){var q=encodeURIComponent(F);q===F&&(q=escape(F)),g=g.split(F).join(q)}}var U=g.indexOf("#");-1!==U&&(this.hash=g.substr(U),g=g.slice(0,U));var H=g.indexOf("?");if(-1!==H?(this.search=g.substr(H),this.query=g.substr(H+1),t&&(this.query=m.parse(this.query)),g=g.slice(0,H)):t&&(this.search="",this.query={}),g&&(this.pathname=g),y[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",V=this.search||"";this.path=L+V}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+o+r+s+n},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(i.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var r=new Url,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var u=s[c];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var h=l[f];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||p[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=b||v||r.host&&e.pathname,w=_,E=r.pathname&&r.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],S=r.protocol&&!y[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===E[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S){r.hostname=r.host=E.shift();var k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=E.slice(-1)[0],x=(r.host||e.host||E.length>1)&&("."===C||".."===C)||""===C,P=0,R=E.length;R>=0;R--)C=E[R],"."===C?E.splice(R,1):".."===C?(E.splice(R,1),P++):P&&(E.splice(R,1),P--);if(!_&&!w)for(;P--;P)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),x&&"/"!==E.join("/").substr(-1)&&E.push("");var O=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(S){r.hostname=r.host=O?"":E.length?E.shift():"";var k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return _=_||r.host&&E.length,_&&!O&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";(function(t){function nextTick(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=nextTick:e.exports=t.nextTick}).call(t,r(7))},function(e,t,r){"use strict";t.decode=t.parse=r(600),t.encode=t.stringify=r(601)},function(e,t,r){"use strict";(function(t,n){function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){i=i||r(28),e=e||{},this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:o,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(i=i||r(28),!(h.call(Writable,this)||this instanceof i))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),u.call(this)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),o(t,r)}function validChunk(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o(n,a),i=!1),i}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r)),t}function writeOrBuffer(e,t,r,n,i,o){r||(n=decodeChunk(t,n,i),l.isBuffer(n)&&(i="buffer"));var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(n,i,o),c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,n,i,o);return s}function doWrite(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n,i){--t.pendingcb,r?o(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,n,t,i);else{var o=needFinish(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),n?a(afterWrite,e,r,o,i):afterWrite(e,r,o,i)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0;r;)i[a]=r,r=r.next,a+=1;doWrite(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var s=r.chunk,c=r.encoding,u=r.callback;if(doWrite(e,t,!1,t.objectMode?1:s.length,s,c,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?o(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=Writable;var i,o=r(118),a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o;Writable.WritableState=WritableState;var s=r(45);s.inherits=r(2);var c={deprecate:r(644)},u=r(221),l=r(0).Buffer,f=r(85);s.inherits(Writable,u),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var h;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||e&&e._writableState instanceof WritableState}})):h=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=l.isBuffer(e);return"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop),n.ended?writeAfterEnd(this,r):(o||validChunk(this,n,e,r))&&(n.pendingcb++,i=writeOrBuffer(this,n,o,e,t,r)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||endWritable(this,n,r)}}).call(t,r(7),r(225).setImmediate)},function(e,t,r){t=e.exports=r(219),t.Stream=t,t.Readable=t,t.Writable=r(120),t.Duplex=r(28),t.Transform=r(220),t.PassThrough=r(609)},function(e,t,r){function Stream(){n.call(this)}e.exports=Stream;var n=r(50).EventEmitter;r(2)(Stream,n),Stream.Readable=r(121),Stream.Writable=r(613),Stream.Duplex=r(608),Stream.Transform=r(612),Stream.PassThrough=r(611),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){function ondata(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function ondrain(){r.readable&&r.resume&&r.resume()}function onend(){i||(i=!0,e.end())}function onclose(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){if(cleanup(),0===n.listenerCount(this,"error"))throw e}function cleanup(){r.removeListener("data",ondata),e.removeListener("drain",ondrain),r.removeListener("end",onend),r.removeListener("close",onclose),r.removeListener("error",onerror),e.removeListener("error",onerror),r.removeListener("end",cleanup),r.removeListener("close",cleanup),e.removeListener("close",cleanup)}var r=this;r.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&!1===t.end||(r.on("end",onend),r.on("close",onclose));var i=!1;return r.on("error",onerror),e.on("error",onerror),r.on("end",cleanup),r.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",r),e}},function(e,t){function isObject(e){return null!==e&&"object"==typeof e}e.exports=isObject},function(e,t,r){"use strict";function extractProtocol(e){var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function resolve(e,t){for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(o=!0),r.splice(n,1),a--);return o&&r.unshift(""),"."!==i&&".."!==i||r.push(""),r.join("/")}function URL(e,t,r){if(!(this instanceof URL))return new URL(e,t,r);var a,c,u,l,f,h,d=s.slice(),p=typeof t,y=this,m=0;for("object"!==p&&"string"!==p&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=i(t),c=extractProtocol(e||""),a=!c.protocol&&!c.slashes,y.slashes=c.slashes||a&&t.slashes,y.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(d[2]=[/(.*)/,"pathname"]);m<d.length;m++)l=d[m],u=l[0],h=l[1],u!==u?y[h]=e:"string"==typeof u?~(f=e.indexOf(u))&&("number"==typeof l[2]?(y[h]=e.slice(0,f),e=e.slice(f+l[2])):(y[h]=e.slice(f),e=e.slice(0,f))):(f=u.exec(e))&&(y[h]=f[1],e=e.slice(0,f.index)),y[h]=y[h]||(a&&l[3]?t[h]||"":""),l[4]&&(y[h]=y[h].toLowerCase());r&&(y.query=r(y.query)),a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=resolve(y.pathname,t.pathname)),n(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(l=y.auth.split(":"),y.username=l[0]||"",y.password=l[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function set(e,t,r){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,n(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":i.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:i[e]=t}for(var a=0;a<s.length;a++){var c=s[a];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function toString(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(r.slashes?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,t="object"==typeof r.query?e(r.query):r.query,t&&(i+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(i+=r.hash),i}var n=r(614),i=r(643),o=r(602),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];URL.prototype={set:set,toString:toString},URL.extractProtocol=extractProtocol,URL.location=i,URL.qs=o,e.exports=URL},function(e,t){},function(e,t,r){function DecoderBuffer(e,t){if(i.call(this,t),!o.isBuffer(e))return void this.error("Input not Buffer");this.base=e,this.offset=0,this.length=e.length}function EncoderBuffer(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof EncoderBuffer||(e=new EncoderBuffer(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var n=r(2),i=r(42).Reporter,o=r(0).Buffer;n(DecoderBuffer,i),t.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(e){var t=new DecoderBuffer(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new DecoderBuffer(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},DecoderBuffer.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,r){var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r}),t},n.der=r(254)},function(e,t,r){function DERDecoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){o.Node.call(this,"der",e)}function derDecodeTag(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=s.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function derDecodeLen(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}var n=r(2),i=r(41),o=i.base,a=i.bignum,s=i.constants.der;e.exports=DERDecoder,DERDecoder.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(DERNode,o.Node),DERNode.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=derDecodeTag(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},DERNode.prototype._decodeTag=function(e,t,r){var n=derDecodeTag(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=derDecodeLen(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},DERNode.prototype._skipUntilEnd=function(e,t){for(;;){var r=derDecodeTag(e,t);if(e.isError(r))return r;var n=derDecodeLen(e,r.primitive,t);if(e.isError(n))return n;var i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},DERNode.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=r.decode(e,"der",n);if(e.isError(a)&&o)break;i.push(a)}return i},DERNode.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},DERNode.prototype._decodeObjid=function(e,t,r){for(var n,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,c=i[0]%40;if(n=r?i:[s,c].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},DERNode.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),c=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,c,0)},DERNode.prototype._decodeNull=function(e){return null},DERNode.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},DERNode.prototype._decodeInt=function(e,t){var r=e.raw(),n=new a(r);return t&&(n=t[n.toString(10)]||n),n},DERNode.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,r){function DEREncoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){a.Node.call(this,"der",e)}function two(e){return e<10?"0"+e:e}function encodeTag(e,t,r,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=s.tagClassByName[r||"universal"]<<6)}var n=r(2),i=r(0).Buffer,o=r(41),a=o.base,s=o.constants.der;e.exports=DEREncoder,DEREncoder.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(DERNode,a.Node),DERNode.prototype._encodeComposite=function(e,t,r,n){var o=encodeTag(e,t,r,this.reporter);if(n.length<128){var a=new i(2);return a[0]=o,a[1]=n.length,this._createEncoderBuffer([a,n])}for(var s=1,c=n.length;c>=256;c>>=8)s++;var a=new i(2+s);a[0]=o,a[1]=128|s;for(var c=1+s,u=n.length;u>0;c--,u>>=8)a[c]=255&u;return this._createEncoderBuffer([a,n])},DERNode.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},DERNode.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,n=0;n<e.length;n++){var a=e[n];for(o++;a>=128;a>>=7)o++}for(var s=new i(o),c=s.length-1,n=e.length-1;n>=0;n--){var a=e[n];for(s[c--]=127&a;(a>>=7)>0;)s[c--]=128|127&a}return this._createEncoderBuffer(s)},DERNode.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[two(n.getFullYear()),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[two(n.getFullYear()%100),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new i(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var n=1,a=e;a>=256;a>>=8)n++;for(var o=new Array(n),a=o.length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},DERNode.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},DERNode.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},DERNode.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},function(e,t,r){r(31);var n=r(1),i=r(32),o=r(30);o.services.cognitoidentity={},n.CognitoIdentity=i.defineService("cognitoidentity",["2014-06-30"]),r(288),Object.defineProperty(o.services.cognitoidentity,"2014-06-30",{get:function(){var e=r(259);return e.paginators=r(260).pagination,e},enumerable:!0,configurable:!0}),e.exports=n.CognitoIdentity},function(e,t,r){var n=r(1);n.Credentials=n.util.inherit({constructor:function(){if(n.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=n.util.date.getDate().getTime(),t=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&t>this.expireTime)||(this.expired||!this.accessKeyId||!this.secretAccessKey)},get:function(e){var t=this;this.needsRefresh()?this.refresh(function(r){r||(t.expired=!1),e&&e(r)}):e&&e()},refresh:function(e){this.expired=!1,e()}}),n.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=n.util.promisifyMethod("get",e),this.prototype.refreshPromise=n.util.promisifyMethod("refresh",e)},n.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},n.util.addPromises(n.Credentials)},function(e,t,r){var n=r(1);n.CredentialProviderChain=n.util.inherit(n.Credentials,{constructor:function(e){this.providers=e||n.CredentialProviderChain.defaultProviders.slice(0)},resolve:function(e){function resolveNext(n,i){if(!n&&i||t===r.length)return void e(n,i);var o=r[t++];i="function"==typeof o?o.call():o,i.get?i.get(function(e){resolveNext(e,e?null:i)}):resolveNext(null,i)}if(0===this.providers.length)return e(new Error("No providers")),this;var t=0,r=this.providers.slice(0);return resolveNext(),this}}),n.CredentialProviderChain.defaultProviders=[],n.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=n.util.promisifyMethod("resolve",e)},n.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},n.util.addPromises(n.CredentialProviderChain)},function(e,t,r){var n=r(1),i=n.util.inherit;n.Endpoint=i({constructor:function(e,t){if(n.util.hideProperties(this,["slashes","auth","hash","search","query"]),void 0===e||null===e)throw new Error("Invalid endpoint: "+e);if("string"!=typeof e)return n.util.copy(e);if(!e.match(/^http/)){e=((t&&void 0!==t.sslEnabled?t.sslEnabled:n.config.sslEnabled)?"https":"http")+"://"+e}n.util.update(this,n.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),n.HttpRequest=i({constructor:function(e,t){e=new n.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=t,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=n.util.userAgent()},getUserAgentHeaderName:function(){return(n.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(e){"string"==typeof e&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=n.util.queryStringParse(e),n.util.queryParamsToString(e)):""}}),n.HttpResponse=i({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),n.HttpClient=i({}),n.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},function(e,t,r){function Api(e,t){e=e||{},t=t||{},t.api=this,e.metadata=e.metadata||{},u(this,"isApi",!0,!1),u(this,"apiVersion",e.metadata.apiVersion),u(this,"endpointPrefix",e.metadata.endpointPrefix),u(this,"signingName",e.metadata.signingName),u(this,"globalEndpoint",e.metadata.globalEndpoint),u(this,"signatureVersion",e.metadata.signatureVersion),u(this,"jsonVersion",e.metadata.jsonVersion),u(this,"targetPrefix",e.metadata.targetPrefix),u(this,"protocol",e.metadata.protocol),u(this,"timestampFormat",e.metadata.timestampFormat),u(this,"xmlNamespaceUri",e.metadata.xmlNamespace),u(this,"abbreviation",e.metadata.serviceAbbreviation),u(this,"fullName",e.metadata.serviceFullName),l(this,"className",function(){var t=e.metadata.serviceAbbreviation||e.metadata.serviceFullName;return t?(t=t.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),"ElasticLoadBalancing"===t&&(t="ELB"),t):null}),u(this,"operations",new n(e.operations,t,function(e,r){return new i(e,r,t)},c.string.lowerFirst)),u(this,"shapes",new n(e.shapes,t,function(e,r){return o.create(r,t)})),u(this,"paginators",new n(e.paginators,t,function(e,r){return new a(e,r,t)})),u(this,"waiters",new n(e.waiters,t,function(e,r){return new s(e,r,t)},c.string.lowerFirst)),t.documentation&&(u(this,"documentation",e.documentation),u(this,"documentationUrl",e.documentationUrl))}var n=r(135),i=r(136),o=r(43),a=r(137),s=r(138),c=r(5),u=c.property,l=c.memoizedProperty;e.exports=Api},function(e,t,r){function memoize(e,t,r,i){n(this,i(e),function(){return r(e,t)})}function Collection(e,t,r,n){n=n||String;var i=this;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&memoize.call(i,o,e[o],r,n)}var n=r(5).memoizedProperty;e.exports=Collection},function(e,t,r){function Operation(e,t,r){var i=this;r=r||{},o(this,"name",t.name||e),o(this,"api",r.api,!1),t.http=t.http||{},o(this,"httpMethod",t.http.method||"POST"),o(this,"httpPath",t.http.requestUri||"/"),o(this,"authtype",t.authtype||""),a(this,"input",function(){return t.input?n.create(t.input,r):new n.create({type:"structure"},r)}),a(this,"output",function(){return t.output?n.create(t.output,r):new n.create({type:"structure"},r)}),a(this,"errors",function(){var e=[];if(!t.errors)return null;for(var i=0;i<t.errors.length;i++)e.push(n.create(t.errors[i],r));return e}),a(this,"paginator",function(){return r.api.paginators[e]}),r.documentation&&(o(this,"documentation",t.documentation),o(this,"documentationUrl",t.documentationUrl)),a(this,"idempotentMembers",function(){var e=[],t=i.input,r=t.members;if(!t.members)return e;for(var n in r)r.hasOwnProperty(n)&&!0===r[n].isIdempotent&&e.push(n);return e})}var n=r(43),i=r(5),o=i.property,a=i.memoizedProperty;e.exports=Operation},function(e,t,r){function Paginator(e,t){n(this,"inputToken",t.input_token),n(this,"limitKey",t.limit_key),n(this,"moreResults",t.more_results),n(this,"outputToken",t.output_token),n(this,"resultKey",t.result_key)}var n=r(5).property;e.exports=Paginator},function(e,t,r){function ResourceWaiter(e,t,r){r=r||{},i(this,"name",e),i(this,"api",r.api,!1),t.operation&&i(this,"operation",n.string.lowerFirst(t.operation));var o=this;["type","description","delay","maxAttempts","acceptors"].forEach(function(e){var r=t[e];r&&i(o,e,r)})}var n=r(5),i=n.property;e.exports=ResourceWaiter},function(e,t,r){function buildRequest(e){var t=e.service.api.operations[e.operation],r=e.httpRequest;r.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",r.params={Version:e.service.api.apiVersion,Action:t.name},(new o).serialize(e.params,t.input,function(e,t){r.params[e]=t}),r.body=i.queryParamsToString(r.params)}function extractError(e){var t,r=e.httpResponse.body.toString();if(r.match("<UnknownOperationException"))t={Code:"UnknownOperation",Message:"Unknown operation "+e.request.operation};else try{t=(new n.XML.Parser).parse(r)}catch(r){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.requestId&&!e.requestId&&(e.requestId=t.requestId),t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})}function extractData(e){var t=e.request,r=t.service.api.operations[t.operation],o=r.output||{},s=o;if(s.resultWrapper){var c=a.create({type:"structure"});c.members[s.resultWrapper]=o,c.memberNames=[s.resultWrapper],i.property(o,"name",o.resultWrapper),o=c}var u=new n.XML.Parser;if(o&&o.members&&!o.members._XAMZRequestId){var l=a.create({type:"string"},{api:{protocol:"query"}},"requestId");o.members._XAMZRequestId=l}var f=u.parse(e.httpResponse.body.toString(),o);e.requestId=f._XAMZRequestId||f.requestId,f._XAMZRequestId&&delete f._XAMZRequestId,s.resultWrapper&&f[s.resultWrapper]&&(i.update(f,f[s.resultWrapper]),delete f[s.resultWrapper]),e.data=f}var n=r(1),i=r(5),o=r(282),a=r(43);e.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(e,t,r){function populateBody(e){var t=new a,r=e.service.api.operations[e.operation].input;if(r.payload){var n={},i=r.members[r.payload];if(void 0===(n=e.params[r.payload]))return;"structure"===i.type?e.httpRequest.body=t.build(n,i):e.httpRequest.body=n}else e.httpRequest.body=t.build(e.params,r)}function buildRequest(e){i.buildRequest(e),["GET","HEAD","DELETE"].indexOf(e.httpRequest.method)<0&&populateBody(e)}function extractError(e){o.extractError(e)}function extractData(e){i.extractData(e);var t=e.request,r=t.service.api.operations[t.operation].output||{};if(r.payload){var a=r.members[r.payload],c=e.httpResponse.body;if("structure"===a.type||"list"===a.type){var u=new s;e.data[r.payload]=u.parse(c,a)}else"binary"===a.type||a.isStreaming?e.data[r.payload]=c:e.data[r.payload]=a.toType(c)}else{var l=e.data;o.extractData(e),e.data=n.merge(l,e.data)}}var n=r(5),i=r(60),o=r(82),a=r(80),s=r(81);e.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(e,t,r){function populateBody(e){var t=e.service.api.operations[e.operation].input,r=new n.XML.Builder,o=e.params,a=t.payload;if(a){var s=t.members[a];if(void 0===(o=o[a]))return;if("structure"===s.type){var c=s.name;e.httpRequest.body=r.toXML(o,s,c,!0)}else e.httpRequest.body=o}else e.httpRequest.body=r.toXML(o,t,t.name||t.shape||i.string.upperFirst(e.operation)+"Request")}function buildRequest(e){o.buildRequest(e),["GET","HEAD"].indexOf(e.httpRequest.method)<0&&populateBody(e)}function extractError(e){o.extractError(e);var t;try{t=(new n.XML.Parser).parse(e.httpResponse.body.toString())}catch(r){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})}function extractData(e){o.extractData(e);var t,r=e.request,a=e.httpResponse.body,s=r.service.api.operations[r.operation],c=s.output,u=c.payload;if(u){var l=c.members[u];"structure"===l.type?(t=new n.XML.Parser,e.data[u]=t.parse(a.toString(),l)):"binary"===l.type||l.isStreaming?e.data[u]=a:e.data[u]=l.toType(a)}else if(a.length>0){t=new n.XML.Parser;var f=t.parse(a.toString(),c);i.update(e.data,f)}}var n=r(1),i=r(5),o=r(60);e.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(e,t,r){var n=r(1);n.SequentialExecutor=n.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,t){return this._events[e]?this._events[e].push(t):this._events[e]=[t],this},onAsync:function(e,t){return t._isAsync=!0,this.on(e,t)},removeListener:function(e,t){var r=this._events[e];if(r){for(var n=r.length,i=-1,o=0;o<n;++o)r[o]===t&&(i=o);i>-1&&r.splice(i,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,t,r){r||(r=function(){});var n=this.listeners(e),i=n.length;return this.callListeners(n,t,r),i>0},callListeners:function(e,t,r,i){function callNextListener(i){if(i&&(a=n.util.error(a||new Error,i),o._haltHandlersOnError))return r.call(o,a);o.callListeners(e,t,r,a)}for(var o=this,a=i||null;e.length>0;){var s=e.shift();if(s._isAsync)return void s.apply(o,t.concat([callNextListener]));try{s.apply(o,t)}catch(e){a=n.util.error(a||new Error,e)}if(a&&o._haltHandlersOnError)return void r.call(o,a)}r.call(o,a)},addListeners:function(e){var t=this;return e._events&&(e=e._events),n.util.each(e,function(e,r){"function"==typeof r&&(r=[r]),n.util.arrayEach(r,function(r){t.on(e,r)})}),t},addNamedListener:function(e,t,r){return this[e]=r,this.addListener(t,r),this},addNamedAsyncListener:function(e,t,r){return r._isAsync=!0,this.addNamedListener(e,t,r)},addNamedListeners:function(e){var t=this;return e(function(){t.addNamedListener.apply(t,arguments)},function(){t.addNamedAsyncListener.apply(t,arguments)}),this}}),n.SequentialExecutor.prototype.addListener=n.SequentialExecutor.prototype.on,e.exports=n.SequentialExecutor},function(e,t,r){var n=r(1),i=n.util.inherit;n.Signers.V3=i(n.Signers.RequestSigner,{addAuthorization:function(e,t){var r=n.util.date.rfc822(t);this.request.headers["X-Amz-Date"]=r,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,r)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return n.util.arrayEach(this.headersToSign(),function(t){e.push(t.toLowerCase())}),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,t=[];return n.util.arrayEach(this.headersToSign(),function(r){t.push(r.toLowerCase().trim()+":"+String(e[r]).trim())}),t.sort().join("\n")+"\n"},headersToSign:function(){var e=[];return n.util.each(this.request.headers,function(t){("Host"===t||"Content-Encoding"===t||t.match(/^X-Amz/i))&&e.push(t)}),e},signature:function(e){return n.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),n.util.crypto.sha256(e.join("\n"))}}),e.exports=n.Signers.V3},function(e,t,r){function Rand(e){this.rand=e}var n;if(e.exports=function(e){return n||(n=new Rand(null)),n.generate(e)},e.exports.Rand=Rand,Rand.prototype.generate=function(e){return this._rand(e)},Rand.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=r(663);if("function"!=typeof i.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(e){return i.randomBytes(e)}}catch(e){}},function(e,t,r){(function(t){function StreamCipher(e,r,o,s){if(!(this instanceof StreamCipher))return new StreamCipher(e,r,o);i.call(this),this._finID=t.concat([o,new t([0,0,0,1])]),o=t.concat([o,new t([0,0,0,2])]),this._cipher=new n.AES(r),this._prev=new t(o.length),this._cache=new t(""),this._secCache=new t(""),this._decrypt=s,this._alen=0,this._len=0,o.copy(this._prev),this._mode=e;var c=new t(4);c.fill(0),this._ghash=new a(this._cipher.encryptBlock(c)),this._authTag=null,this._called=!1}function xorTest(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=-1;++i<n;)r+=e[i]^t[i];return r}var n=r(61),i=r(33),o=r(2),a=r(308),s=r(44);o(StreamCipher,i),e.exports=StreamCipher,StreamCipher.prototype._update=function(e){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=new t(r),r.fill(0),this._ghash.update(r))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=s(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=e;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&t.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},StreamCipher.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length}}).call(t,r(0).Buffer)},function(e,t,r){var n=r(44);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},function(e,t,r){(function(e){function encryptStart(t,r,i){var o=r.length,a=n(r,t._cache);return t._cache=t._cache.slice(o),t._prev=e.concat([t._prev,i?r:a]),a}var n=r(44);t.encrypt=function(t,r,n){for(var i,o=new e("");r.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=new e("")),!(t._cache.length<=r.length)){o=e.concat([o,encryptStart(t,r,n)]);break}i=t._cache.length,o=e.concat([o,encryptStart(t,r.slice(0,i),n)]),r=r.slice(i)}return o}}).call(t,r(0).Buffer)},function(e,t,r){(function(e){function encryptByte(e,t,r){for(var n,i,o,a=-1,s=0;++a<8;)n=e._cipher.encryptBlock(e._prev),i=t&1<<7-a?128:0,o=n[0]^i,s+=(128&o)>>a%8,e._prev=shiftIn(e._prev,r?i:o);return s}function shiftIn(t,r){var n=t.length,i=-1,o=new e(t.length);for(t=e.concat([t,new e([r])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}t.encrypt=function(t,r,n){for(var i=r.length,o=new e(i),a=-1;++a<i;)o[a]=encryptByte(t,r[a],n);return o}}).call(t,r(0).Buffer)},function(e,t,r){(function(e){function encryptByte(t,r,n){var i=t._cipher.encryptBlock(t._prev),o=i[0]^r;return t._prev=e.concat([t._prev.slice(1),new e([n?r:o])]),o}t.encrypt=function(t,r,n){for(var i=r.length,o=new e(i),a=-1;++a<i;)o[a]=encryptByte(t,r[a],n);return o}}).call(t,r(0).Buffer)},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,r){(function(e){function getBlock(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var n=r(44);t.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=e.concat([t._cache,getBlock(t)]);var i=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),n(r,i)}}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function StreamCipher(e,r,o,a){if(!(this instanceof StreamCipher))return new StreamCipher(e,r,o);i.call(this),this._cipher=new n.AES(r),this._prev=new t(o.length),this._cache=new t(""),this._secCache=new t(""),this._decrypt=a,o.copy(this._prev),this._mode=e}var n=r(61),i=r(33);r(2)(StreamCipher,i),e.exports=StreamCipher,StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(t,r(0).Buffer)},function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,r){"use strict";function core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,c=n,u=i,l=o;r=md5_ff(r,n,i,o,e[a+0],7,-680876936),o=md5_ff(o,r,n,i,e[a+1],12,-389564586),i=md5_ff(i,o,r,n,e[a+2],17,606105819),n=md5_ff(n,i,o,r,e[a+3],22,-1044525330),r=md5_ff(r,n,i,o,e[a+4],7,-176418897),o=md5_ff(o,r,n,i,e[a+5],12,1200080426),i=md5_ff(i,o,r,n,e[a+6],17,-1473231341),n=md5_ff(n,i,o,r,e[a+7],22,-45705983),r=md5_ff(r,n,i,o,e[a+8],7,1770035416),o=md5_ff(o,r,n,i,e[a+9],12,-1958414417),i=md5_ff(i,o,r,n,e[a+10],17,-42063),n=md5_ff(n,i,o,r,e[a+11],22,-1990404162),r=md5_ff(r,n,i,o,e[a+12],7,1804603682),o=md5_ff(o,r,n,i,e[a+13],12,-40341101),i=md5_ff(i,o,r,n,e[a+14],17,-1502002290),n=md5_ff(n,i,o,r,e[a+15],22,1236535329),r=md5_gg(r,n,i,o,e[a+1],5,-165796510),o=md5_gg(o,r,n,i,e[a+6],9,-1069501632),i=md5_gg(i,o,r,n,e[a+11],14,643717713),n=md5_gg(n,i,o,r,e[a+0],20,-373897302),r=md5_gg(r,n,i,o,e[a+5],5,-701558691),o=md5_gg(o,r,n,i,e[a+10],9,38016083),i=md5_gg(i,o,r,n,e[a+15],14,-660478335),n=md5_gg(n,i,o,r,e[a+4],20,-405537848),r=md5_gg(r,n,i,o,e[a+9],5,568446438),o=md5_gg(o,r,n,i,e[a+14],9,-1019803690),i=md5_gg(i,o,r,n,e[a+3],14,-187363961),n=md5_gg(n,i,o,r,e[a+8],20,1163531501),r=md5_gg(r,n,i,o,e[a+13],5,-1444681467),o=md5_gg(o,r,n,i,e[a+2],9,-51403784),i=md5_gg(i,o,r,n,e[a+7],14,1735328473),n=md5_gg(n,i,o,r,e[a+12],20,-1926607734),r=md5_hh(r,n,i,o,e[a+5],4,-378558),o=md5_hh(o,r,n,i,e[a+8],11,-2022574463),i=md5_hh(i,o,r,n,e[a+11],16,1839030562),n=md5_hh(n,i,o,r,e[a+14],23,-35309556),r=md5_hh(r,n,i,o,e[a+1],4,-1530992060),o=md5_hh(o,r,n,i,e[a+4],11,1272893353),i=md5_hh(i,o,r,n,e[a+7],16,-155497632),n=md5_hh(n,i,o,r,e[a+10],23,-1094730640),r=md5_hh(r,n,i,o,e[a+13],4,681279174),o=md5_hh(o,r,n,i,e[a+0],11,-358537222),i=md5_hh(i,o,r,n,e[a+3],16,-722521979),n=md5_hh(n,i,o,r,e[a+6],23,76029189),r=md5_hh(r,n,i,o,e[a+9],4,-640364487),o=md5_hh(o,r,n,i,e[a+12],11,-421815835),i=md5_hh(i,o,r,n,e[a+15],16,530742520),n=md5_hh(n,i,o,r,e[a+2],23,-995338651),r=md5_ii(r,n,i,o,e[a+0],6,-198630844),o=md5_ii(o,r,n,i,e[a+7],10,1126891415),i=md5_ii(i,o,r,n,e[a+14],15,-1416354905),n=md5_ii(n,i,o,r,e[a+5],21,-57434055),r=md5_ii(r,n,i,o,e[a+12],6,1700485571),o=md5_ii(o,r,n,i,e[a+3],10,-1894986606),i=md5_ii(i,o,r,n,e[a+10],15,-1051523),n=md5_ii(n,i,o,r,e[a+1],21,-2054922799),r=md5_ii(r,n,i,o,e[a+8],6,1873313359),o=md5_ii(o,r,n,i,e[a+15],10,-30611744),i=md5_ii(i,o,r,n,e[a+6],15,-1560198380),n=md5_ii(n,i,o,r,e[a+13],21,1309151649),r=md5_ii(r,n,i,o,e[a+4],6,-145523070),o=md5_ii(o,r,n,i,e[a+11],10,-1120210379),i=md5_ii(i,o,r,n,e[a+2],15,718787259),n=md5_ii(n,i,o,r,e[a+9],21,-343485551),r=safe_add(r,s),n=safe_add(n,c),i=safe_add(i,u),o=safe_add(o,l)}return Array(r,n,i,o)}function md5_cmn(e,t,r,n,i,o){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(n,o)),i),r)}function md5_ff(e,t,r,n,i,o,a){return md5_cmn(t&r|~t&n,e,t,i,o,a)}function md5_gg(e,t,r,n,i,o,a){return md5_cmn(t&n|r&~n,e,t,i,o,a)}function md5_hh(e,t,r,n,i,o,a){return md5_cmn(t^r^n,e,t,i,o,a)}function md5_ii(e,t,r,n,i,o,a){return md5_cmn(r^(t|~n),e,t,i,o,a)}function safe_add(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}var n=r(319);e.exports=function(e){return n.hash(e,core_md5,16)}},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractFsDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(64),o=r(27),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.AbstractFsDriver=function(e){function AbstractFsDriver(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AbstractFsDriver.DEFAULT_DIRECTORY;_classCallCheck(this,AbstractFsDriver);var t=_possibleConstructorReturn(this,(AbstractFsDriver.__proto__||Object.getPrototypeOf(AbstractFsDriver)).call(this));return t._directory=e,t}return _inherits(AbstractFsDriver,e),n(AbstractFsDriver,[{key:"_buildKey",value:function(e){return`${this._directory}/${AbstractFsDriver._hash(e,"sha1")}.${AbstractFsDriver._hash(e,"md5")}`}}],[{key:"_hash",value:function(e,t){return a.default.createHash(t).update(e).digest("hex")}},{key:"_now",get:function(){return parseInt((new Date).getTime()/1e3)}},{key:"DEFAULT_DIRECTORY",get:function(){return"__cache__"}}]),AbstractFsDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(64);t.InMemoryDriver=function(e){function InMemoryDriver(){_classCallCheck(this,InMemoryDriver);var e=_possibleConstructorReturn(this,(InMemoryDriver.__proto__||Object.getPrototypeOf(InMemoryDriver)).call(this));return e._storage={},e}return _inherits(InMemoryDriver,e),n(InMemoryDriver,[{key:"_type",value:function(){return"InMemory"}},{key:"_has",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return this._storage.hasOwnProperty(e)?!1===this._storage[e][1]?t(null,!0):this._storage[e][1]<InMemoryDriver._now?(this._invalidate(e),t(null,!1)):t(null,!0):t(null,!1)}},{key:"_get",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return this._storage.hasOwnProperty(e)?!1===this._storage[e][1]?t(null,this._storage[e][0]):this._storage[e][1]<InMemoryDriver._now?(this._invalidate(e),t(null,null)):t(null,this._storage[e][0]):t(null,null)}},{key:"_set",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this._storage[e]=[t,!(r<=0)&&InMemoryDriver._now+r],n(null,!0)}},{key:"_invalidate",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(t<=0)return delete this._storage[e],void r(null,!0);this._storage[e][1]=InMemoryDriver._now+t,r(null,!0)}},{key:"_flush",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this._storage={},e(null,!0)}},{key:"storage",get:function(){return this._storage}}],[{key:"_now",get:function(){return parseInt((new Date).getTime()/1e3)}}]),InMemoryDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.SharedKey=function(){function SharedKey(e,t){_classCallCheck(this,SharedKey),this._key=e,this._microservice=t}return n(SharedKey,[{key:"toString",value:function(){return this._key}},{key:"microservice",get:function(){return this._microservice}}]),SharedKey}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(47),o=r(89),a=r(35),s=r(65);t.Action=function(e){function Action(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Service.ANY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Policy.ANY;_classCallCheck(this,Action);var r=_possibleConstructorReturn(this,(Action.__proto__||Object.getPrototypeOf(Action)).call(this));return r._service=null,r._action=t,r.service=e,r}return _inherits(Action,e),n(Action,[{key:"extract",value:function(){return`${this._service}:${this._action}`}},{key:"action",set:function(e){this._action=e},get:function(){return this._action}},{key:"service",set:function(e){if(!o.Service.exists(e))throw new a.InvalidArgumentException(e,o.Service);this._service=e},get:function(){return this._service}}]),Action}(i.Extractable)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(47),o=r(164),a=r(89),s=r(35),c=r(339);t.Resource=function(e){function Resource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.Service.ANY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";_classCallCheck(this,Resource);var i=_possibleConstructorReturn(this,(Resource.__proto__||Object.getPrototypeOf(Resource)).call(this));return i._service=null,i._region=null,i._accountId=r,i._descriptor=n,i.service=e,i.region=t,i._any=!1,i}return _inherits(Resource,e),n(Resource,[{key:"any",value:function(){return this._any=!0,this}},{key:"updateFromArn",value:function(e){let t=e.split(":");if(t.length<6)throw new c.InvalidArnException(e);return this.service=t[2],this.region=t[3],this.accountId=t[4],this.descriptor=t.slice(5).join(":"),this}},{key:"extract",value:function(){return this._any?"*":`arn:aws:${this._service}:${this._region}:${this._accountId}:${this._descriptor}`}},{key:"accountId",set:function(e){this._accountId=e},get:function(){return this._accountId}},{key:"descriptor",set:function(e){this._descriptor=e},get:function(){return this._descriptor}},{key:"region",set:function(e){if(!o.Region.exists(e))throw new s.InvalidArgumentException(e,o.Region);this._region=e},get:function(){return this._region}},{key:"service",set:function(e){if(!a.Service.exists(e))throw new s.InvalidArgumentException(e,a.Service);this._service=e},get:function(){return this._service}}]),Resource}(i.Extractable)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Statement=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(161),o=r(88),a=r(160),s=r(65),c=r(47),u=r(35);t.Statement=function(e){function Statement(){_classCallCheck(this,Statement);var e=_possibleConstructorReturn(this,(Statement.__proto__||Object.getPrototypeOf(Statement)).call(this));return e._effect=Statement.ALLOW,e._action=new o.Collection(a.Action),e._notAction=new o.Collection(a.Action),e._resource=new o.Collection(i.Resource),e._notResource=new o.Collection(i.Resource),e._condition=null,e._principal=null,e}return _inherits(Statement,e),n(Statement,[{key:"extract",value:function(){let e=this._action.count()>0?this._action.extract():s.Policy.ANY,t=this._resource.count()>0?this._resource.extract():null,r={Effect:this._effect,Action:e};return null!==t&&(r.Resource=t),null!==this._condition&&this._condition instanceof Object&&(r.Condition=this._condition),null!=this._principal&&(r.Principal=this._principal),this._notAction.count()>0&&(r.NotAction=this._notAction.extract()),this._notResource.count()>0&&(r.NotResource=this._notResource.extract()),r}},{key:"effect",set:function(e){if(-1===[Statement.ALLOW,Statement.DENY].indexOf(e))throw new u.InvalidArgumentException(e,"[Statement.ALLOW, Statement.DENY]");this._effect=e},get:function(){return this._effect}},{key:"condition",set:function(e){this._condition=e},get:function(){return this._condition}},{key:"principal",set:function(e){this._principal=e},get:function(){return this._principal}},{key:"notResource",get:function(){return this._notResource}},{key:"resource",get:function(){return this._resource}},{key:"notAction",get:function(){return this._notAction}},{key:"action",get:function(){return this._action}}],[{key:"ALLOW",get:function(){return"Allow"}},{key:"DENY",get:function(){return"Deny"}}]),Statement}(c.Extractable)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(344);t.Response=function(){function Response(e,t){_classCallCheck(this,Response),this._data=t,this._runtime=e}return n(Response,[{key:"send",value:function(){if(!this._runtime.context)throw new i.MissingRuntimeContextException;return this.runtime.logService.rumLog({service:"deep-core",resourceType:"Lambda",resourceId:this.runtime.context.invokedFunctionArn,eventName:"Run"}),this.runtime.logService.rumFlush((e,t)=>{this._runtime._contextSent=!0;(this._runtime.resolver||this._runtime.context)[this.constructor.contextMethod](this.data)}),this}},{key:"runtime",get:function(){return this._runtime}},{key:"contextSent",get:function(){return this._runtime.contextSent}},{key:"data",get:function(){return this._data}},{key:"rawData",get:function(){return this._data}}],[{key:"contextMethod",get:function(){return"succeed"}}]),Response}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Region=function(){function Region(){_classCallCheck(this,Region)}return n(Region,null,[{key:"exists",value:function(e){return""===e||-1!==Region.list().indexOf(e)}},{key:"list",value:function(){return[Region.ANY,Region.ASIA_PACIFIC_TOKYO,Region.ASIA_PACIFIC_SEOUL,Region.ASIA_PACIFIC_SYDNEY,Region.ASIA_PACIFIC_SINGAPORE,Region.EU_FRANKFURT,Region.EU_IRELAND,Region.EU_LONDON,Region.SOUTH_AMERICA_SAO_PAULO,Region.US_EAST_N_VIRGINIA,Region.US_EAST_OHIO,Region.US_WEST_N_CALIFORNIA,Region.US_WEST_OREGON,Region.AP_SOUTH_MUMBAI]}},{key:"all",value:function(){return Region.list()}},{key:"getAppropriateAwsRegion",value:function(e,t){if(-1!==t.indexOf(e))return e;let r=e.split("-")[0];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];if(i===Region.ANY)return e;if(i.split("-")[0]===r)return i}return t[0]}},{key:"getRegionPrefix",value:function(e){return-1!==[Region.EU_FRANKFURT,Region.ASIA_PACIFIC_SEOUL].indexOf(e)?".":"-"}},{key:"ANY",get:function(){return"*"}},{key:"ASIA_PACIFIC_TOKYO",get:function(){return"ap-northeast-1"}},{key:"ASIA_PACIFIC_SEOUL",get:function(){return"ap-northeast-2"}},{key:"ASIA_PACIFIC_SINGAPORE",get:function(){return"ap-southeast-1"}},{key:"ASIA_PACIFIC_SYDNEY",get:function(){return"ap-southeast-2"}},{key:"EU_FRANKFURT",get:function(){return"eu-central-1"}},{key:"EU_IRELAND",get:function(){return"eu-west-1"}},{key:"EU_LONDON",get:function(){return"eu-west-2"}},{key:"SOUTH_AMERICA_SAO_PAULO",get:function(){return"sa-east-1"}},{key:"US_EAST_N_VIRGINIA",get:function(){return"us-east-1"}},{key:"US_EAST_OHIO",get:function(){return"us-east-2"}},{key:"US_WEST_N_CALIFORNIA",get:function(){return"us-west-1"}},{key:"US_WEST_OREGON",get:function(){return"us-west-2"}},{key:"AP_SOUTH_MUMBAI",get:function(){return"ap-south-1"}}]),Region}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MethodsNotImplementedException=void 0;var n=r(14),i=r(35);t.MethodsNotImplementedException=function(e){function MethodsNotImplementedException(e){if(_classCallCheck(this,MethodsNotImplementedException),!Array.isArray(e))throw new i.InvalidArgumentException(e,"Array");let t=e.join(", ");return _possibleConstructorReturn(this,(MethodsNotImplementedException.__proto__||Object.getPrototypeOf(MethodsNotImplementedException)).call(this,`One or more method are not implemented (${t}).`,500))}return _inherits(MethodsNotImplementedException,e),MethodsNotImplementedException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Helper=function(){function Helper(){_classCallCheck(this,Helper)}return n(Helper,null,[{key:"assureDefinedCode",value:function(e){return e=parseInt(e),-1!==Helper.CODES.indexOf(e)?e:(e=parseInt(String(e).charAt(0)+"00"),-1!==Helper.CODES.indexOf(e)?e:500)}},{key:"CODES",get:function(){return[200,400,401,403,404,406,409,500]}}]),Helper}()},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Sandbox=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(457),o=_interopRequireDefault(i),a=r(7),s=_interopRequireDefault(a);t.Sandbox=function(){function Sandbox(e){_classCallCheck(this,Sandbox),this._func=e,this._onFail=Sandbox.ON_FAIL_CB}return n(Sandbox,[{key:"run",value:function(){let t=o.default.create(),r=!1,n=n=>{if(r)return;r=!0;try{t.exit()}catch(e){}e(()=>{this._onFail(n)})};t.once("error",n),s.default.removeAllListeners("uncaughtException"),s.default.removeAllListeners("unhandledRejection"),s.default.on("uncaughtException",n),s.default.on("unhandledRejection",n);try{for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];t.run.apply(t,[this._func].concat(a))}catch(e){n(e)}return this}},{key:"fail",value:function(e){return this._onFail=e,this}},{key:"func",get:function(){return this._func}}],[{key:"ON_FAIL_CB",get:function(){return e=>{console.error(e)}}}]),Sandbox}()}).call(t,r(225).setImmediate)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BackendContext=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(361);t.BackendContext=function(e){function BackendContext(){return _classCallCheck(this,BackendContext),_possibleConstructorReturn(this,(BackendContext.__proto__||Object.getPrototypeOf(BackendContext)).apply(this,arguments))}return _inherits(BackendContext,e),n(BackendContext,null,[{key:"fromKernel",value:function(e){return new this(BackendContext._filterRuntimeContext(e.runtimeContext))}},{key:"_filterRuntimeContext",value:function(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(BackendContext._isScalarOrArray(n))t[r]=n;else if("object"==typeof n)if(Object.keys(n).length<=0)t[r]=n;else{const e=BackendContext._filterRuntimeContext(n);Object.keys(e).length>0&&(t[r]=e)}}),t}},{key:"_isScalarOrArray",value:function(e){return null===e||Array.isArray(e)||/string|number|boolean/i.test(typeof e)}}]),BackendContext}(i.AbstractContext)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.AbstractDriver=function(){function AbstractDriver(e){_classCallCheck(this,AbstractDriver),this._context=e}return n(AbstractDriver,[{key:"log",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._log(e,t,this.context.enrichEventContext(r))}},{key:"_printEvent",value:function(e,t,r){return console.log("[EVENT]",e,"{DATA->",t,"}","{CONTEXT->",r,"}"),Promise.resolve()}},{key:"_log",value:function(e,t,r){return Promise.reject(new Error(`Driver._log() not implemented!`))}},{key:"context",get:function(){return this._context}}]),AbstractDriver}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncConfig=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(36),o=r(172),a=r(171);t.AsyncConfig=function(e){function AsyncConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AsyncConfig.DEFAULT_CONFIG_FILE;_classCallCheck(this,AsyncConfig);var r=_possibleConstructorReturn(this,(AsyncConfig.__proto__||Object.getPrototypeOf(AsyncConfig)).call(this));return r._kernel=e,r._configFile=t,r}return _inherits(AsyncConfig,e),n(AsyncConfig,[{key:"_load",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._configFile=e||this._configFile,this._kernel.isBackend?this._loadFromFS():this._loadFromEndpoint()}},{key:"_loadFromFS",value:function(){let e=new a.FsDriver(this._configFile).inherit(this);if(!this._kernel.container.localBackend){let t=this._kernel.get("fs").shared(this._kernel.rootMicroservice.identifier);e.setFs(t)}e.load()}},{key:"_loadFromEndpoint",value:function(){new o.HttpDriver(this._configFile).inherit(this).load()}},{key:"kernel",get:function(){return this._kernel}},{key:"configFile",get:function(){return this._configFile}}],[{key:"DEFAULT_CONFIG_FILE",get:function(){return"_async_config.json"}}]),AsyncConfig}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FsDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(36),o=r(587),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.FsDriver=function(e){function FsDriver(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,FsDriver);var t=_possibleConstructorReturn(this,(FsDriver.__proto__||Object.getPrototypeOf(FsDriver)).call(this));return t._fs=a.default,t._file=e,t}return _inherits(FsDriver,e),n(FsDriver,[{key:"setFs",value:function(e){return this._fs=e,this}},{key:"setFile",value:function(e){return this._file=e,this}},{key:"_load",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._file=e||this._file,this._fs.readFile(this._file,(e,t)=>{let r=t?t.toString():"{}";if(e&&"NoSuchKey"!==e.name)return void this.fail(`Error reading configuration file '${this._file}': ${e}`);this.loadedJson(r)})}},{key:"file",get:function(){return this._file}},{key:"fs",get:function(){return this._fs}}]),FsDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HttpDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(36);t.HttpDriver=function(e){function HttpDriver(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,HttpDriver);var r=_possibleConstructorReturn(this,(HttpDriver.__proto__||Object.getPrototypeOf(HttpDriver)).call(this));return r._endpoint=e,r._enforceRoot=t,r}return _inherits(HttpDriver,e),n(HttpDriver,[{key:"setEndpoint",value:function(e){return this._endpoint=e,this}},{key:"_load",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._endpoint=e||this._endpoint,this._enforceRoot&&!/^http|\//i.test(this._endpoint)&&(this._endpoint=`/${this._endpoint}`);let t=new XMLHttpRequest;t.open("GET",this._endpoint),t.onreadystatechange=(()=>{4===t.readyState&&(200!==t.status?this.fail(`Failed to load config from ${this._endpoint} (status=${t.status})`):this.loadedJson(t.responseText))}),t.send()}},{key:"endpoint",get:function(){return this._endpoint}}]),HttpDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Instance=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(91);t.Instance=function(){function Instance(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,Instance),this._isRoot=!1,this._rawResources=t,this._identifier=e,this._parameters=r}return n(Instance,[{key:"inject",value:function(e){if(!(e instanceof a.Injectable))throw new o.default.Exception.InvalidArgumentException(e,"deep-kernel.Injectable");return e.microservice=this,e}},{key:"toString",value:function(){return this._identifier}},{key:"parameters",get:function(){return this._parameters}},{key:"rawResources",get:function(){return this._rawResources}},{key:"identifier",get:function(){return this._identifier}},{key:"isRoot",set:function(e){this._isRoot=e},get:function(){return this._isRoot}}],[{key:"createVector",value:function(e){let t=[];for(let r in e.microservices)if(e.microservices.hasOwnProperty(r)){let n=e.microservices[r],i=new Instance(r,n.resources,n.parameters||{});i.isRoot=n.isRoot,t.push(i)}return t}}]),Instance}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(175),o=r(94),a=r(95),s=r(8),c=r(93),u=r(411),l=r(224),f=_interopRequireDefault(l),h=r(18),d=_interopRequireDefault(h),p=r(401),y=r(397),m=r(405),g=r(302),v=_interopRequireDefault(g),b=r(124),_=_interopRequireDefault(b),w=r(215),E=_interopRequireDefault(w),S=r(3),k=_interopRequireDefault(S),C=r(404),x=r(396),P=r(398),R=r(399),O=r(406),A=r(27),M=_interopRequireDefault(A),I=r(20),T=_interopRequireDefault(I);let D=function(){function Request(e,t,r){_classCallCheck(this,Request),this._action=e,this._payload=t,this._method=r,this._lambda=new d.default.Lambda,this._cacheImpl=null,this._cacheTtl=Request.TTL_FOREVER,this._cached=!1,this._publicCached=!1,this._async=!1,this._xhrAsync=!0,this._native=!1,this._validationSchemaName=null,this._customId=null,this._returnLogs=!1,this._withUserCredentials=!0,this._authScope=this._buildAuthScope(),this._apiKey=null,this._baseUrl=null,this._retryManager=new u.RetryManager(["internal-error"])}return n(Request,[{key:"baseUrl",value:function(e){return this._baseUrl=e,this}},{key:"skipLoadingCredentials",value:function(){return this._withUserCredentials=!1,this}},{key:"skipPreValidation",value:function(){return this._validationSchemaName=null,this}},{key:"invokeAsync",value:function(){if(!this.isLambda)throw new x.AsyncCallNotAvailableException(this._action.type);if(this._returnLogs)throw new P.LambdaParamsCompatibilityException({InvocationType:"Event",LogType:"Tail"});return this._native=!0,this._async=!0,this}},{key:"httpXhrAsync",value:function(e){if(!this.isLambda)throw new s.Exception("XHR sync requests are supported only for calls to lambda functions.",400);return this._xhrAsync=!!e,this}},{key:"useDirectCall",value:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._async&&e)throw new P.LambdaParamsCompatibilityException({InvocationType:"Event",LogType:"Tail"});return this._native=!0,this._returnLogs=e,this}},{key:"usePublicCache",value:function(){return this._publicCached=!0,this}},{key:"enableCache",value:function(){return this._cached=!0,this}},{key:"disableCache",value:function(){return this._cached=!1,this}},{key:"cache",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Request.TTL_FOREVER;if(!this._cacheImpl)throw new p.MissingCacheImplementationException;return this._cacheTtl=e,this.enableCache(),this}},{key:"retry",value:function(e){return this._retryManager.count=e,this}},{key:"addRetryStrategy",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this._retryManager).addStrategy.apply(t,[e].concat(n)),this}},{key:"authScope",value:function(e){return this._authScope=e,this}},{key:"apiKey",value:function(e){return this._apiKey=e,this}},{key:"_buildCacheKey",value:function(){let e=Request._md5(JSON.stringify(this.payload)),t=this.native?this._action.source.original:this._action.source.api;return`${this._method}:${this._action.type}:${t}#${e}`}},{key:"_rebuildResponse",value:function(e){let t="string"==typeof e?JSON.parse(e):e;if(!t)throw new y.CachedRequestException(`Unable to unpack cached JSON object from ${e}`);if(t._class){let e=Request._chooseResponseImpl(t._class);if(!e)throw new s.Exception(`Unknown Response implementation ${t._class}`);return new e(this,t.data,t.error)}return new i.SuperagentResponse(this,t,null)}},{key:"invalidateCache",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(!this.isCached)return e(!0),this;let t=this._cacheImpl,r=this._buildCacheKey();return t.has(r,(n,i)=>{if(n)throw new y.CachedRequestException(n);if(i)return void t.invalidate(r,0,(t,r)=>{if(t)throw new y.CachedRequestException(t);e(r)});e(!0)}),this}},{key:"send",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=this.cacheImpl,r=this._buildCacheKey();return!this.isCached||this._async||this.cacheTtl===Request.TTL_INVALIDATE?this._send(e):(this._loadResponseFromCache(t,r,(r,n)=>{if(!r)return void e(n);if(this.isPublicCached){let r=t.shared,n=r.buildKeyFromRequest(this);this._loadResponseFromCache(r,n,(t,r)=>{if(!t)return void e(r);this._send(e)})}else this._send(e)}),this)}},{key:"_send",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=this.action.resource.log,r={service:"deep-resource",resourceType:"Browser",resourceId:this.native?this.action.source.original:this.action.source.api,eventName:this.method,eventId:this.customId,requestId:this.customId,time:Date.now()},n=n=>{if(this._retryManager.isRetryable(n))return this._send(e);"GET"===this.method.toUpperCase()&&this._saveResponseToCache(n);r.requestId=r.mainRequestId=n.requestId;let i=T.default._extend({},r);i.payload=n;i.time=Date.now();t.rumLog(r);t.rumLog(i);e(n)};if(this.validationSchemaName){let e=this._validate();if(e.error)return n(this._createValidationErrorResponse(e.error))}if(this._fillPayloadWithSystemData(),!this._native)return this._sendThroughApi(n);switch(this._action.type){case c.Action.LAMBDA:if(!this._action.isOriginalSourceInvokable)throw new O.SourceNotAvailableException(c.Action.LAMBDA,this._action);this._sendLambda(n);break;case c.Action.EXTERNAL:if(!this._action.isApiSourceInvokable)throw new O.SourceNotAvailableException(c.Action.EXTERNAL,this._action);this._sendExternal(n);break;default:throw new s.Exception(`Request of type ${this._action.type} is not implemented`)}return this}},{key:"_fillPayloadWithSystemData",value:function(){let e=this.action.resource;if(!e.isBackend||!e.log.isRumEnabled())return this;let t=e.contextProvider.context;return this._payload.lambdaDepthLevel=(t.getDeepFrameworkOption("lambdaDepthLevel")||0)+1,this._payload.mainRequestId=t.getDeepFrameworkOption("mainRequestId")||t.awsRequestId,this}},{key:"_saveResponseToCache",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(!this.isCached||this.async||this.cacheTtl===Request.TTL_INVALIDATE||e.isError)return void t(null,e);let r=this._buildCacheKey(),n=this.action.resource.log,i={service:"deep-cache",resourceType:this.cacheImpl.type(),resourceId:r,eventName:"set",requestId:e.requestId};n.rumLog(i),this.cacheImpl.set(r,Request._stringifyResponse(e),this.cacheTtl,(e,o)=>{i=T.default._extend({},i);i.payload={error:e,result:o};n.rumLog(i);e||o||(e=`Unable to persist request cache under key ${r}.`);e&&(e=new y.CachedRequestException(e));t(e,o);return})}},{key:"_loadResponseFromCache",value:function(e,t,r){e.has(t,(n,i)=>{if(n)return void r(new y.CachedRequestException(`Error to check if has in cache key ${t}`));if(i){let n=this.action.resource.log,i={service:"deep-cache",resourceType:e.type(),resourceId:t,eventName:"get",requestId:this.customId};return n.rumLog(i),void e.get(t,(e,t)=>{i=T.default._extend({},i);i.payload={err:e,data:t};n.rumLog(i);if(e)return void r(e,null);r(null,this._rebuildResponse(t))})}r(new y.CachedRequestException(`Missing key ${t}`),null)})}},{key:"_validate",value:function(){if(!this.validationSchemaName)throw new s.Exception("Error on validating request. Validation schema is not defined.");return this.action.resource.validation.validate(this.validationSchemaName,this.payload,!0)}},{key:"_createValidationErrorResponse",value:function(e){return new o.LambdaResponse(this,{errorMessage:JSON.stringify({errorType:e.name,errorMessage:e.annotate(),errorStack:e.stack||new Error(e.message).stack,validationErrors:e.details})},null)}},{key:"_sendThroughApi",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=this.action.source.api,r={},n=t=>{t.end((t,r)=>{e(new i.SuperagentResponse(this,r,t))})};if(this.action.apiKeyRequired){if(!this._apiKey)return e(new i.SuperagentResponse(this,null,new Error("Missing required api key parameter."))),this;r={"x-api-key":this._apiKey}}return this.action.apiAuthType===c.Action.API_AWS_IAM_AUTH?this._createAws4SignedRequest(t,this.method,this.payload,r,(t,r)=>{if(t)return e(new i.SuperagentResponse(this,null,t)),this;n(r)}):n(this._createBasicHttpRequest(t,this.method,this.payload,r)),this}},{key:"_sendLambda",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};d.default.config.maxRetries=3;let t={region:this._action.region,httpOptions:{xhrAsync:this.xhrAsync}},r={FunctionName:this._action.source.original,Payload:JSON.stringify(this.payload),InvocationType:this._async?"Event":"RequestResponse",LogType:this._returnLogs?"Tail":"None"};return this.withUserCredentials?this._loadSecurityCredentials((n,i)=>{!n&&i&&(t.credentials=i);this._lambda=new d.default.Lambda(t);this._invokeLambda(r,e)}):this._invokeLambda(r,e),this}},{key:"_invokeLambda",value:function(e,t){let r=this;this._lambda.invoke(e,function(e,n){let i=new o.LambdaResponse(r,n,e);i.originalResponse=this,t(i)})}},{key:"_createBasicHttpRequest",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.method,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.payload,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=f.default[Request._httpRealMethod(t)](e,r);for(let e in n)n.hasOwnProperty(e)&&i.set(e,n[e]);return i}},{key:"_sendExternal",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return this._createBasicHttpRequest(this._action.source.original).send().end((t,r)=>{e(new i.SuperagentResponse(this,r,t))}),this}},{key:"_createAws4SignedRequest",value:function(e,t,r,n,i){let o=(0,_.default)(e,E.default),a=o.hostname,s=o.pathname?o.pathname:"/";n=T.default._extend(n,{"Content-Type":"application/json; charset=UTF-8"});let u={service:k.default.AWS.Service.API_GATEWAY_EXECUTE,region:this.getEndpointHostRegion(a),host:a,method:t,path:s,headers:T.default._extend({},n)};switch(t=t.toLowerCase()){case"get":case"delete":if(o.query||r){null!==o.query&&"object"==typeof o.query||(o.query={});let t=T.default._extend(o.query,r);this.action.apiCacheEnabled&&(t[c.Action.DEEP_CACHE_QS_PARAM]=Request._md5(E.default.stringify(t))),u.path+=`?${E.default.stringify(t)}`,o.set("query",t,E.default.parse),e=o.toString(E.default.stringify),r=null}break;case"post":case"put":case"patch":u.body=JSON.stringify(r)}this._loadSecurityCredentials((o,a)=>{if(o)return void i(o);let s=v.default.sign(u,a);let c=this._createBasicHttpRequest(e,t,r,n);["X-Amz-Date","X-Amz-Security-Token","Authorization"].forEach(e=>{c.set(e,s.headers[e])});this.action.resource.isBackend&&s.headers.hasOwnProperty("Content-Length")&&c.set("Content-Length",s.headers["Content-Length"]);i(null,c)})}},{key:"_loadSecurityCredentials",value:function(e){let t=this._action.resource.security;return t?t.token?(t.token.loadCredentials((t,r)=>{if(t)return void e(new R.LoadCredentialsException(t),null);e(null,r)},this._authScope),this):(e(new m.NotAuthenticatedException,null),this):(e(new C.MissingSecurityServiceException,null),this)}},{key:"getEndpointHostRegion",value:function(e){let t=e.match(/\.([^\.]+)\.amazonaws\.com$/i);return t?t[1]:this._action.region}},{key:"_buildAuthScope",value:function(){let e=this._action,t=e.resource;return`${t.microservice.identifier}:${t.name}:${e.name}`}},{key:"baseUrl",get:function(){return this._baseUrl||(this._baseUrl=this._action.baseUrl),this._baseUrl}},{key:"withUserCredentials",get:function(){return"private"===this.action.scope&&(this._withUserCredentials=!1),this._withUserCredentials}},{key:"validationSchemaName",get:function(){return this._validationSchemaName},set:function(e){this._validationSchemaName=e}},{key:"async",get:function(){return this._async}},{key:"xhrAsync",get:function(){return this._xhrAsync}},{key:"isLambda",get:function(){return this._action.type===c.Action.LAMBDA}},{key:"customId",get:function(){return this._customId||(this._customId=Request._md5(this._buildCacheKey()+(new Date).getTime())),this._customId}},{key:"native",get:function(){return this._native}},{key:"isCached",get:function(){return this._cacheImpl&&this._cached}},{key:"isPublicCached",get:function(){return this._publicCached&&this._cacheImpl&&this._cacheImpl.shared}},{key:"cacheTtl",get:function(){return this._cacheTtl},set:function(e){this._cacheTtl=e}},{key:"cacheImpl",get:function(){return this._cacheImpl},set:function(e){this._cacheImpl=e,this.cache(Request.TTL_DEFAULT)}},{key:"action",get:function(){return this._action}},{key:"payload",get:function(){return this._payload}},{key:"method",get:function(){return this._method}}],[{key:"_md5",value:function(e){var t=M.default.createHash("md5");return t.update(e),t.digest("hex")}},{key:"_stringifyResponse",value:function(e){let t={_class:e.constructor.name,data:e.rawData,error:e.rawError,headers:e.headers};return e.constructor.name===i.SuperagentResponse.name&&(t.data={body:e.rawData.body,status:e.rawData.status,headers:e.rawData.headers}),JSON.stringify(t)}},{key:"_chooseResponseImpl",value:function(e){let t={};return t[a.Response.name]=a.Response,t[o.LambdaResponse.name]=o.LambdaResponse,t[i.SuperagentResponse.name]=i.SuperagentResponse,t[e]}},{key:"_httpRealMethod",value:function(e){let t=e.toLowerCase();return"delete"===t&&(t="del"),t}},{key:"TTL_DEFAULT",get:function(){return 10}},{key:"TTL_INVALIDATE",get:function(){return-1}},{key:"TTL_FOREVER",get:function(){return 0}}]),Request}();t.Request=D},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SuperagentResponse=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(95),o=r(94);t.SuperagentResponse=function(e){function SuperagentResponse(){var e;_classCallCheck(this,SuperagentResponse);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=_possibleConstructorReturn(this,(e=SuperagentResponse.__proto__||Object.getPrototypeOf(SuperagentResponse)).call.apply(e,[this].concat(r)));return i._request.isLambda?i._parseLambda():i._parseExternal(),i}return _inherits(SuperagentResponse,e),n(SuperagentResponse,[{key:"_parseLambda",value:function(){if(this._parseExternal(),this._data){if("string"==typeof this._data)try{this._data=JSON.parse(this._data)}catch(e){console.log("Unable to parse data: ",e)}let e=this._data;if(e.errorMessage){let t=null;if(e.errorStack&&e.errorType)t=e;else if("string"==typeof(t=e.errorMessage))try{t=JSON.parse(t)}catch(e){t={errorMessage:t,errorStack:new Error("Internal error occurred.").stack,errorType:"InternalError"}}else t=t||{errorMessage:"Unknown error occurred.",errorStack:new Error("Unknown error occurred.").stack,errorType:"UnknownError"};this._error=o.LambdaResponse.getPayloadError(t),this._data=null}else this._data=e}}},{key:"_parseExternal",value:function(){let e=this._rawData,t=this._rawError;t&&(this._error=t),e&&e.error&&(this._error=e.error),this._data=e&&e.body?e.body:null,e&&e.status?this._statusCode=parseInt(e.status):this._data&&!this._error?this._statusCode=200:this._error&&"object"==typeof this._error&&this._error.crossDomain&&void 0===this._error.crossDomain.status?this._statusCode=403:this._statusCode=this._error&&"object"==typeof this._error?this._error.status||500:500}},{key:"headers",get:function(){return this._headers||(this._headers=this.rawData&&this.rawData.headers?this.rawData.headers:{}),this._headers}},{key:"requestId",get:function(){return!this._requestId&&this.headers&&(this.headers[i.Response.ORIGINAL_REQUEST_ID_HEADER.toLowerCase()]?this._requestId=this.headers[i.Response.ORIGINAL_REQUEST_ID_HEADER.toLowerCase()]:this.headers[i.Response.REQUEST_ID_HEADER.toLowerCase()]&&(this._requestId=this.headers[i.Response.REQUEST_ID_HEADER.toLowerCase()])),this._requestId}}]),SuperagentResponse}(i.Response)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.AbstractUserProvider=function(){function AbstractUserProvider(){_classCallCheck(this,AbstractUserProvider)}return n(AbstractUserProvider,[{key:"loadUserByIdentityId",value:function(e,t){throw new Error(`Abstract method not implemented.`)}}]),AbstractUserProvider}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Security=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=_interopRequireDefault(i),a=r(3),s=_interopRequireDefault(a),c=r(12),u=r(178),l=r(431),f=r(427),h=r(414),d=r(100),p=r(430),y=r(433),m=r(432),g=r(20),v=_interopRequireDefault(g),b=r(27),_=_interopRequireDefault(b),w=r(18),E=_interopRequireDefault(w);t.Security=function(e){function Security(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Security);var r=_possibleConstructorReturn(this,(Security.__proto__||Object.getPrototypeOf(Security)).call(this));return r._identityPoolId=e,r._identityProviders=t,r._token=null,r._userProvider=null,r._userProviderEndpoint=null,r._userModelName=null,r._roleProviderEndpoint=null,r._roleResolver=null,r._roleProvider=null,r}return _inherits(Security,e),n(Security,[{key:"boot",value:function(e,t){let r=e.config.globals;this._identityPoolId=e.config.identityPoolId,this._identityProviders=e.config.identityProviders||{},this._userProviderEndpoint=r.userProviderEndpoint||null,this._userModelName=r.userModelName||"User",this._roleProviderEndpoint=r.roleProviderEndpoint||null,t()}},{key:"cleanup",value:function(){this.roleProvider.invalidateCache(),this._token&&(this._token.user=null)}},{key:"login",value:function(e,t,r){let n=l.LocalToken,i=p.LocalIdentityProvider;this._localBackend||(n=u.Token,i=d.IdentityProvider);let o=new i(this._identityProviders,e,t);this._token=n.createFromIdentityProvider(this._identityPoolId,o),this._token.roleResolver=this.roleResolver,this._token.userProvider=this.userProvider,this._token.cacheService=this._cacheService,this._token.logService=this.kernel.get("log");let a={eventName:"login",eventId:Security.customEventId(this.identityPoolId),payload:{providerName:e,identityMetadata:t},time:(new Date).getTime()};return this._token.loadCredentials((e,t)=>{this._logRumEvent(a);a=v.default._extend({},a);a.payload={credentials:t};this._logRumEvent(a);r(e,this._token)}),this._token}},{key:"anonymousLogin",value:function(e){let t=this._localBackend?l.LocalToken:u.Token;this._token=t.create(this.identityPoolId),this._token.userProvider=this.userProvider,this._token.roleResolver=this.roleResolver,this._token.cacheService=this._cacheService,this._token.logService=this.kernel.get("log");let r={eventName:"anonymousLogin",eventId:Security.customEventId(this.identityPoolId),time:(new Date).getTime()};return this._token.loadCredentials((t,n)=>{this._logRumEvent(r);r=v.default._extend({},r);r.payload={credentials:n};this._logRumEvent(r);e(t,this._token)}),this._token}},{key:"warmupBackendLogin",value:function(e){if(this.kernel.isFrontend)throw new c.Exception("Call to warmupBackendLogin method is not allowed from frontend context.");E.default.config.credentials instanceof E.default.EnvironmentCredentials&&(s.default.AWS.ENV_CREDENTIALS=E.default.config.credentials);let t=this._localBackend?l.LocalToken:u.Token;return this._token=t.createFromLambdaContext(this._identityPoolId,e),this._token.userProvider=this.userProvider,this._token.logService=this.kernel.get("log"),this._token.roleResolver=this.roleResolver,this._token.cacheService=this._cacheService,this.kernel.config.forceUserIdentity&&this.kernel.accountMicroservice?this._token.loadLambdaCredentials():Promise.resolve(s.default.AWS.ENV_CREDENTIALS)}},{key:"logout",value:function(){return this._logRumEvent({eventName:"logout"}),this._token?this._token.destroy().then(()=>{this._roleProvider.invalidateCache();this._token=null;return this}):Promise.resolve(this)}},{key:"_logRumEvent",value:function(e){if(this.kernel&&!this.kernel.isRumEnabled)return!1;let t=this.kernel.get("log"),r=v.default._extend(e,{service:"deep-security",resourceType:"Cognito",resourceId:this.identityPoolId});return t.rumLog(r),!0}},{key:"identityPoolId",get:function(){return this._identityPoolId}},{key:"userProvider",get:function(){return this._userProvider||(this.kernel.isFrontend?this._userProvider=new f.FrontendUserProvider(this._userProviderEndpoint,this._resourceService):this._userProvider=new h.BackendUserProvider(this._userModelName,this.container.get("db"))),this._userProvider}},{key:"roleResolver",get:function(){return this._roleResolver||(this._roleResolver=new y.RoleResolver(this.roleProvider)),this._roleResolver}},{key:"roleProvider",get:function(){return this._roleProvider||(this._roleProvider=new m.RoleProvider(this._resourceService,this._roleProviderEndpoint)),this._roleProvider}},{key:"token",get:function(){return this._token}},{key:"_resourceService",get:function(){return this.container.get("resource")}},{key:"_cacheService",get:function(){return this.container.get("cache")}}],[{key:"customEventId",value:function(e){return Security._md5(e+(new Date).getTime())}},{key:"_md5",value:function(e){var t=_.default.createHash("md5");return t.update(e),t.digest("hex")}}]),Security}(o.default.ContainerAware)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=_interopRequireDefault(i),a=r(3),s=_interopRequireDefault(a),c=r(20),u=_interopRequireDefault(c),l=r(99),f=r(418),h=r(177),d=r(179),p=r(415),y=r(100);t.Token=function(){function Token(e){_classCallCheck(this,Token),this._identityPoolId=e,this._lambdaContext=null,this._user=null,this._identityMetadata=null,this._tokenExpiredCallback=null,this._identityProvider=null,this._userProvider=null,this._roleResolver=null,this._logService=null,this._cacheService=null,this._credsPromises={},this._tokenManager=new d.TokenManager(e),this._credentialsManager=new p.CredentialsManager(this),this._sts=new o.default.STS,this._setupAwsCognitoConfig()}return n(Token,null,[{key:"MAX_RETRIES",get:function(){return 3}},{key:"RETRIES_INTERVAL_MS",get:function(){return 200}}]),n(Token,[{key:"_setupAwsCognitoConfig",value:function(){o.default.config.maxRetries=3;let e=Token.getRegionFromIdentityPoolId(this._identityPoolId);o.default.config.update({cognitoidentity:{region:e},cognitosync:{region:e}})}},{key:"_tryLoadIdentityProvider",value:function(){return this._identityProvider?Promise.resolve(this._identityProvider):new Promise(e=>{this._cacheService.get(Token.IDENTITY_PROVIDER_CACHE_KEY,(t,r)=>{if(t||!r)return e(null);let n=JSON.parse(r);let i=y.IdentityProvider.createFromSnapshot(n);e(i.isTokenValid()?i:null)})})}},{key:"isAllowed",value:function(e){return this._roleResolver.resolve(e).then(e=>!!e)}},{key:"loadLambdaCredentials",value:function(){return new Promise((e,t)=>{this._cacheService.get("credentialsCache",(r,n)=>{if(r&&"MissingCacheException"!==r.name)return t(r);n=n||{default:s.default.AWS.ENV_CREDENTIALS};this._sts.config.credentials=n.default;this.getUser((r,i)=>{if(r)return t(r);if(!i||!i.ActiveAccount||!i.ActiveAccount.BackendRole)return e(n.default);let a=i.ActiveAccount.BackendRole;if(n.hasOwnProperty(a.Arn)&&this._credentialsManager.validCredentials(n[a.Arn]))return e(n[a.Arn]);let s={RoleArn:a.Arn,RoleSessionName:`backend-role-${a.Name}`};this._stsAssumeRole(s).then(t=>{let r=t.Credentials;let i=new o.default.Credentials({accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken});i.expireTime=r.Expiration;n[a.Arn]=i;this._cacheService.set("credentialsCache",n);return e(n[a.Arn])}).catch(t)})})})}},{key:"_stsAssumeRole",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._sts.assumeRole(e).promise().catch(r=>{if(t++<Token.MAX_RETRIES)return console.warn(`Retrying "sts:assumeRole" with params: ${JSON.stringify(e)}`),new Promise((r,n)=>{setTimeout(()=>{this._stsAssumeRole(e,t).then(r).catch(n)},1e3*Math.pow(2,t))});throw r})}},{key:"loadCredentials",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t?t.toString():"default",n={service:"deep-security",resourceType:"Cognito",resourceId:this._identityPoolId,eventName:"loadCredentials",eventId:h.Security.customEventId(this._identityPoolId),time:(new Date).getTime()},i=(t,i)=>{t instanceof l.IdentityProviderTokenExpiredException&&"function"==typeof this._tokenExpiredCallback&&(this._tokenExpiredCallback(this.identityProvider),this._identityProvider=null);this._logService.rumLog(n);n=u.default._extend({},n);n.payload={error:t,credentials:{}};this._logService.rumLog(n);delete this._credsPromises[r];setTimeout(()=>{e(t,i)},0)};return this._credsPromises.hasOwnProperty(r)||(this._credsPromises[r]=this._tryLoadIdentityProvider().then(e=>{this._identityProvider=e;return this._loadTokenSnapshot()}).then(e=>{e&&this._fillFromTokenSnapshot(e);return this._credentialsManager.getCredentials()}).then(e=>{if(!t)return e;return this._roleResolver.resolve(t).then(e=>this._credentialsManager.getCredentials(e))}).then(e=>{if(!this.lambdaContext)return this._saveToken().then(()=>e).catch(()=>Promise.resolve(e));return e})),this._credsPromises[r].then(e=>i(null,e)).catch(e=>i(e,null))}},{key:"_loadTokenSnapshot",value:function(){return this._credentialsManager.getCredentials(null,!1).then(e=>this._credentialsManager.validCredentials(e)?null:this.lambdaContext?this._tokenManager.loadBackendToken(this.identityId):(o.default.config.credentials=e,this._tokenManager.loadFrontendToken()))}},{key:"_fillFromTokenSnapshot",value:function(e){let t=e.identityProvider;return t&&!this._identityProvider&&this._lambdaContext&&(this._identityProvider=y.IdentityProvider.createFromSnapshot(t)),this._credentialsManager.validCredentials(e.credentials)&&(this._credentialsManager.systemCredentials=e.credentials,this._credentialsManager.rolesCredentials=e.rolesCredentials),this}},{key:"_saveToken",value:function(){return this.identityProvider&&this._cacheService.set(Token.IDENTITY_PROVIDER_CACHE_KEY,JSON.stringify(this._identityProvider.toJSON()),parseInt((this.identityProvider.tokenExpirationTime.getTime()-Date.now())/1e3)),this._tokenManager.saveToken(this)}},{key:"getUser",value:function(e){let t=(t,r)=>{if(1===e.length){if(t)throw t;return e(r)}e(t,r)};this.lambdaContext,this._loadUser(t)}},{key:"_loadUser",value:function(e){return this.isAnonymous?void e(null):this._user?void e(null,this._user):void this._userProvider.loadUserByIdentityId(this.identityId,(t,r)=>{if(t)return void e(t,null);this._user=r;e(null,this._user)})}},{key:"_describeIdentity",value:function(e){return this._identityMetadata?Promise.resolve(this._identityMetadata):new o.default.CognitoIdentity({credentials:s.default.AWS.ENV_CREDENTIALS}).describeIdentity({IdentityId:e}).promise().then(e=>{this._identityMetadata=e;return e}).catch(t=>{throw new f.DescribeIdentityException(e,t)})}},{key:"registerTokenExpiredCallback",value:function(e){if("function"!=typeof e)throw new a.Exception.InvalidArgumentException(e,"function");return this._tokenExpiredCallback=e,this}},{key:"destroy",value:function(){return Promise.all(Object.keys(this._credsPromises).map(e=>this._credsPromises[e])).catch(e=>Promise.resolve(null)).then(()=>{this._credentialsManager.clearCache();this._tokenManager.deleteToken();this._cacheService.invalidate(Token.IDENTITY_PROVIDER_CACHE_KEY);this._credsPromises={};this._identityProvider=null})}},{key:"toJSON",value:function(){return{credentials:this._credentialsManager.systemCredentials,rolesCredentials:this._credentialsManager.rolesCredentials,identityId:this.identityId,identityProvider:this._identityProvider.toJSON()}}},{key:"credentialsManager",get:function(){return this._credentialsManager}},{key:"identityProvider",get:function(){return this._identityProvider},set:function(e){this._identityProvider=e}},{key:"identityPoolId",get:function(){return this._identityPoolId}},{key:"cacheService",set:function(e){this._cacheService=e}},{key:"lambdaContext",get:function(){return this._lambdaContext},set:function(e){this._lambdaContext=e}},{key:"logService",set:function(e){this._logService=e}},{key:"roleResolver",set:function(e){this._roleResolver=e}},{key:"user",set:function(e){this._user=e},get:function(){return this._user}},{key:"identityId",get:function(){let e=null,t=this.credentialsManager.systemCredentials;return this.lambdaContext?e=this.lambdaContext.identity.cognitoIdentityId:t&&(t.identityId?e=t.identityId:t.params&&t.params.IdentityId?e=t.params.IdentityId:this._tokenManager.identityId&&(e=this._tokenManager.identityId)),e}},{key:"isAnonymous",get:function(){return!this.lambdaContext&&!this.identityProvider}},{key:"userProvider",set:function(e){this._userProvider=e}},{key:"_identityLogins",get:function(){return this._identityMetadata&&this._identityMetadata.hasOwnProperty("Logins")?this._identityMetadata.Logins:[]}}],[{key:"getRegionFromIdentityPoolId",value:function(e){return e.split(":")[0]}},{key:"create",value:function(e){return new this(e)}},{key:"createFromIdentityProvider",value:function(e,t){let r=new this(e);return r.identityProvider=t,r}},{key:"createFromLambdaContext",value:function(e,t){let r=new this(e);return r.lambdaContext=t,r}},{key:"IDENTITY_PROVIDER_CACHE_KEY",get:function(){return"__deep_framework|security|token|identity-provider"}}]),Token}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.TokenManager=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=_interopRequireDefault(i),a=r(3),s=_interopRequireDefault(a),c=r(240),u=(_interopRequireDefault(c),r(417)),l=r(425),f=r(426);t.TokenManager=function(){function TokenManager(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,TokenManager),this._identityPoolId=e,this._cognitoSyncClient=t,this._lastSyncedEntry=null,this._syncInProgress=!1}return n(TokenManager,null,[{key:"DATASET_NAME",get:function(){return"deep_session"}},{key:"RECORD_NAME",get:function(){return"session_creds"}}]),n(TokenManager,[{key:"saveToken",value:function(e){return new Promise((t,r)=>{this._createOrGetDataset((n,i)=>{if(n)return r(n);let o=this._encodeToken(e);if(this._lastSyncedEntry===o||this._syncInProgress)return t();this._syncInProgress=!0;this._lastSyncedEntry=o;i.put(TokenManager.RECORD_NAME,this._encodeToken(e),e=>{if(e)return r(new l.PutCognitoRecordException(TokenManager.DATASET_NAME,TokenManager.RECORD_NAME,e));this._synchronizeDataset(i,(e,n)=>{this._syncInProgress=!1;if(e)return r(new f.SynchronizeCognitoDatasetException(i,e));t(n)})})})})}},{key:"loadBackendToken",value:function(e){let t=new o.default.CognitoSync({credentials:s.default.AWS.ENV_CREDENTIALS}),r={DatasetName:TokenManager.DATASET_NAME,IdentityId:e,IdentityPoolId:this._identityPoolId};return t.listRecords(r).promise().then(e=>{let t=null;e.Records.forEach(e=>{if(e.Key===TokenManager.RECORD_NAME)return t=this._decodeToken(e.Value)});return t})}},{key:"loadFrontendToken",value:function(){return new Promise((e,t)=>{this._createOrGetDataset((r,n)=>{if(r)return t(r);n.get(TokenManager.RECORD_NAME,(r,n)=>{if(r)return t(r);e(this._decodeToken(n))})})})}},{key:"deleteToken",value:function(){return this.cognitoSyncClient.wipeData(),this}},{key:"_createOrGetDataset",value:function(e){this.cognitoSyncClient.openOrCreateDataset(TokenManager.DATASET_NAME,(t,r)=>{if(t)return void e(new u.CreateCognitoDatasetException(TokenManager.DATASET_NAME,t),null);e(null,r)})}},{key:"_synchronizeDataset",value:function(e,t){e.synchronize({onSuccess:(e,r)=>{t(null,r)},onFailure:e=>{t(e,null)},onConflict:(e,t,r)=>{let n=[];for(let e=0;e<t.length;e++)n.push(t[e].resolveWithLocalRecord());e.resolve(n,()=>r(!0))},onDatasetDeleted:(e,t,r)=>r(!0),onDatasetMerged:(e,t,r)=>r(!0)})}},{key:"_encodeToken",value:function(e){return JSON.stringify(e.toJSON())}},{key:"_decodeToken",value:function(e){if(e&&"string"==typeof e)try{let t=JSON.parse(e);t.credentials=this._decodeCredentials(t.credentials),t.credentials.params={IdentityId:t.identityId,IdentityPoolId:this._identityPoolId};for(let e in t.rolesCredentials)t.rolesCredentials.hasOwnProperty(e)&&(t.rolesCredentials[e]=this._decodeCredentials(t.rolesCredentials[e]));return t}catch(e){return null}return null}},{key:"_decodeCredentials",value:function(e){let t=e.expireTime;return e=new o.default.Credentials(e),e.expireTime=t,e=this._makeKeyEnumerable(e,"secretAccessKey")}},{key:"_makeKeyEnumerable",value:function(e,t){return e=Object.defineProperty(e,t,{enumerable:!0,writable:!0,configurable:!0})}},{key:"_isLocalStorageAvailable",value:function(){try{return!(!window||!window.localStorage)&&(window.localStorage.setItem("key","value"),window.localStorage.removeItem("key"),!0)}catch(e){return!1}}},{key:"cognitoSyncClient",get:function(){if(!this._cognitoSyncClient){let e={};this._isLocalStorageAvailable()||(e.DataStore=o.default.CognitoSyncManager.StoreInMemory),this._cognitoSyncClient=new o.default.CognitoSyncManager(e)}return this._cognitoSyncClient}},{key:"identityId",get:function(){return this.cognitoSyncClient.getIdentityId()}}]),TokenManager}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VoterInterface=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.VoterInterface=function(e){function VoterInterface(){return _classCallCheck(this,VoterInterface),_possibleConstructorReturn(this,(VoterInterface.__proto__||Object.getPrototypeOf(VoterInterface)).call(this,["vote"]))}return _inherits(VoterInterface,e),n(VoterInterface,null,[{key:"ALLOW",get:function(){return"Allow"}},{key:"DENY",get:function(){return"Deny"}}]),VoterInterface}(o.default.OOP.Interface)},function(e,t,r){function _getPrimes(){if(null!==y)return y;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return y=e,e}function simpleSieve(e){for(var t=_getPrimes(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function fermatTest(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function findPrime(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);t=new i(t);for(var r,a;;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(c),r.testn(1)||r.iadd(u),t.cmp(u)){if(!t.cmp(l))for(;r.mod(f).cmp(h);)r.iadd(p)}else for(;r.mod(o).cmp(d);)r.iadd(p);if(a=r.shrn(1),simpleSieve(a)&&simpleSieve(r)&&fermatTest(a)&&fermatTest(r)&&s.test(a)&&s.test(r))return r}}var n=r(58);e.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var i=r(6),o=new i(24),a=r(203),s=new a,c=new i(1),u=new i(2),l=new i(5),f=(new i(16),new i(8),new i(10)),h=new i(3),d=(new i(7),new i(11)),p=new i(4),y=(new i(12),null)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=r(13),i=r(15),o=r(9),a={};a.Boolean=function(){n.call(this),this._type="boolean"},o.inherits(a.Boolean,n),a.Boolean.prototype._base=function(e,t,r){var n={value:e};if("string"==typeof e&&r.convert){var o=e.toLowerCase();n.value="true"===o||"yes"===o||"on"===o||"false"!==o&&"no"!==o&&"off"!==o&&e}return n.errors="boolean"==typeof n.value?null:i.create("boolean.base",null,t,r),n},e.exports=new a.Boolean},function(e,t,r){var n=r(13),i=r(15),o=r(9),a={};a.Number=function(){n.call(this),this._type="number",this._invalids.add(1/0),this._invalids.add(-1/0)},o.inherits(a.Number,n),a.Number.prototype._base=function(e,t,r){var n={errors:null,value:e};if("string"==typeof e&&r.convert){var o=parseFloat(e);n.value=isNaN(o)||!isFinite(e)?NaN:o}var a="number"==typeof n.value&&!isNaN(n.value);if(r.convert&&"precision"in this._flags&&a){var s=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*s)/s}return n.errors=a?null:i.create("number.base",null,t,r),n},a.Number.prototype.min=function(e){return o.assert(o.isInteger(e),"limit must be an integer"),this._test("min",e,function(t,r,n){return t>=e?null:i.create("number.min",{limit:e},r,n)})},a.Number.prototype.max=function(e){return o.assert(o.isInteger(e),"limit must be an integer"),this._test("max",e,function(t,r,n){return t<=e?null:i.create("number.max",{limit:e},r,n)})},a.Number.prototype.greater=function(e){return o.assert(o.isInteger(e),"limit must be an integer"),this._test("greater",e,function(t,r,n){return t>e?null:i.create("number.greater",{limit:e},r,n)})},a.Number.prototype.less=function(e){return o.assert(o.isInteger(e),"limit must be an integer"),this._test("less",e,function(t,r,n){return t<e?null:i.create("number.less",{limit:e},r,n)})},a.Number.prototype.integer=function(){return this._test("integer",void 0,function(e,t,r){return o.isInteger(e)?null:i.create("number.integer",null,t,r)})},a.Number.prototype.negative=function(){return this._test("negative",void 0,function(e,t,r){return e<0?null:i.create("number.negative",null,t,r)})},a.Number.prototype.positive=function(){return this._test("positive",void 0,function(e,t,r){return e>0?null:i.create("number.positive",null,t,r)})},a.precisionRx=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,a.Number.prototype.precision=function(e){o.assert(o.isInteger(e),"limit must be an integer"),o.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,function(t,r,n){var o=t.toString().match(a.precisionRx);return Math.max((o[1]?o[1].length:0)-(o[2]?parseInt(o[2],10):0),0)<=e?null:i.create("number.precision",{limit:e},r,n)});return t._flags.precision=e,t},e.exports=new a.Number},function(e,t,r){var n=r(9),i=r(642),o=r(13),a=r(51),s=r(15),c={};c.Object=function(){o.call(this),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]},n.inherits(c.Object,o),c.Object.prototype._base=function(e,t,r){var i=e,o=[],a=function(){return{value:i,errors:o.length?o:null}};if("string"==typeof e&&r.convert)try{e=JSON.parse(e)}catch(b){}if(!e||"object"!=typeof e||Array.isArray(e))return o.push(s.create("object.base",null,t,r)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=e,a();if(i===e){i=Object.create(Object.getPrototypeOf(e));for(var u=Object.keys(e),l=0,f=u.length;l<f;++l)i[u[l]]=e[u[l]]}else i=e;for(var h={},d=0,p=this._inner.renames.length;d<p;++d){var y=this._inner.renames[d];if(void 0!==i[y.from]){if(!y.options.multiple&&h[y.to]&&(o.push(s.create("object.rename.multiple",{from:y.from,to:y.to},t,r)),r.abortEarly))return a();if(i.hasOwnProperty(y.to)&&!y.options.override&&!h[y.to]&&(o.push(s.create("object.rename.override",{from:y.from,to:y.to},t,r)),r.abortEarly))return a();i[y.to]=i[y.from],h[y.to]=!0,y.options.alias||delete i[y.from]}}for(var m=0,g=this._inner.dependencies.length;m<g;++m){var v=this._inner.dependencies[m],b=c[v.type](null!==v.key&&e[v.key],v.peers,i,{key:v.key,path:(t.path?t.path+".":"")+v.key},r);if(b&&(o.push(b),r.abortEarly))return a()}if(!this._inner.children&&!this._inner.patterns.length)return a();var _,w=n.mapToObject(Object.keys(i));if(this._inner.children)for(var E=0,S=this._inner.children.length;E<S;++E){var k=this._inner.children[E],_=k.key,y=i[_];delete w[_];var C={key:_,path:(t.path?t.path+".":"")+_,parent:i,reference:t.reference},x=k.schema._validate(y,C,r);if(x.errors&&(o=o.concat(x.errors),r.abortEarly))return a();void 0!==x.value&&(i[_]=x.value)}var P=Object.keys(w);if(P.length&&this._inner.patterns.length){for(E=0,S=P.length;E<S;++E)for(var _=P[E],R=0,O=this._inner.patterns.length;R<O;++R){var A=this._inner.patterns[R];if(A.regex.test(_)){delete w[_];var y=i[_],C={key:_,path:(t.path?t.path+".":"")+_,parent:i,reference:t.reference},x=A.rule._validate(y,C,r);if(x.errors&&(o=o.concat(x.errors),r.abortEarly))return a();void 0!==x.value&&(i[_]=x.value)}}P=Object.keys(w)}if(P.length){if(r.stripUnknown||r.skipFunctions){for(var M=!1,I=0,T=P.length;I<T;++I)_=P[I],r.stripUnknown?delete i[_]:"function"==typeof i[_]&&(delete w[_],M=!0);if(r.stripUnknown)return a();M&&(P=Object.keys(w))}if(P.length&&(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown))for(var D=0,j=P.length;D<j;++D)o.push(s.create("object.allowUnknown",null,{key:P[D],path:t.path},r))}return a()},c.Object.prototype.keys=function(e){n.assert(null===e||void 0===e||"object"==typeof e,"Object schema must be a valid object"),n.assert(!e||!e.isJoi,"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var r=Object.keys(e);if(!r.length)return t._inner.children=[],t;var o=new i;if(t._inner.children)for(var s=0,c=t._inner.children.length;s<c;++s){var u=t._inner.children[s];o.add(u,{after:u._refs,group:u.key})}for(var l=0,f=r.length;l<f;++l){var h=r[l],u=e[h],d=a.schema(u);o.add({key:h,schema:d},{after:d._refs,group:h})}return t._inner.children=o.nodes,t},c.Object.prototype.unknown=function(e){var t=this.clone();return t._flags.allowUnknown=!1!==e,t},c.Object.prototype.length=function(e){return n.assert(n.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,r,n){return Object.keys(t).length===e?null:s.create("object.length",{limit:e},r,n)})},c.Object.prototype.min=function(e){return n.assert(n.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,r,n){return Object.keys(t).length>=e?null:s.create("object.min",{limit:e},r,n)})},c.Object.prototype.max=function(e){return n.assert(n.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,r,n){return Object.keys(t).length<=e?null:s.create("object.max",{limit:e},r,n)})},c.Object.prototype.pattern=function(e,t){n.assert(e instanceof RegExp,"Invalid regular expression"),n.assert(void 0!==t,"Invalid rule"),e=new RegExp(e.source,e.ignoreCase?"i":void 0);var r=this.clone();return r._inner.patterns.push({regex:e,rule:a.schema(t)}),r},c.Object.prototype.with=function(e,t){return this._dependency("with",e,t)},c.Object.prototype.without=function(e,t){return this._dependency("without",e,t)},c.Object.prototype.xor=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("xor",null,e)},c.Object.prototype.or=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("or",null,e)},c.Object.prototype.and=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("and",null,e)},c.Object.prototype.nand=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("nand",null,e)},c.Object.prototype.requiredKeys=function(e){return e=n.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(e,"required")},c.Object.prototype.optionalKeys=function(e){return e=n.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(e,"optional")},c.renameDefaults={alias:!1,multiple:!1,override:!1},c.Object.prototype.rename=function(e,t,r){n.assert("string"==typeof e,"Rename missing the from argument"),n.assert("string"==typeof t,"Rename missing the to argument"),n.assert(t!==e,"Cannot rename key to same name:",e);for(var i=0,o=this._inner.renames.length;i<o;++i)n.assert(this._inner.renames[i].from!==e,"Cannot rename the same key multiple times");var a=this.clone();return a._inner.renames.push({from:e,to:t,options:n.applyToDefaults(c.renameDefaults,r||{})}),a},c.groupChildren=function(e){e.sort();for(var t={},r=0,i=e.length;r<i;r++){var o=e[r];n.assert("string"==typeof o,"children must be strings");var a=o.split(".")[0];(t[a]=t[a]||[]).push(o.substring(a.length+1))}return t},c.Object.prototype.applyFunctionToChildren=function(e,t,r,i){e=[].concat(e),n.assert(e.length>0,"expected at least one children");var o,a=c.groupChildren(e);if(""in a?(o=this[t].apply(this,r),delete a[""]):o=this.clone(),o._inner.children){i=i?i+".":"";for(var s=0,u=o._inner.children.length;s<u;++s){var l=o._inner.children[s],f=a[l.key];f&&(o._inner.children[s]={key:l.key,_refs:l._refs,schema:l.schema.applyFunctionToChildren(f,t,r,i+l.key)},delete a[l.key])}}var h=Object.keys(a);return n.assert(0===h.length,"unknown key(s)",h.join(", ")),o},c.Object.prototype._dependency=function(e,t,r){r=[].concat(r);for(var i=0,o=r.length;i<o;i++)n.assert("string"==typeof r[i],e,"peers must be a string or array of strings");var a=this.clone();return a._inner.dependencies.push({type:e,key:t,peers:r}),a},c.with=function(e,t,r,n,i){if(void 0===e)return null;for(var o=0,a=t.length;o<a;++o){var c=t[o];if(!r.hasOwnProperty(c)||void 0===r[c])return s.create("object.with",{peer:c},n,i)}return null},c.without=function(e,t,r,n,i){if(void 0===e)return null;for(var o=0,a=t.length;o<a;++o){var c=t[o];if(r.hasOwnProperty(c)&&void 0!==r[c])return s.create("object.without",{peer:c},n,i)}return null},c.xor=function(e,t,r,n,i){for(var o=[],a=0,c=t.length;a<c;++a){var u=t[a];r.hasOwnProperty(u)&&void 0!==r[u]&&o.push(u)}return 1===o.length?null:0===o.length?s.create("object.missing",{peers:t},n,i):s.create("object.xor",{peers:t},n,i)},c.or=function(e,t,r,n,i){for(var o=0,a=t.length;o<a;++o){var c=t[o];if(r.hasOwnProperty(c)&&void 0!==r[c])return null}return s.create("object.missing",{peers:t},n,i)},c.and=function(e,t,r,n,i){for(var o=[],a=[],c=t.length,u=0;u<c;++u){var l=t[u];r.hasOwnProperty(l)&&void 0!==r[l]?a.push(l):o.push(l)}return o.length===c||a.length===c?null:s.create("object.and",{present:a,missing:o},n,i)},c.nand=function(e,t,r,i,o){for(var a=[],c=0,u=t.length;c<u;++c){var l=t[c];r.hasOwnProperty(l)&&void 0!==r[l]&&a.push(l)}var f=n.clone(t),h=f.splice(0,1);return a.length===t.length?s.create("object.nand",{main:h,peers:f},i,o):null},c.Object.prototype.describe=function(e){var t=o.prototype.describe.call(this);if(this._inner.children&&!e){t.children={};for(var r=0,i=this._inner.children.length;r<i;++r){var a=this._inner.children[r];t.children[a.key]=a.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=n.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var s=0,c=this._inner.patterns.length;s<c;++s){var u=this._inner.patterns[s];t.patterns.push({regex:u.regex.toString(),rule:u.rule.describe()})}}return t},c.Object.prototype.assert=function(e,t,r){e=a.ref(e),n.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test";var i=a.schema(t);return this._test("assert",{cast:i,ref:e},function(t,n,o){return i._validate(e(t),null,o,t).errors?s.create("object.assert",{ref:e.path.join("."),message:r},n,o):null})},c.Object.prototype.type=function(e,t){return n.assert("function"==typeof e,"type must be a constructor function"),t=t||e.name,this._test("type",t,function(r,n,i){return r instanceof e?null:s.create("object.type",{type:t},n,i)})},e.exports=new c.Object},function(e,t,r){(function(t){var n=r(210),i=r(9),o=r(482),a=r(13),s=r(104),c=r(15),u={};u.String=function(){a.call(this),this._type="string",this._invalids.add("")},i.inherits(u.String,a),u.String.prototype._base=function(e,t,r){return"string"==typeof e&&r.convert&&(this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim())),{value:e,errors:"string"==typeof e?null:c.create("string.base",null,t,r)}},u.String.prototype.insensitive=function(){var e=this.clone();return e._flags.insensitive=!0,e},u.String.prototype.min=function(e,r){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),i.assert(!r||t.isEncoding(r),"Invalid encoding:",r),this._test("min",e,function(n,i,o){return(r?t.byteLength(n,r):n.length)>=e?null:c.create("string.min",{limit:e},i,o)})},u.String.prototype.max=function(e,r){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),i.assert(!r||t.isEncoding(r),"Invalid encoding:",r),this._test("max",e,function(n,i,o){return(r?t.byteLength(n,r):n.length)<=e?null:c.create("string.max",{limit:e},i,o)})},u.String.prototype.creditCard=function(){return this._test("creditCard",void 0,function(e,t,r){for(var n,i=e.length,o=0,a=1;i--;)n=e.charAt(i)*a,o+=n-9*(n>9),a^=3;return o%10==0&&o>0?null:c.create("string.creditCard",null,t,r)})},u.String.prototype.length=function(e,r){return i.assert(i.isInteger(e)&&e>=0,"limit must be a positive integer"),i.assert(!r||t.isEncoding(r),"Invalid encoding:",r),this._test("length",e,function(n,i,o){return(r?t.byteLength(n,r):n.length)===e?null:c.create("string.length",{limit:e},i,o)})},u.String.prototype.regex=function(e,t){return i.assert(e instanceof RegExp,"pattern must be a RegExp"),e=new RegExp(e.source,e.ignoreCase?"i":void 0),this._test("regex",e,function(r,n,i){return e.test(r)?null:c.create(t?"string.regex.name":"string.regex.base",{name:t},n,i)})},u.String.prototype.alphanum=function(){return this._test("alphanum",void 0,function(e,t,r){return/^[a-zA-Z0-9]+$/.test(e)?null:c.create("string.alphanum",null,t,r)})},u.String.prototype.token=function(){return this._test("token",void 0,function(e,t,r){return/^\w+$/.test(e)?null:c.create("string.token",null,t,r)})},u.String.prototype.email=function(){return this._test("email",void 0,function(e,t,r){return o(e)?null:c.create("string.email",null,t,r)})},u.String.prototype.isoDate=function(){return this._test("isoDate",void 0,function(e,t,r){return s._isIsoDate(e)?null:c.create("string.isoDate",null,t,r)})},u.String.prototype.guid=function(){var e=/^[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}$/i,t=/^\{[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}\}$/i;return this._test("guid",void 0,function(r,n,i){return e.test(r)||t.test(r)?null:c.create("string.guid",null,n,i)})},u.String.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(t,r,i){return t.length<=255&&e.test(t)||n.isIPv6(t)?null:c.create("string.hostname",null,r,i)})},u.String.prototype.lowercase=function(){var e=this._test("lowercase",void 0,function(e,t,r){return r.convert||e===e.toLocaleLowerCase()?null:c.create("string.lowercase",null,t,r)});return e._flags.case="lower",e},u.String.prototype.uppercase=function(e){var t=this._test("uppercase",void 0,function(e,t,r){return r.convert||e===e.toLocaleUpperCase()?null:c.create("string.uppercase",null,t,r)});return t._flags.case="upper",t},u.String.prototype.trim=function(){var e=this._test("trim",void 0,function(e,t,r){return r.convert||e===e.trim()?null:c.create("string.trim",null,t,r)});return e._flags.trim=!0,e},e.exports=new u.String}).call(t,r(0).Buffer)},function(e,t,r){function Stack(e){var t=this.__data__=new n(e);this.size=t.size}var n=r(71),i=r(568),o=r(569),a=r(570),s=r(571),c=r(572);Stack.prototype.clear=i,Stack.prototype.delete=o,Stack.prototype.get=a,Stack.prototype.has=s,Stack.prototype.set=c,e.exports=Stack},function(e,t,r){function assignValue(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}var n=r(189),i=r(77),o=Object.prototype,a=o.hasOwnProperty;e.exports=assignValue},function(e,t,r){function baseAssignValue(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var n=r(195);e.exports=baseAssignValue},function(e,t,r){function baseGet(e,t){t=n(t,e);for(var r=0,o=t.length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}var n=r(193),i=r(76);e.exports=baseGet},function(e,t,r){function baseIsEqual(e,t,r,o,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:n(e,t,r,o,baseIsEqual,a))}var n=r(512),i=r(55);e.exports=baseIsEqual},function(e,t,r){function baseKeys(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}var n=r(109),i=r(558),o=Object.prototype,a=o.hasOwnProperty;e.exports=baseKeys},function(e,t,r){function castPath(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}var n=r(16),i=r(108),o=r(573),a=r(584);e.exports=castPath},function(e,t,r){function copyObject(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),a?i(r,u,l):n(r,u,l)}return r}var n=r(188),i=r(189);e.exports=copyObject},function(e,t,r){var n=r(25),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){function equalArrays(e,t,r,c,u,l){var f=r&a,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=l.get(e);if(p&&l.get(t))return p==t;var y=-1,m=!0,g=r&s?new n:void 0;for(l.set(e,t),l.set(t,e);++y<h;){var v=e[y],b=t[y];if(c)var _=f?c(b,v,y,t,e,l):c(v,b,y,e,t,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(v===e||u(v,e,r,c,l)))return g.push(t)})){m=!1;break}}else if(v!==b&&!u(v,b,r,c,l)){m=!1;break}}return l.delete(e),l.delete(t),m}var n=r(493),i=r(502),o=r(526),a=1,s=2;e.exports=equalArrays},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(4))},function(e,t,r){var n=r(489),i=r(105),o=r(491),a=r(492),s=r(495),c=r(53),u=r(202),l=u(n),f=u(i),h=u(o),d=u(a),p=u(s),y=c;(n&&"[object DataView]"!=y(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=y},function(e,t,r){function isIterateeCall(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}var n=r(77),i=r(54),o=r(107),a=r(17);e.exports=isIterateeCall},function(e,t,r){function isStrictComparable(e){return e===e&&!n(e)}var n=r(17);e.exports=isStrictComparable},function(e,t){function matchesStrictComparable(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}e.exports=matchesStrictComparable},function(e,t){function toSource(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,n=r.toString;e.exports=toSource},function(e,t,r){function MillerRabin(e){this.rand=e||new i.Rand}var n=r(6),i=r(144);e.exports=MillerRabin,MillerRabin.create=function(e){return new MillerRabin(e)},MillerRabin.prototype._rand=function(e){var t=e.bitLength(),r=this.rand.generate(Math.ceil(t/8));r[0]|=3;var i=7&t;return 0!==i&&(r[r.length-1]>>=7-i),new n(r)},MillerRabin.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),c=s.subn(1),u=0;!s.testn(u);u++);for(var l=e.shrn(u),f=s.toRed(o);t>0;t--){var h=this._rand(c);r&&r(h);var d=h.toRed(o).redPow(l);if(0!==d.cmp(a)&&0!==d.cmp(f)){for(var p=1;p<u;p++){if(d=d.redSqr(),0===d.cmp(a))return!1;if(0===d.cmp(f))break}if(p===u)return!1}}return!0},MillerRabin.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),s=a.subn(1),c=0;!a.testn(c);c++);for(var u=e.shrn(c),l=a.toRed(i);t>0;t--){var f=this._rand(s),h=e.gcd(f);if(0!==h.cmpn(1))return h;var d=f.toRed(i).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var p=1;p<c;p++){if(d=d.redSqr(),0===d.cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(l))break}if(p===c)return d=d.redSqr(),d.fromRed().subn(1).gcd(e)}}return!1}},function(e,t,r){"use strict";function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r}function zero2(e){return 1===e.length?"0"+e:e}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}var n=t;n.toArray=toArray,n.zero2=zero2,n.toHex=toHex,n.encode=function(e,t){return"hex"===t?toHex(e):e}},function(e,t,r){!function(e,t){t(r(37))}(0,function(e){"use strict";return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,r){!function(e,t){t(r(37))}(0,function(e){"use strict";return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},function(e,t,r){!function(e,t){t(r(37))}(0,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,r){!function(e,t){t(r(37))}(0,function(e){"use strict";return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,r){!function(e,t){t(r(37))}(0,function(e){"use strict";return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t){t.createServer=t.createConnection=t.connect=function(){},t.isIP=t.isIPv4=t.isIPv6=function(){return!0}},function(e,t,r){(function(e,n){var i=r(86),o=r(593);t.pbkdf2=function(e,r,n,i,a,s){if("function"==typeof a&&(s=a,a=void 0),o(n,i),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");setTimeout(function(){s(null,t.pbkdf2Sync(e,r,n,i,a))})};var a;if(e.browser)a="utf-8";else{var s=parseInt(e.version.split(".")[0].slice(1),10);a=s>=6?"utf-8":"binary"}t.pbkdf2Sync=function(e,t,r,s,c){n.isBuffer(e)||(e=new n(e,a)),n.isBuffer(t)||(t=new n(t,a)),o(r,s),c=c||"sha1";var u,l=1,f=new n(s),h=new n(t.length+4);t.copy(h,0,0,t.length);for(var d,p,y=1;y<=l;y++){h.writeUInt32BE(y,t.length);var m=i(c,e).update(h).digest();u||(u=m.length,p=new n(u),l=Math.ceil(s/u),d=s-(l-1)*u),m.copy(p,0,0,u);for(var g=1;g<r;g++){m=i(c,e).update(m).digest();for(var v=0;v<u;v++)p[v]^=m[v]}var b=(y-1)*u,_=y===l?d:u;p.copy(f,b,0,_)}return f}}).call(t,r(7),r(0).Buffer)},function(e,t,r){(function(t){function i2ops(e){var r=new t(4);return r.writeUInt32BE(e,0),r}var n=r(34);e.exports=function(e,r){for(var i,o=new t(""),a=0;o.length<r;)i=i2ops(a++),o=t.concat([o,n("sha1").update(e).update(i).digest()]);return o.slice(0,r)}}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function withPublic(e,r){return new t(e.toRed(n.mont(r.modulus)).redPow(new n(r.publicExponent)).fromRed().toArray())}var n=r(6);e.exports=withPublic}).call(t,r(0).Buffer)},function(e,t){e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},function(e,t,r){var n=r(599),i=r(598);e.exports={stringify:n,parse:i}},function(e,t){var r={};r.hexTable=new Array(256);for(var n=0;n<256;++n)r.hexTable[n]="%"+((n<16?"0":"")+n.toString(16)).toUpperCase();t.arrayToObject=function(e,t){for(var r=t.plainObjects?Object.create(null):{},n=0,i=e.length;n<i;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,n){if(!r)return e;if("object"!=typeof r)return Array.isArray(e)?e.push(r):"object"==typeof e?e[r]=!0:e=[e,r],e;if("object"!=typeof e)return e=[e].concat(r);Array.isArray(e)&&!Array.isArray(r)&&(e=t.arrayToObject(e,n));for(var i=Object.keys(r),o=0,a=i.length;o<a;++o){var s=i[o],c=r[s];Object.prototype.hasOwnProperty.call(e,s)?e[s]=t.merge(e[s],c,n):e[s]=c}return e},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var t="",n=0,i=e.length;n<i;++n){var o=e.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?t+=e[n]:o<128?t+=r.hexTable[o]:o<2048?t+=r.hexTable[192|o>>6]+r.hexTable[128|63&o]:o<55296||o>=57344?t+=r.hexTable[224|o>>12]+r.hexTable[128|o>>6&63]+r.hexTable[128|63&o]:(++n,o=65536+((1023&o)<<10|1023&e.charCodeAt(n)),t+=r.hexTable[240|o>>18]+r.hexTable[128|o>>12&63]+r.hexTable[128|o>>6&63]+r.hexTable[128|63&o])}return t},t.compact=function(e,r){if("object"!=typeof e||null===e)return e;r=r||[];var n=r.indexOf(e);if(-1!==n)return r[n];if(r.push(e),Array.isArray(e)){for(var i=[],o=0,a=e.length;o<a;++o)void 0!==e[o]&&i.push(e[o]);return i}var s=Object.keys(e);for(o=0,a=s.length;o<a;++o){var c=s[o];e[c]=t.compact(e[c],r)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";(function(t){var n=r(605),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=i.Raven,a=new n;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a}).call(t,r(4))},function(e,t,r){"use strict";function isObject(e){return"object"==typeof e&&null!==e}function isError(e){switch({}.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}e.exports={isObject:isObject,isError:isError}},function(e,t,r){"use strict";(function(t){function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t){n=n||r(28),e=e||{},this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(116).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function Readable(e){if(n=n||r(28),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),s.call(this)}function readableAddChunk(e,t,r,n,i){var o=chunkInvalid(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var c;!t.decoder||i||n||(r=t.decoder.write(r),c=!t.objectMode&&0===r.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=m?e=m:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var r=null;return c.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){h("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,i(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){h("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(resume_,e,t))}function resume_(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function copyFromBuffer(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}e.exports=Readable;var n,i=r(118),o=r(182);Readable.ReadableState=ReadableState;var a=(r(50).EventEmitter,function(e,t){return e.listeners(t).length}),s=r(221),c=r(0).Buffer,u=r(85),l=r(45);l.inherits=r(2);var f=r(665),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var d,p=r(610);l.inherits(Readable,s);var y=["error","close","destroy","pause","resume"];Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){return readableAddChunk(this,this._readableState,e,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return d||(d=r(116).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var m=8388608;Readable.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;h("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,h("length less than watermark",n)),t.ended||t.reading?(n=!1,h("reading or ended",n)):n&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var i;return i=e>0?fromList(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==i&&this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,r){function onunpipe(e){h("onunpipe"),e===n&&cleanup()}function onend(){h("onend"),e.end()}function cleanup(){h("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",u),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),n.removeListener("end",onend),n.removeListener("end",cleanup),n.removeListener("data",ondata),l=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}function ondata(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==indexOf(o.pipes,e))&&!l&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function onerror(t){h("onerror",t),unpipe(),e.removeListener("error",onerror),0===a(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){h("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){h("unpipe"),n.unpipe(e)}var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,r);var s=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr,c=s?onend:cleanup;o.endEmitted?i(c):n.once("end",c),e.on("unpipe",onunpipe);var u=pipeOnDrain(n);e.on("drain",u);var l=!1,f=!1;return n.on("data",ondata),prependListener(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=indexOf(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):i(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){if(h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){n.push(i)||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],n.emit.bind(n,y[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList}).call(t,r(7))},function(e,t,r){"use strict";function TransformState(e){this.afterTransform=function(t,r){return afterTransform(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);n.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,r){done(t,e,r)}):done(t)})}function done(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=Transform;var n=r(28),i=r(45);i.inherits=r(2),i.inherits(Transform,n),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,r){e.exports=r(50).EventEmitter},function(e,t,r){(function(t){function Sha256(){this.init(),this._w=a,i.call(this,64,56)}function ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var n=r(2),i=r(38),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);n(Sha256,i),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,s=0|this._e,c=0|this._f,u=0|this._g,l=0|this._h,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<64;++f)t[f]=gamma1(t[f-2])+t[f-7]+gamma0(t[f-15])+t[f-16]|0;for(var h=0;h<64;++h){var d=l+sigma1(s)+ch(s,c,u)+o[h]+t[h]|0,p=sigma0(r)+maj(r,n,i)|0;l=u,u=c,c=s,s=a+d|0,a=i,i=n,n=r,r=d+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=c+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0},Sha256.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=Sha256}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function Sha512(){this.init(),this._w=a,i.call(this,128,112)}function Ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}var n=r(2),i=r(38),o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);n(Sha512,i),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,c=0|this._fh,u=0|this._gh,l=0|this._hh,f=0|this._al,h=0|this._bl,d=0|this._cl,p=0|this._dl,y=0|this._el,m=0|this._fl,g=0|this._gl,v=0|this._hl,b=0;b<32;b+=2)t[b]=e.readInt32BE(4*b),t[b+1]=e.readInt32BE(4*b+4);for(;b<160;b+=2){var _=t[b-30],w=t[b-30+1],E=Gamma0(_,w),S=Gamma0l(w,_);_=t[b-4],w=t[b-4+1];var k=Gamma1(_,w),C=Gamma1l(w,_),x=t[b-14],P=t[b-14+1],R=t[b-32],O=t[b-32+1],A=S+P|0,M=E+x+getCarry(A,S)|0;A=A+C|0,M=M+k+getCarry(A,C)|0,A=A+O|0,M=M+R+getCarry(A,O)|0,t[b]=M,t[b+1]=A}for(var I=0;I<160;I+=2){M=t[I],A=t[I+1];var T=maj(r,n,i),D=maj(f,h,d),j=sigma0(r,f),N=sigma0(f,r),L=sigma1(s,y),B=sigma1(y,s),F=o[I],q=o[I+1],U=Ch(s,c,u),H=Ch(y,m,g),V=v+B|0,W=l+L+getCarry(V,v)|0;V=V+H|0,W=W+U+getCarry(V,H)|0,V=V+q|0,W=W+F+getCarry(V,q)|0,V=V+A|0,W=W+M+getCarry(V,A)|0;var z=N+D|0,K=j+T+getCarry(z,N)|0;l=u,v=g,u=c,g=m,c=s,m=y,y=p+V|0,s=a+W+getCarry(y,p)|0,a=i,p=d,i=n,d=h,n=r,h=f,f=V+z|0,r=W+K+getCarry(f,V)|0}this._al=this._al+f|0,this._bl=this._bl+h|0,this._cl=this._cl+d|0,this._dl=this._dl+p|0,this._el=this._el+y|0,this._fl=this._fl+m|0,this._gl=this._gl+g|0,this._hl=this._hl+v|0,this._ah=this._ah+r+getCarry(this._al,f)|0,this._bh=this._bh+n+getCarry(this._bl,h)|0,this._ch=this._ch+i+getCarry(this._cl,d)|0,this._dh=this._dh+a+getCarry(this._dl,p)|0,this._eh=this._eh+s+getCarry(this._el,y)|0,this._fh=this._fh+c+getCarry(this._fl,m)|0,this._gh=this._gh+u+getCarry(this._gl,g)|0,this._hh=this._hh+l+getCarry(this._hl,v)|0},Sha512.prototype._hash=function(){function writeInt64BE(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=new t(64);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),e},e.exports=Sha512}).call(t,r(0).Buffer)},function(e,t,r){function noop(){}function serialize(e){if(!a(e))return e;var t=[];for(var r in e)pushEncodedKeyValuePair(t,r,e[r]);return t.join("&")}function pushEncodedKeyValuePair(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){pushEncodedKeyValuePair(e,t,r)});else if(a(r))for(var n in r)pushEncodedKeyValuePair(e,t+"["+n+"]",r[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function parseString(e){for(var t,r,n={},i=e.split("&"),o=0,a=i.length;o<a;++o)t=i[o],r=t.indexOf("="),-1==r?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function parseHeader(e){var t,r,n,i,o=e.split(/\r?\n/),a={};o.pop();for(var s=0,c=o.length;s<c;++s)r=o[s],t=r.indexOf(":"),n=r.slice(0,t).toLowerCase(),i=f(r.slice(t+1)),a[n]=i;return a}function isJSON(e){return/[\/+]json\b/.test(e)}function Response(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new Response(r)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",t);var n;try{r._isResponseOK(t)||(n=new Error(t.statusText||"Unsuccessful HTTP response"),n.original=e,n.response=t,n.status=t.status)}catch(e){n=e}n?r.callback(n,t):r.callback(null,t)})}function del(e,t,r){var n=l("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}var n;"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=this);var i=r(317),o=r(638),a=r(123),s=r(637),c=r(639),u=r(640),l=t=e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1==arguments.length?new t.Request("GET",e):new t.Request(e,r)};t.Request=Request,l.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var f="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};l.serializeObject=serialize,l.parseString=parseString,l.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},c(Response.prototype),Response.prototype._parseBody=function(e){var t=l.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&isJSON(this.type)&&(t=l.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},Response.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",i=new Error(n);return i.status=this.status,i.method=t,i.url=r,i},l.Response=Response,i(Request.prototype),o(Request.prototype),Request.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},Request.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},Request.prototype.auth=function(e,t,r){switch("object"==typeof t&&null!==t&&(r=t),r||(r={type:"function"==typeof btoa?"basic":"auto"}),r.type){case"basic":this.set("Authorization","Basic "+btoa(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},Request.prototype.query=function(e){return"string"!=typeof e&&(e=serialize(e)),e&&this._query.push(e),this},Request.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},Request.prototype.callback=function(e,t){if(this._maxRetries&&this._retries++<this._maxRetries&&u(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},Request.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._appendQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");s(this._sort)?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},Request.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},Request.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||noop,this._appendQueryString(),this._end()},Request.prototype._end=function(){var e=this,t=this.xhr=l.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var i=this._header["content-type"],o=this._serializer||l.serialize[i?i.split(";")[0]:""];!o&&isJSON(i)&&(o=l.serialize["application/json"]),o&&(r=o(r))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},l.get=function(e,t,r){var n=l("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},l.head=function(e,t,r){var n=l("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.options=function(e,t,r){var n=l("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.del=del,l.delete=del,l.patch=function(e,t,r){var n=l("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.post=function(e,t,r){var n=l("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.put=function(e,t,r){var n=l("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},function(e,t,r){function Timeout(e,t){this._id=e,this._clearFn=t}var n=Function.prototype.apply;t.setTimeout=function(){return new Timeout(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(619),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t){function bytesToUuid(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=bytesToUuid},function(e,t,r){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var i=new Uint8Array(16);r=function(){return n.getRandomValues(i),i}}if(!r){var o=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=r}).call(t,r(4))},function(e,t,r){(function(){var t,n,i=function(e,t){function ctor(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(11),t=r(40),e.exports=function(e){function XMLCData(e,t){if(XMLCData.__super__.constructor.call(this,e),null==t)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(t)}return i(XMLCData,e),XMLCData.prototype.clone=function(){return n(XMLCData.prototype,this)},XMLCData.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<![CDATA["+this.text+"]]>",o&&(a+=n),a},XMLCData}(t)}).call(this)},function(e,t,r){(function(){var t,n,i=function(e,t){function ctor(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(11),t=r(40),e.exports=function(e){function XMLComment(e,t){if(XMLComment.__super__.constructor.call(this,e),null==t)throw new Error("Missing comment text");this.text=this.stringify.comment(t)}return i(XMLComment,e),XMLComment.prototype.clone=function(){return n(XMLComment.prototype,this)},XMLComment.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="\x3c!-- "+this.text+" --\x3e",o&&(a+=n),a},XMLComment}(t)}).call(this)},function(e,t,r){(function(){var t,n,i=function(e,t){function ctor(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e},o={}.hasOwnProperty;r(11),n=r(17),t=r(40),e.exports=function(e){function XMLDeclaration(e,t,r,i){var o;XMLDeclaration.__super__.constructor.call(this,e),n(t)&&(o=t,t=o.version,r=o.encoding,i=o.standalone),t||(t="1.0"),this.version=this.stringify.xmlVersion(t),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=i&&(this.standalone=this.stringify.xmlStandalone(i))}return i(XMLDeclaration,e),XMLDeclaration.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<?xml",a+=' version="'+this.version+'"',null!=this.encoding&&(a+=' encoding="'+this.encoding+'"'),null!=this.standalone&&(a+=' standalone="'+this.standalone+'"'),a+="?>",o&&(a+=n),a},XMLDeclaration}(t)}).call(this)},function(e,t,r){(function(){var t,n,i,o,a,s,c,u;r(11),u=r(17),t=r(228),n=r(229),i=r(653),a=r(655),o=r(654),s=r(656),c=r(233),e.exports=function(){function XMLDocType(e,t,r){var n,i;this.documentObject=e,this.stringify=this.documentObject.stringify,this.children=[],u(t)&&(n=t,t=n.pubID,r=n.sysID),null==r&&(i=[t,r],r=i[0],t=i[1]),null!=t&&(this.pubID=this.stringify.dtdPubID(t)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return XMLDocType.prototype.element=function(e,t){var r;return r=new o(this,e,t),this.children.push(r),this},XMLDocType.prototype.attList=function(e,t,r,n,o){var a;return a=new i(this,e,t,r,n,o),this.children.push(a),this},XMLDocType.prototype.entity=function(e,t){var r;return r=new a(this,!1,e,t),this.children.push(r),this},XMLDocType.prototype.pEntity=function(e,t){var r;return r=new a(this,!0,e,t),this.children.push(r),this},XMLDocType.prototype.notation=function(e,t){var r;return r=new s(this,e,t),this.children.push(r),this},XMLDocType.prototype.cdata=function(e){var r;return r=new t(this,e),this.children.push(r),this},XMLDocType.prototype.comment=function(e){var t;return t=new n(this,e),this.children.push(t),this},XMLDocType.prototype.instruction=function(e,t){var r;return r=new c(this,e,t),this.children.push(r),this},XMLDocType.prototype.root=function(){return this.documentObject.root()},XMLDocType.prototype.document=function(){return this.documentObject},XMLDocType.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l,f,h,d,p;if(c=(null!=e?e.pretty:void 0)||!1,i=null!=(l=null!=e?e.indent:void 0)?l:"  ",s=null!=(f=null!=e?e.offset:void 0)?f:0,a=null!=(h=null!=e?e.newline:void 0)?h:"\n",t||(t=0),p=new Array(t+s+1).join(i),u="",c&&(u+=p),u+="<!DOCTYPE "+this.root().name,this.pubID&&this.sysID?u+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(u+=' SYSTEM "'+this.sysID+'"'),this.children.length>0){for(u+=" [",c&&(u+=a),d=this.children,n=0,o=d.length;n<o;n++)r=d[n],u+=r.toString(e,t+1);u+="]"}return u+=">",c&&(u+=a),u},XMLDocType.prototype.ele=function(e,t){return this.element(e,t)},XMLDocType.prototype.att=function(e,t,r,n,i){return this.attList(e,t,r,n,i)},XMLDocType.prototype.ent=function(e,t){return this.entity(e,t)},XMLDocType.prototype.pent=function(e,t){return this.pEntity(e,t)},XMLDocType.prototype.not=function(e,t){return this.notation(e,t)},XMLDocType.prototype.dat=function(e){return this.cdata(e)},XMLDocType.prototype.com=function(e){return this.comment(e)},XMLDocType.prototype.ins=function(e,t){return this.instruction(e,t)},XMLDocType.prototype.up=function(){return this.root()},XMLDocType.prototype.doc=function(){return this.document()},XMLDocType}()}).call(this)},function(e,t,r){(function(){var t,n,i,o,a,s,c,u=function(e,t){function ctor(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e},l={}.hasOwnProperty;o=r(11),c=r(17),s=r(78),a=r(576),n=r(40),t=r(651),i=r(233),e.exports=function(e){function XMLElement(e,t,r){if(XMLElement.__super__.constructor.call(this,e),null==t)throw new Error("Missing element name");this.name=this.stringify.eleName(t),this.children=[],this.instructions=[],this.attributes={},null!=r&&this.attribute(r)}return u(XMLElement,e),XMLElement.prototype.clone=function(){var e,t,r,n,i,a,s,c;r=o(XMLElement.prototype,this),r.isRoot&&(r.documentObject=null),r.attributes={},s=this.attributes;for(t in s)l.call(s,t)&&(e=s[t],r.attributes[t]=e.clone());for(r.instructions=[],c=this.instructions,n=0,i=c.length;n<i;n++)a=c[n],r.instructions.push(a.clone());return r.children=[],this.children.forEach(function(e){var t;return t=e.clone(),t.parent=r,r.children.push(t)}),r},XMLElement.prototype.attribute=function(e,r){var n,i;if(null!=e&&(e=e.valueOf()),c(e))for(n in e)l.call(e,n)&&(i=e[n],this.attribute(n,i));else s(r)&&(r=r.apply()),this.options.skipNullAttributes&&null==r||(this.attributes[e]=new t(this,e,r));return this},XMLElement.prototype.removeAttribute=function(e){var t,r,n;if(null==e)throw new Error("Missing attribute name");if(e=e.valueOf(),Array.isArray(e))for(r=0,n=e.length;r<n;r++)t=e[r],delete this.attributes[t];else delete this.attributes[e];return this},XMLElement.prototype.instruction=function(e,t){var r,n,o,a,u;if(null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(r=0,u=e.length;r<u;r++)n=e[r],this.instruction(n);else if(c(e))for(n in e)l.call(e,n)&&(o=e[n],this.instruction(n,o));else s(t)&&(t=t.apply()),a=new i(this,e,t),this.instructions.push(a);return this},XMLElement.prototype.toString=function(e,t){var r,n,i,o,s,c,u,f,h,d,p,y,m,g,v,b,_,w,E,S;for(y=(null!=e?e.pretty:void 0)||!1,o=null!=(g=null!=e?e.indent:void 0)?g:"  ",p=null!=(v=null!=e?e.offset:void 0)?v:0,d=null!=(b=null!=e?e.newline:void 0)?b:"\n",t||(t=0),S=new Array(t+p+1).join(o),m="",_=this.instructions,i=0,u=_.length;i<u;i++)s=_[i],m+=s.toString(e,t);y&&(m+=S),m+="<"+this.name,w=this.attributes;for(h in w)l.call(w,h)&&(r=w[h],m+=r.toString(e));if(0===this.children.length||a(this.children,function(e){return""===e.value}))m+="/>",y&&(m+=d);else if(y&&1===this.children.length&&null!=this.children[0].value)m+=">",m+=this.children[0].value,m+="</"+this.name+">",m+=d;else{for(m+=">",y&&(m+=d),E=this.children,c=0,f=E.length;c<f;c++)n=E[c],m+=n.toString(e,t+1);y&&(m+=S),m+="</"+this.name+">",y&&(m+=d)}return m},XMLElement.prototype.att=function(e,t){return this.attribute(e,t)},XMLElement.prototype.ins=function(e,t){return this.instruction(e,t)},XMLElement.prototype.a=function(e,t){return this.attribute(e,t)},XMLElement.prototype.i=function(e,t){return this.instruction(e,t)},XMLElement}(n)}).call(this)},function(e,t,r){(function(){var t;t=r(11),e.exports=function(){function XMLProcessingInstruction(e,t,r){if(this.stringify=e.stringify,null==t)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(t),r&&(this.value=this.stringify.insValue(r))}return XMLProcessingInstruction.prototype.clone=function(){return t(XMLProcessingInstruction.prototype,this)},XMLProcessingInstruction.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<?",a+=this.target,this.value&&(a+=" "+this.value),a+="?>",o&&(a+=n),a},XMLProcessingInstruction}()}).call(this)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=r(238),i=r(326),o=_interopRequireDefault(i),a=r(338),s=_interopRequireDefault(a),c=r(436),u=_interopRequireDefault(c),l=r(413),f=_interopRequireDefault(l),h=r(393),d=_interopRequireDefault(h),p=r(368),y=_interopRequireDefault(p),m=r(448),g=_interopRequireDefault(m);e.exports=new n.Framework({Asset:o.default,Cache:s.default,Security:u.default,Resource:f.default,Log:d.default,Validation:g.default,Event:y.default},n.Framework.FRONTEND_CONTEXT)},function(e,t,r){"use strict";Function.prototype.name||(Object.defineProperty?Object.defineProperty(Function.prototype,"name",{get:function(){const e=this.toString().match(/^\s*function\s+([^(]{1,})\(/i);return e&&e.length>1?e[1].trim():null},set:function(e){}}):console.error('Cannot define "Function.prototype.name" getter'))},function(e,t){function webpackEmptyContext(e){throw new Error("Cannot find module '"+e+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,e.exports=webpackEmptyContext,webpackEmptyContext.id=236},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.ContextProvider=function(){function ContextProvider(e){_classCallCheck(this,ContextProvider),this._context=e}return n(ContextProvider,[{key:"fillContextWithEventData",value:function(e){return this._context[ContextProvider.FRAMEWORK_NAMESPACE_KEY]={},this._context.getDeepFrameworkOption=function(e){return this[ContextProvider.FRAMEWORK_NAMESPACE_KEY][e]},[ContextProvider.MAIN_REQUEST_ID,ContextProvider.LAMBDA_DEPTH_LEVEL].forEach(t=>{e.hasOwnProperty(t)&&(this._context[ContextProvider.FRAMEWORK_NAMESPACE_KEY][t]=e[t])}),e.hasOwnProperty(ContextProvider.DEEP_AUTH_CONTEXT_KEY)&&!this._context.hasOwnProperty("identity")&&(this._context.identity=e[ContextProvider.DEEP_AUTH_CONTEXT_KEY],delete e[ContextProvider.DEEP_AUTH_CONTEXT_KEY]),this}},{key:"context",get:function(){return this._context}}],[{key:"FRAMEWORK_NAMESPACE_KEY",get:function(){return"deepFramework"}},{key:"MAIN_REQUEST_ID",get:function(){return"mainRequestId"}},{key:"LAMBDA_DEPTH_LEVEL",get:function(){return"lambdaDepthLevel"}},{key:"DEEP_AUTH_CONTEXT_KEY",get:function(){return"_deep_auth_context_"}}]),ContextProvider}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Framework=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=_interopRequireDefault(i),a=r(3),s=_interopRequireDefault(a),c=r(237);t.Framework=function(){function Framework(e,t){_classCallCheck(this,Framework),this._context=t,this._services=this._resolveServicesMap(e),this._version=r(661).version,this._kernelsMap={}}return n(Framework,[{key:"LambdaHandler",value:function(e){return{handler:(t,r,n)=>{this.KernelFromLambdaContext(r,t).bootstrap(i=>{new e(i).run(t,r,n)})}}}},{key:"KernelFromLambdaContext",value:function(e,t){let r=new c.ContextProvider(e).fillContextWithEventData(t),n=Framework.ANONYMOUS_IDENTITY_KEY;e.hasOwnProperty("identity")&&e.identity.cognitoIdentityPoolId&&e.identity.cognitoIdentityId&&(n=e.identity.cognitoIdentityId);let i=this._kernelCached(n);return i.runtimeContext=e,i.contextProvider=r,i}},{key:"_kernelCached",value:function(e){return this._kernelsMap.hasOwnProperty(e)?this._kernelsMap[e]:(this._kernelsMap[e]=this._createKernel(),this._kernelsMap[e])}},{key:"_resolveServicesMap",value:function(e){let t={};for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];"string"==typeof n&&(n=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()),t[r]=n}return t}},{key:"_createKernel",value:function(){return new o.default(this._services,this._context)}},{key:"context",get:function(){return this._context}},{key:"version",get:function(){return this._version}},{key:"Kernel",get:function(){return this._kernelCached(Framework.ANONYMOUS_IDENTITY_KEY)}},{key:"Core",get:function(){return s.default}}],[{key:"ANONYMOUS_IDENTITY_KEY",get:function(){return"anonymous"}},{key:"BACKEND_CONTEXT",get:function(){return o.default.BACKEND_CONTEXT}},{key:"FRONTEND_CONTEXT",get:function(){return o.default.FRONTEND_CONTEXT}}]),Framework}()},function(e,t,r){"use strict";(function(t){window.__DEEP_DEV_SERVER=t.__DEEP_DEV_SERVER=-1!==["localhost","127.0.0.1","0.0.0.0","::1"].indexOf(window.location.hostname),/MSIE|Trident/.test(window.navigator.userAgent)&&r(235);const n=r(234);e.exports=n}).call(t,r(4))},function(e,t,r){(function(e){("undefined"==typeof window?e:window).AWS=r(18),r(246),r(241),r(242),r(243),r(244),r(245),r(247),r(248),r(249),r(250)}).call(t,r(4))},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.Conflict=function(){var e=function(e,t){if(!e||!t)throw new Error("Remote and local records cannot be null.");if(!e.getKey||!t.getKey)throw new Error("Records are not record objects.");if(e.getKey()!==t.getKey())throw new Error("Remote and local keys do not match.");this.key=e.getKey(),this.remoteRecord=e,this.localRecord=t};return e.prototype.getKey=function(){return this.key},e.prototype.getRemoteRecord=function(){return this.remoteRecord},e.prototype.getLocalRecord=function(){return this.localRecord},e.prototype.resolveWithRemoteRecord=function(){return this.remoteRecord.setModified(!1),this.remoteRecord},e.prototype.resolveWithLocalRecord=function(){return this.localRecord.setSyncCount(this.remoteRecord.getSyncCount()),this.localRecord.setModified(!0),this.localRecord},e.prototype.resolveWithValue=function(e){return new AWS.CognitoSyncManager.Record({Key:this.remoteRecord.getKey(),Value:e,SyncCount:this.remoteRecord.getSyncCount(),LastModifiedDate:new Date,LastModifiedBy:this.localRecord.getLastModifiedBy(),DeviceLastModifiedDate:new Date,Modified:!0})},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.Dataset=function(){var e=function(e,t,r,n,i){this.MAX_RETRY=3,this.datasetName=e,this.provider=t,this.local=r,this.remote=n,this.logger=i||function(){}};return e.prototype.validateKey=function(e){return new RegExp("^[a-zA-Z0-9_.:-]{1,128}$").test(e)},e.prototype.put=function(e,t,r){var n=typeof t;return this.validateKey(e)?"string"!==n?r(new Error("The value type must be a string but was "+n+".")):void this.local.putValue(this.getIdentityId(),this.datasetName,e,t,r):r(new Error("Invalid key."))},e.prototype.remove=function(e,t){if(!this.validateKey(e))return t(new Error("Invalid key."));this.local.putValue(this.getIdentityId(),this.datasetName,e,null,t)},e.prototype.get=function(e,t){if(!this.validateKey(e))return t(new Error("Invalid key."));this.local.getValue(this.getIdentityId(),this.datasetName,e,t)},e.prototype.getAllRecords=function(e){this.local.getRecords(this.getIdentityId(),this.datasetName,e)},e.prototype.getDataStorage=function(e){this.getDatasetMetadata(function(t,r){return t?e(t):r?e(null,r.getDataStorage()):e(null,0)})},e.prototype.isChanged=function(e,t){if(!this.validateKey(e))return t(new Error("Invalid key."));this.local.getRecord(this.getIdentityId(),this.datasetName,e,function(e,r){t(null,r&&r.isModified())})},e.prototype.getDatasetMetadata=function(e){this.local.getDatasetMetadata(this.getIdentityId(),this.datasetName,e)},e.prototype.resolve=function(e,t){this.local.putRecords(this.getIdentityId(),this.datasetName,e,t)},e.prototype.putAll=function(e,t){var r=!0;for(var n in e)e.hasOwnProperty(n)&&(this.validateKey(n)||(r=!1));if(!r)return t(new Error("Object contains invalid keys."));this.local.putAllValues(this.getIdentityId(),this.datasetName,e,t)},e.prototype.getAll=function(e){var t,r={};this.local.getRecords(this.getIdentityId(),this.datasetName,function(n,i){if(n)return e(n);for(var o in i)i.hasOwnProperty(o)&&(t=i[o],t.isDeleted()||(r[t.getKey()]=t.getValue()));e(null,r)})},e.prototype.getIdentityId=function(){return this.provider.identityId},e.prototype.getModifiedRecords=function(e){this.local.getModifiedRecords(this.getIdentityId(),this.datasetName,e)},e.prototype.getLocalMergedDatasets=function(e){var t,r=[],n=this.datasetName+".";this.local.getDatasets(this.getIdentityId(),function(i,o){for(var a in o)o.hasOwnProperty(a)&&(t=o[a],0===t.getDatasetName().indexOf(n)&&r.push(t.getDatasetName()));e(null,r)})},e.prototype.synchronize=function(e,t){var r=this;if(e=e||{},e.onSuccess=e.onSuccess||function(e,t){},e.onFailure=e.onFailure||function(e){},e.onConflict=e.onConflict||function(e,t,r){return r(!1)},e.onDatasetDeleted=e.onDatasetDeleted||function(e,t,r){return r(!1)},e.onDatasetsMerged=e.onDatasetsMerged||function(e,t,r){return r(!1)},void 0===t&&(t=this.MAX_RETRY),r.logger("Starting synchronization... (retries: "+t+")"),t<0)return e.onFailure(new Error("Synchronize failed: exceeded maximum retry count."));this.getLocalMergedDatasets(function(n,i){if(n&&e.onFailure(n),r.logger("Checking for locally merged datasets... found "+i.length+"."),i.length>0)return r.logger("Deferring to .onDatasetsMerged."),e.onDatasetsMerged(r,i,function(n){return n?r.synchronize(e,--t):e.onFailure(new Error("Synchronization cancelled by onDatasetsMerged() callback returning false."))});r.local.getLastSyncCount(r.getIdentityId(),r.datasetName,function(n,i){if(n)return e.onFailure(n);r.logger("Detecting last sync count... "+i),-1==i?r.remote.deleteDataset(r.datasetName,function(t,n){if(t)return e.onFailure(t);r.local.purgeDataset(r.getIdentityId(),r.datasetName,function(t){return t?e.onFailure(t):e.onSuccess(r)})}):r.remote.listUpdates(r.datasetName,i,function(n,o){if(n)return e.onFailure(n);r.logger("Fetching remote updates... found "+o.records.length+".");var a=o.getMergedDatasetNameList();if(r.logger("Checking for remote merged datasets... found "+a.length+"."),a.length>0)return r.logger("Deferring to .onDatasetsMerged."),e.onDatasetsMerged(r,a,function(n){n?r._synchronizeInternal(e,--t):e.onFailure(new Error("Cancelled due to .onDatasetsMerged result."))});if(0!==i&&!o||o.isDeleted())return e.onDatasetDeleted(r,o.getDatasetName(),function(n){return r.logger("Dataset should be deleted. Deferring to .onDatasetDeleted."),n?(r.logger(".onDatasetDeleted returned true, purging dataset locally."),r.local.purgeDataset(r.getIdentityId(),r.datasetName,function(n){return n?e.onFailure(n):r._synchronizeInternal(e,--t)})):(r.logger(".onDatasetDeleted returned false, cancelling sync."),e.onFailure(new Error("Cancelled due to .onDatasetDeleted result.")))});var s=o.getRecords(),c=o.getSyncCount(),u=o.getSyncSessionToken();r.logger("Checking for remote updates since last sync count... found "+s.length+"."),s.length>0?r._synchronizeResolveLocal(s,function(n,o){if(n)return e.onFailure(n);r.logger("Checking for conflicts... found "+o.length+"."),o.length>0?(r.logger("Conflicts detected. Deferring to .onConflict."),e.onConflict(r,o,function(n){if(!n)return r.logger(".onConflict returned false. Cancelling sync."),e.onFailure(new Error("Sync cancelled. Conflict callback returned false."));r._synchronizePushRemote(u,i,function(){return r.synchronize(e,--t)})})):(r.logger("No conflicts. Updating local records."),r.local.putRecords(r.getIdentityId(),r.datasetName,s,function(n){if(n)return e.onFailure(n);r.local.updateLastSyncCount(r.getIdentityId(),r.datasetName,c,function(n){return n?e.onFailure(n):(r.logger("Finished resolving records. Restarting sync."),r.synchronize(e,--t))})}))}):(r.logger("Nothing updated remotely. Pushing local changes to remote."),r._synchronizePushRemote(u,c,function(n){return n?(r.logger("Remote push failed. Likely concurrent sync conflict. Retrying..."),r.synchronize(e,--t)):(r.logger("Sync successful."),e.onSuccess(r,s))}))})})})},e.prototype._synchronizeResolveLocal=function(e,t){var r=this,n=[];if(!(e&&e.length>0))return t(null,n);r.local.getRecords(r.getIdentityId(),r.datasetName,function(r,i){var o,a,s,c={};for(o=0;o<i.length;o++)c[i[o].getKey()]=i[o];for(o=0;o<e.length;o++)a=e[o].getKey(),(s=c[a])&&s.isModified()&&s.getValue()!==e[o].getValue()&&n.push(new AWS.CognitoSyncManager.Conflict(e[o],s));return t(null,n)})},e.prototype._synchronizePushRemote=function(e,t,r){var n=this;this.getModifiedRecords(function(t,i){if(!(i.length>0))return r(null,!0);n.remote.putRecords(n.datasetName,i,e,function(e,t){e&&r(e),n.local.putRecords(n.getIdentityId(),n.datasetName,t,function(e){if(e)return r(e);var i=0;for(var o in t)t.hasOwnProperty(o)&&(i=i<t[o].getSyncCount()?t[o].getSyncCount():i);n.local.updateLastSyncCount(n.getIdentityId(),n.datasetName,i,function(e){return e?r(e):r(null,!0)})})})})},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.DatasetMetadata=function(){var e=function(e){if(e=e||{},this.datasetName=e.DatasetName||"",this.creationDate=new Date(e.CreationDate)||new Date,this.lastModifiedDate=new Date(e.LastModifiedDate)||new Date,this.lastModifiedBy=e.LastModifiedBy||"",this.dataStorage=e.DataStorage||0,this.recordCount=e.NumRecords||0,this.lastSyncCount=e.LastSyncCount||0,this.lastSyncDate=e.LastSyncDate?new Date(e.LastSyncDate):new Date,this.dataStorage<0)throw new RangeError("Storage size cannot be negative.");if(this.recordCount<0)throw new RangeError("Record count cannot be negative.")};return e.prototype.getDatasetName=function(){return this.datasetName},e.prototype.setDatasetName=function(e){return this.datasetName=e,this},e.prototype.getCreationDate=function(){return this.creationDate},e.prototype.setCreationDate=function(e){return this.creationDate=new Date(e),this},e.prototype.getLastModifiedDate=function(){return this.lastModifiedDate},e.prototype.setLastModifiedDate=function(e){return this.lastModifiedDate=new Date(e),this},e.prototype.getLastModifiedBy=function(){return this.lastModifiedBy},e.prototype.setLastModifiedBy=function(e){return this.lastModifiedBy=e,this},e.prototype.getDataStorage=function(){return this.dataStorage},e.prototype.setDataStorage=function(e){return this.dataStorage=e,this},e.prototype.getRecordCount=function(){return this.recordCount},e.prototype.setRecordCount=function(e){return this.recordCount=e,this},e.prototype.getLastSyncCount=function(){return this.lastSyncCount},e.prototype.setLastSyncCount=function(e){return this.lastSyncCount=e,this},e.prototype.getLastSyncDate=function(){return this.lastSyncDate},e.prototype.setLastSyncDate=function(e){return this.lastSyncDate=e,this},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.prototype.toJSON=function(){return{DatasetName:this.datasetName,CreationDate:this.creationDate,LastModifiedDate:this.lastModifiedDate,LastModifiedBy:this.lastModifiedBy,DataStorage:this.dataStorage,NumRecords:this.recordCount,LastSyncCount:this.lastSyncCount,LastSyncDate:this.lastSyncDate}},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.DatasetUpdates=function(){var e=function(e){this.datasetName=e,this.records=[],this.syncCount=0,this.syncSessionToken="",this.exists=!0,this.deleted=!1,this.mergedDatasetNameList=[]};return e.prototype.getDatasetName=function(){return this.datasetName},e.prototype.setDatasetName=function(e){return this.datasetName=e,this},e.prototype.getRecords=function(){return this.records},e.prototype.addRecord=function(e){return this.records.push(e),this},e.prototype.getSyncCount=function(){return this.syncCount},e.prototype.setSyncCount=function(e){return this.syncCount=e,this},e.prototype.getSyncSessionToken=function(){return this.syncSessionToken},e.prototype.setSyncSessionToken=function(e){return this.syncSessionToken=e,this},e.prototype.isExists=function(){return this.exists},e.prototype.setExists=function(e){return this.exists=e,this},e.prototype.isDeleted=function(){return this.deleted},e.prototype.setDeleted=function(e){return this.deleted=e,this},e.prototype.getMergedDatasetNameList=function(){return this.mergedDatasetNameList},e.prototype.setMergedDatasetNameList=function(e){return this.mergedDatasetNameList=e,this},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.LocalStorage=function(){var e=function(e){e=e||{},this.store=null,this.meta=null,e.DataStore?this.store=new e.DataStore:this.store=new AWS.CognitoSyncManager.StoreInMemory};return e.prototype.getMetadataKey=function(e,t){return e+"."+t},e.prototype.loadMetadataCache=function(e,t){var r=this;this.store.get("_internal","_metadata",e,function(e,n){if(e)return t(e,null);n||(n={}),r.meta=n,t(null,n)})},e.prototype.saveMetadataCache=function(e,t,r){this.store.set("_internal","_metadata",e,t,function(e){return e?r(e):r(null,t)})},e.prototype.createDataset=function(e,t,r){var n=this;return this.getDatasetMetadata(e,t,function(i,o){var a=(new Date).getTime();o?r(null,t):(o=new AWS.CognitoSyncManager.DatasetMetadata({DatasetName:t,CreationDate:a,LastModifiedDate:a}),n.setDatasetMetadata(e,t,o,function(e,t){}),r(null,t))}),this},e.prototype.getDatasetMetadata=function(e,t,r){var n=this.getMetadataKey(e,t);return null!==this.meta?this.meta[n]?r(null,new AWS.CognitoSyncManager.DatasetMetadata(this.meta[n])):r(null,void 0):this.loadMetadataCache(e,function(e,t){t[n]?r(null,new AWS.CognitoSyncManager.DatasetMetadata(t[n])):r(null,void 0)}),this},e.prototype.setDatasetMetadata=function(e,t,r,n){return this.meta[this.getMetadataKey(e,t)]=r.toJSON(),this.saveMetadataCache(e,this.meta,n),this},e.prototype.getValue=function(e,t,r,n){this.getRecord(e,t,r,function(e,t){return t?n(null,t.getValue()):n(null,void 0)})},e.prototype.putValue=function(e,t,r,n,i){var o=this;this.getRecord(e,t,r,function(a,s){if(s&&s.getValue()==n)return i(null,s);s||(s=new AWS.CognitoSyncManager.Record),s.setKey(r).setValue(n).setModified(!0).setSyncCount(s?s.getSyncCount():0).setDeviceLastModifiedDate(new Date),o.store.set(e,t,r,s.toJSON(),function(r){if(r)return i(r);o.updateLastModifiedTimestamp(e,t,function(e){return i(e,s)})})})},e.prototype.getValueMap=function(e,t,r){var n,i={};this.getRecords(e,t,function(e,t){for(var o in t)t.hasOwnProperty(o)&&(n=t[o],n.isDeleted()||(i[n.getKey()]=n.getValue()));r(null,i)})},e.prototype.putAllValues=function(e,t,r,n){var i=this,o=[];for(var a in r)r.hasOwnProperty(a)&&o.push(a);var s=function(a){var c;if(a)return n(a);o.length>0?(c=o.shift(),i.putValue(e,t,c,r[c],s)):n(null,!0)};s(null,null)},e.prototype.getDatasets=function(e,t){var r=[];if(null!==this.meta){for(var n in this.meta)this.meta.hasOwnProperty(n)&&r.push(new AWS.CognitoSyncManager.DatasetMetadata(this.meta[n]));return t(null,r)}this.loadMetadataCache(e,function(e,n){for(var i in n)n.hasOwnProperty(i)&&r.push(new AWS.CognitoSyncManager.DatasetMetadata(n[i]));return t(null,r)})},e.prototype.updateDatasetMetadata=function(e,t,r){var n=this;this.getDatasetMetadata(e,t.getDatasetName(),function(i,o){i&&r(i),o||(o=new AWS.CognitoSyncManager.DatasetMetadata),o.setDatasetName(t.getDatasetName()).setCreationDate(t.getCreationDate()).setLastModifiedDate(t.getLastModifiedDate()).setLastModifiedBy(t.getLastModifiedBy()).setLastSyncCount(t.getLastSyncCount()).setRecordCount(t.getRecordCount()).setDataStorage(t.getDataStorage()),n.meta[n.getMetadataKey(e,t.getDatasetName())]=o.toJSON(),n.saveMetadataCache(e,n.meta,function(e){return e?r(e):r(null,o)})})},e.prototype.getRecord=function(e,t,r,n){this.store.get(e,t,r,function(e,t){return t?n(null,new AWS.CognitoSyncManager.Record(t)):n(new Error("Key doesn't exist."),null)})},e.prototype.getRecords=function(e,t,r){var n=[];this.store.getAll(e,t,function(e,t){for(var i in t)t.hasOwnProperty(i)&&n.push(new AWS.CognitoSyncManager.Record(t[i]));r(null,n)})},e.prototype.putRecords=function(e,t,r,n){var i=this;r=r||[],r=r.slice();var o=function(){r.length>0&&i.updateAndClearRecord(e,t,r.shift(),function(e){return e?n(e):0===r.length?n(null,!0):void o()})};o()},e.prototype.deleteDataset=function(e,t,r){var n=this;this.store.removeAll(e,t,function(i){if(i)return r(i);n.getDatasetMetadata(e,t,function(t,i){if(t)return r(t);i.setLastModifiedDate(new Date),i.setLastSyncCount(-1),n.updateDatasetMetadata(e,i,function(e){return e?r(e):r(null,!0)})})})},e.prototype.purgeDataset=function(e,t,r){var n=this;this.deleteDataset(e,t,function(i){i&&r(i),delete n.meta[n.getMetadataKey(e,t)],n.saveMetadataCache(e,n.meta,r)})},e.prototype.getLastSyncCount=function(e,t,r){this.getDatasetMetadata(e,t,function(e,t){if(t)return r(null,t.getLastSyncCount());r(new Error("Dataset doesn't exist."),null)})},e.prototype.getModifiedRecords=function(e,t,r){var n=[];this.getRecords(e,t,function(e,t){for(var i=0;i<t.length;i++)t[i].isModified()&&n.push(t[i]);r(null,n)})},e.prototype.updateLastSyncCount=function(e,t,r,n){var i=this;this.getDatasetMetadata(e,t,function(t,o){t&&n(t),o.setLastSyncCount(r).setLastSyncDate(new Date),i.updateDatasetMetadata(e,o,function(e){e&&n(e),n(null,!0)})})},e.prototype.wipeData=function(e){this.store.wipe(e)},e.prototype.updateLastModifiedTimestamp=function(e,t,r){var n=this;this.getDatasetMetadata(e,t,function(t,i){if(t)return r(t);i.setLastModifiedDate(new Date),n.updateDatasetMetadata(e,i,function(e){return e?r(e):r(null,!0)})})},e.prototype.removeRecord=function(e,t,r){this.store.remove(e,t,r,function(e){return e?callback(e):callback(null,!0)})},e.prototype.updateAndClearRecord=function(e,t,r,n){this.store.set(e,t,r.getKey(),r.toJSON(),function(e){return e?n(e):n(null,!0)})},e}()},function(e,t){if(void 0===AWS)throw new Error("AWS SDK must be loaded before loading the Sync Manager.");AWS.CognitoSyncManager=function(e){e=e||{};this.provider=AWS.config.credentials,this.identityPoolId=this.provider.params.IdentityPoolId,this.region=AWS.config.region,!this.provider.identityId&&this.provider.params.IdentityId&&(this.provider.identityId=this.provider.params.IdentityId),this.logger=e.log,"function"!=typeof this.logger&&(this.logger=function(){}),this.local=new AWS.CognitoSyncManager.LocalStorage({DataStore:e.DataStore?e.DataStore:AWS.CognitoSyncManager.StoreLocalStorage}),this.remote=new AWS.CognitoSyncManager.RemoteStorage(this.identityPoolId,this.provider),this.remote.setUserAgent("CognitoJavaScriptSDK/1")},AWS.CognitoSyncManager.prototype.openOrCreateDataset=function(e,t){var r=this,n=new RegExp("^[a-zA-Z0-9_.:-]{1,128}$");n.test(e)?this.local.createDataset(this.getIdentityId(),e,function(e,n){if(e)return t(e,null);t(null,new AWS.CognitoSyncManager.Dataset(n,r.provider,r.local,r.remote,r.logger))}):t(new Error("Dataset name must match the pattern "+n.toString()))},AWS.CognitoSyncManager.prototype.listDatasets=function(e){this.local.getDatasets(this.getIdentityId(),e)},AWS.CognitoSyncManager.prototype.refreshDatasetMetadata=function(e){var t=this;this.remote.getDatasets(function(r,n){var i=[],o=function(e){t.local.updateDatasetMetadata(t.getIdentityId(),e,a)},a=function(t,r){i.push(r),n.length>0?o(n.shift()):e(null,i)};n.length>0?o(n.shift()):e(null,[])})},AWS.CognitoSyncManager.prototype.wipeData=function(){this.provider.clearCachedId(),this.local.wipeData()},AWS.CognitoSyncManager.prototype.getIdentityId=function(){return this.provider.identityId}},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.Record=function(){var e=function(e){e=e||{},this.key=e.Key||"",this.value=e.Value||"",this.syncCount=e.SyncCount||0,this.lastModifiedDate=e.LastModifiedDate?new Date(e.LastModifiedDate):new Date,this.lastModifiedBy=e.LastModifiedBy||"",this.deviceLastModifiedDate=e.DeviceLastModifiedDate?new Date(e.DeviceLastModifiedDate):new Date,this.modified=e.Modified||!1};return e.prototype.getKey=function(){return this.key},e.prototype.setKey=function(e){return this.key=e,this},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){return this.value=e,this},e.prototype.getSyncCount=function(){return this.syncCount},e.prototype.setSyncCount=function(e){return this.syncCount=e,this},e.prototype.getLastModifiedDate=function(){return new Date(this.lastModifiedDate)},e.prototype.setLastModifiedDate=function(e){return this.lastModifiedDate=new Date(e),this},e.prototype.getLastModifiedBy=function(){return this.lastModifiedBy},e.prototype.setLastModifiedBy=function(e){return this.lastModifiedBy=e,this},e.prototype.getDeviceLastModifiedDate=function(){return new Date(this.deviceLastModifiedDate)},e.prototype.setDeviceLastModifiedDate=function(e){return this.deviceLastModifiedDate=new Date(e),this},e.prototype.isModified=function(){return this.modified},e.prototype.setModified=function(e){return this.modified=e,this},e.prototype.isDeleted=function(){return null===this.value},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.toJSON=function(){return{Key:this.key,Value:this.value,SyncCount:this.syncCount,LastModifiedDate:this.lastModifiedDate,LastModifiedBy:this.lastModifiedBy,DeviceLastModifiedDate:this.deviceLastModifiedDate,Modified:this.modified}},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.RemoteStorage=function(){var e=function(e,t){this.identityPoolId=e,this.provider=t,this.client=new AWS.CognitoSync};return e.prototype.userAgent="",e.prototype.getIdentityId=function(){return this.provider.identityId},e.prototype.getDatasets=function(e){var t=this,r=[],n=null,i=function(e,r){t.client.listDatasets({IdentityId:t.getIdentityId(),IdentityPoolId:t.identityPoolId,MaxResults:64,NextToken:e},r)},o=function(t,a){for(var s=a.Datasets||[],c=0;c<s.length;c++)r.push(new AWS.CognitoSyncManager.DatasetMetadata(s[c]));n=a.NextToken,n?i(n,o):e(null,r)};i(n,o)},e.prototype.listUpdates=function(e,t,r){var n=this,i=null,o=new AWS.CognitoSyncManager.DatasetUpdates(e),a=function(r,i){n.client.listRecords({DatasetName:e,IdentityId:n.getIdentityId(),IdentityPoolId:n.identityPoolId,LastSyncCount:t,MaxResults:1024,NextToken:r},i)},s=function(e,t){if(e)return r(e);t=t||{};for(var n,c=t.Records||[],u=0;u<c.length;u++)n=new AWS.CognitoSyncManager.Record(c[u]),n.setModified(!1),o.addRecord(n);o.setSyncSessionToken(t.SyncSessionToken).setSyncCount(t.DatasetSyncCount).setExists(t.DatasetExists).setDeleted(t.DatasetDeletedAfterRequestedSyncCount),t.MergedDatasetNames&&o.setMergedDatasetNameList(t.MergedDatasetNames),i=t.NextToken,i?a(i,s):r(null,o)};a(null,s)},e.prototype.putRecords=function(e,t,r,n){var i,o=this,a=[];for(var s in t)t.hasOwnProperty(s)&&(i=t[s],a.push({Key:i.getKey(),Op:i.getValue()?"replace":"remove",SyncCount:i.getSyncCount(),DeviceLastModifiedDate:i.getDeviceLastModifiedDate(),Value:i.getValue()}));this.client.updateRecords({DatasetName:e,IdentityId:o.getIdentityId(),IdentityPoolId:o.identityPoolId,SyncSessionToken:r,RecordPatches:a},function(t,r){var i="string"==typeof e?e:"(invalid dataset name)";if(t)return n(new Error("Failed to update records in dataset: "+i+" ("+t.message+")"),null);for(var o,a=[],s=0;s<r.Records.length;s++)o=new AWS.CognitoSyncManager.Record(r.Records[s]),o.setModified(!1),a.push(o);return n(null,a)})},e.prototype.deleteDataset=function(e,t){this.client.deleteDataset({DatasetName:e,IdentityId:this.getIdentityId(),IdentityPoolId:this.identityPoolId},function(e,r){return e?t(new Error("Failed to delete dataset."),null):t(null,r)})},e.prototype.getDatasetMetadata=function(e,t){this.client.describeDataset({DatasetName:e,IdentityId:this.getIdentityId(),IdentityPoolId:this.identityPoolId},function(e,r){return e?t(new Error("Failed to get dataset metadata."),null):t(null,new AWS.CognitoSyncManager.DatasetMetadata(r.Dataset))})},e.prototype.setUserAgent=function(e){this.userAgent=e},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.StoreInMemory=function(){var e=function(){this.store={}};return e.prototype.makeKey=function(e,t){return e+"."+t},e.prototype.get=function(e,t,r,n){var i=this.makeKey(e,t);return e&&t?this.store[i]&&this.store[i][r]?n(null,this.store[i][r]):n(null,void 0):n(new Error("You must provide an identity id and dataset name."),null)},e.prototype.getAll=function(e,t,r){var n=this.makeKey(e,t);return e&&t?r(null,this.store[n]):r(new Error("You must provide an identity id and dataset name."),null)},e.prototype.set=function(e,t,r,n,i){var o=this.makeKey(e,t),a=this.store[o]||{};return a[r]=n,this.store[o]=a,i(null,a)},e.prototype.setAll=function(e,t,r,n){var i=this.makeKey(e,t);return this.store[i]=r,n(null,r)},e.prototype.remove=function(e,t,r,n){var i=this.makeKey(e,t),o=JSON.parse(this.store[i]);return o||(o={}),delete o[r],this.store[i]=JSON.stringify(o),n(null,!0)},e.prototype.removeAll=function(e,t,r){var n=this.makeKey(e,t);return delete this.store[n],r(null,!0)},e.prototype.wipe=function(e){return this.store={},e(null,!0)},e}()},function(e,t){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.StoreLocalStorage=function(){var e=function(){this.store=this._isAvailable()?window.localStorage:new AWS.CognitoSyncManager.StoreInMemory};return e.prototype.makeKey=function(e,t){return e+"."+t},e.prototype.get=function(e,t,r,n){var i=this.makeKey(e,t);if(!e||!t)return n(new Error("You must provide an identity id and dataset name."),null);var o=JSON.parse(this.store.getItem(i));return o&&o[r]?n(null,o[r]):n(null,void 0)},e.prototype.getAll=function(e,t,r){var n=this.makeKey(e,t);return e&&t?r(null,JSON.parse(this.store.getItem(n))):r(new Error("You must provide an identity id and dataset name."),null)},e.prototype.set=function(e,t,r,n,i){var o=this.makeKey(e,t),a=JSON.parse(this.store.getItem(o));return a||(a={}),a[r]=n,this.store.setItem(o,JSON.stringify(a)),i(null,a),this},e.prototype.setAll=function(e,t,r,n){var i=this.makeKey(e,t);return this.store.setItem(i,JSON.stringify(r)),n(null,r)},e.prototype.remove=function(e,t,r,n){var i=this.makeKey(e,t),o=JSON.parse(this.store.getItem(i));return o||(o={}),delete o[r],this.store.setItem(i,JSON.stringify(o)),n(null,!0)},e.prototype.removeAll=function(e,t,r){var n=this.makeKey(e,t);return this.store.removeItem(n),r(null,!0)},e.prototype.wipe=function(e){var t=/^[\w-]+:[0-9a-f-]+\..+$/;for(var r in this.store)this.store.hasOwnProperty(r)&&t.test(r)&&this.store.removeItem(r);return this.store.removeItem(this.makeKey("_internal","_metadata")),e?e(null,!0):this},e.prototype._isAvailable=function(){var e,t=new Date;try{window.localStorage.setItem(t,t),e=window.localStorage.getItem(t)==t,window.localStorage.removeItem(t)}catch(t){e=!1}return e},e}()},function(e,t,r){function Entity(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var n=r(41),i=r(2);t.define=function(e,t){return new Entity(e,t)},Entity.prototype._createNamed=function(e){var t;try{t=r(649).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},Entity.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},Entity.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},Entity.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},Entity.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},function(e,t,r){function Node(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var n=r(42).Reporter,i=r(42).EncoderBuffer,o=r(42).DecoderBuffer,a=r(26),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];e.exports=Node;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var e=this._baseState,t={};l.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},Node.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},Node.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r}),t}))},u.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}}),Node.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},Node.prototype.optional=function(){return this._baseState.optional=!0,this},Node.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},Node.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},Node.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},Node.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},Node.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},Node.prototype.any=function(){return this._baseState.any=!0,this},Node.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},Node.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},Node.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n=r.default,i=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){var s=null;if(null!==r.explicit?s=r.explicit:null!==r.implicit?s=r.implicit:null!==r.tag&&(s=r.tag),null!==s||r.any){if(i=this._peekTag(e,s,r.any),e.isError(i))return i}else{var c=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),i=!0}catch(e){i=!1}e.restore(c)}}var u;if(r.obj&&i&&(u=e.enterObject()),i){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===r.use&&null===r.choice){if(r.any)var c=e.save();var h=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(h))return h;r.any?n=e.raw(c):e=h}if(t&&t.track&&null!==r.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),n=r.any?n:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(n))return n;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var d=new o(n);n=this._getUse(r.contains,e._reporterState.obj)._decode(d,t)}}return r.obj&&i&&(n=e.leaveObject(u)),null===r.key||null===n&&!0!==i?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,n),n},Node.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},Node.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},Node.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(o){var a=e.save(),s=r.choice[o];try{var c=s._decode(e,t);if(e.isError(c))return!1;n={type:o,value:c},i=!0}catch(t){return e.restore(a),!1}return!0},this),i?n:e.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},Node.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},Node.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,r)._encode(e,t),s=!0;else if(i.children)a=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)},c))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);var o;if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be ommited only for .use()"):null===i.use&&(o=this._encodeComposite(u,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},Node.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},Node.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},Node.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},Node.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,r){function Reporter(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function ReporterError(e,t){this.path=e,this.rethrow(t)}var n=r(2);t.Reporter=Reporter,Reporter.prototype.isError=function(e){return e instanceof ReporterError},Reporter.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},Reporter.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},Reporter.prototype.enterKey=function(e){return this._reporterState.path.push(e)},Reporter.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},Reporter.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},Reporter.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},Reporter.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof ReporterError;if(t=n?e:new ReporterError(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},Reporter.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(ReporterError,Error),ReporterError.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,r){var n=r(127);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},function(e,t,r){var n=t;n.der=r(128),n.pem=r(256)},function(e,t,r){function PEMDecoder(e){o.call(this,e),this.enc="pem"}var n=r(2),i=r(0).Buffer,o=r(128);n(PEMDecoder,o),e.exports=PEMDecoder,PEMDecoder.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=-1,s=-1,c=0;c<r.length;c++){var u=r[c].match(/^-----(BEGIN|END) ([^-]+)-----$/);if(null!==u&&u[2]===n){if(-1!==a){if("END"!==u[1])break;s=c;break}if("BEGIN"!==u[1])break;a=c}}if(-1===a||-1===s)throw new Error("PEM section not found for: "+n);var l=r.slice(a+1,s).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new i(l,"base64");return o.prototype.decode.call(this,f,t)}},function(e,t,r){var n=t;n.der=r(129),n.pem=r(258)},function(e,t,r){function PEMEncoder(e){i.call(this,e),this.enc="pem"}var n=r(2),i=r(129);n(PEMEncoder,i),e.exports=PEMEncoder,PEMEncoder.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e),n=r.toString("base64"),o=["-----BEGIN "+t.label+"-----"],a=0;a<n.length;a+=64)o.push(n.slice(a,a+64));return o.push("-----END "+t.label+"-----"),o.join("\n")}},function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"}}},output:{shape:"Sg"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sr"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sg"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sw"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}}},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"Sw"}}},output:{type:"structure",members:{IdentityId:{}}}},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S18"},RoleMappings:{shape:"S1a"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sw"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"Sw"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sr"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S18"},RoleMappings:{shape:"S1a"}}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"Sw"},LoginsToRemove:{shape:"Ss"}}}},UpdateIdentityPool:{input:{shape:"Sg"},output:{shape:"Sg"}}},shapes:{S4:{type:"map",key:{},value:{}},S8:{type:"list",member:{}},Sa:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sf:{type:"list",member:{}},Sg:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"}}},Sr:{type:"structure",members:{IdentityId:{},Logins:{shape:"Ss"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Ss:{type:"list",member:{}},Sw:{type:"map",key:{},value:{}},S18:{type:"map",key:{},value:{}},S1a:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}}}}},function(e,t){e.exports={pagination:{}}},function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-sync",jsonVersion:"1.1",serviceFullName:"Amazon Cognito Sync",signatureVersion:"v4",protocol:"rest-json",uid:"cognito-sync-2014-06-30"},operations:{BulkPublish:{http:{requestUri:"/identitypools/{IdentityPoolId}/bulkpublish",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolId:{}}}},DeleteDataset:{http:{method:"DELETE",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"}}},output:{type:"structure",members:{Dataset:{shape:"S8"}}}},DescribeDataset:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"}}},output:{type:"structure",members:{Dataset:{shape:"S8"}}}},DescribeIdentityPoolUsage:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolUsage:{shape:"Sg"}}}},DescribeIdentityUsage:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"}}},output:{type:"structure",members:{IdentityUsage:{type:"structure",members:{IdentityId:{},IdentityPoolId:{},LastModifiedDate:{type:"timestamp"},DatasetCount:{type:"integer"},DataStorage:{type:"long"}}}}}},GetBulkPublishDetails:{http:{requestUri:"/identitypools/{IdentityPoolId}/getBulkPublishDetails",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolId:{},BulkPublishStartTime:{type:"timestamp"},BulkPublishCompleteTime:{type:"timestamp"},BulkPublishStatus:{},FailureMessage:{}}}},GetCognitoEvents:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/events",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{Events:{shape:"Sq"}}}},GetIdentityPoolConfiguration:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/configuration",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolId:{},PushSync:{shape:"Sv"},CognitoStreams:{shape:"Sz"}}}},ListDatasets:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets",responseCode:200},input:{type:"structure",required:["IdentityId","IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},NextToken:{location:"querystring",locationName:"nextToken"},MaxResults:{location:"querystring",locationName:"maxResults",type:"integer"}}},output:{type:"structure",members:{Datasets:{type:"list",member:{shape:"S8"}},Count:{type:"integer"},NextToken:{}}}},ListIdentityPoolUsage:{http:{method:"GET",requestUri:"/identitypools",responseCode:200},input:{type:"structure",members:{NextToken:{location:"querystring",locationName:"nextToken"},MaxResults:{location:"querystring",locationName:"maxResults",type:"integer"}}},output:{type:"structure",members:{IdentityPoolUsages:{type:"list",member:{shape:"Sg"}},MaxResults:{type:"integer"},Count:{type:"integer"},NextToken:{}}}},ListRecords:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/records",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},LastSyncCount:{location:"querystring",locationName:"lastSyncCount",type:"long"},NextToken:{location:"querystring",locationName:"nextToken"},MaxResults:{location:"querystring",locationName:"maxResults",type:"integer"},SyncSessionToken:{location:"querystring",locationName:"syncSessionToken"}}},output:{type:"structure",members:{Records:{shape:"S1c"},NextToken:{},Count:{type:"integer"},DatasetSyncCount:{type:"long"},LastModifiedBy:{},MergedDatasetNames:{type:"list",member:{}},DatasetExists:{type:"boolean"},DatasetDeletedAfterRequestedSyncCount:{type:"boolean"},SyncSessionToken:{}}}},RegisterDevice:{http:{requestUri:"/identitypools/{IdentityPoolId}/identity/{IdentityId}/device",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","Platform","Token"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},Platform:{},Token:{}}},output:{type:"structure",members:{DeviceId:{}}}},SetCognitoEvents:{http:{requestUri:"/identitypools/{IdentityPoolId}/events",responseCode:200},input:{type:"structure",required:["IdentityPoolId","Events"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},Events:{shape:"Sq"}}}},SetIdentityPoolConfiguration:{http:{requestUri:"/identitypools/{IdentityPoolId}/configuration",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},PushSync:{shape:"Sv"},CognitoStreams:{shape:"Sz"}}},output:{type:"structure",members:{IdentityPoolId:{},PushSync:{shape:"Sv"},CognitoStreams:{shape:"Sz"}}}},SubscribeToDataset:{http:{requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/subscriptions/{DeviceId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName","DeviceId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},DeviceId:{location:"uri",locationName:"DeviceId"}}},output:{type:"structure",members:{}}},UnsubscribeFromDataset:{http:{method:"DELETE",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/subscriptions/{DeviceId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName","DeviceId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},DeviceId:{location:"uri",locationName:"DeviceId"}}},output:{type:"structure",members:{}}},UpdateRecords:{http:{requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName","SyncSessionToken"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},DeviceId:{},RecordPatches:{type:"list",member:{type:"structure",required:["Op","Key","SyncCount"],members:{Op:{},Key:{},Value:{},SyncCount:{type:"long"},DeviceLastModifiedDate:{type:"timestamp"}}}},SyncSessionToken:{},ClientContext:{location:"header",locationName:"x-amz-Client-Context"}}},output:{type:"structure",members:{Records:{shape:"S1c"}}}}},shapes:{S8:{type:"structure",members:{IdentityId:{},DatasetName:{},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"},LastModifiedBy:{},DataStorage:{type:"long"},NumRecords:{type:"long"}}},Sg:{type:"structure",members:{IdentityPoolId:{},SyncSessionsCount:{type:"long"},DataStorage:{type:"long"},LastModifiedDate:{type:"timestamp"}}},Sq:{type:"map",key:{},value:{}},Sv:{type:"structure",members:{ApplicationArns:{type:"list",member:{}},RoleArn:{}}},Sz:{type:"structure",members:{StreamName:{},RoleArn:{},StreamingStatus:{}}},S1c:{type:"list",member:{type:"structure",members:{Key:{},Value:{},SyncCount:{type:"long"},LastModifiedDate:{type:"timestamp"},LastModifiedBy:{},DeviceLastModifiedDate:{type:"timestamp"}}}}},examples:{}}},function(e,t){e.exports={metadata:{apiVersion:"2014-11-11",endpointPrefix:"lambda",serviceFullName:"AWS Lambda",signatureVersion:"v4",protocol:"rest-json"},operations:{AddEventSource:{http:{requestUri:"/2014-11-13/event-source-mappings/"},input:{type:"structure",required:["EventSource","FunctionName","Role"],members:{EventSource:{},FunctionName:{},Role:{},BatchSize:{type:"integer"},Parameters:{shape:"S6"}}},output:{shape:"S7"}},DeleteFunction:{http:{method:"DELETE",requestUri:"/2014-11-13/functions/{FunctionName}",responseCode:204},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"}}}},GetEventSource:{http:{method:"GET",requestUri:"/2014-11-13/event-source-mappings/{UUID}",responseCode:200},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}},output:{shape:"S7"}},GetFunction:{http:{method:"GET",requestUri:"/2014-11-13/functions/{FunctionName}",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"}}},output:{type:"structure",members:{Configuration:{shape:"Se"},Code:{type:"structure",members:{RepositoryType:{},Location:{}}}}}},GetFunctionConfiguration:{http:{method:"GET",requestUri:"/2014-11-13/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"}}},output:{shape:"Se"}},InvokeAsync:{http:{requestUri:"/2014-11-13/functions/{FunctionName}/invoke-async/",responseCode:202},input:{type:"structure",required:["FunctionName","InvokeArgs"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},InvokeArgs:{shape:"Sq"}},payload:"InvokeArgs"},output:{type:"structure",members:{Status:{location:"statusCode",type:"integer"}}}},ListEventSources:{http:{method:"GET",requestUri:"/2014-11-13/event-source-mappings/",responseCode:200},input:{type:"structure",members:{EventSourceArn:{location:"querystring",locationName:"EventSource"},FunctionName:{location:"querystring",locationName:"FunctionName"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},EventSources:{type:"list",member:{shape:"S7"}}}}},ListFunctions:{http:{method:"GET",requestUri:"/2014-11-13/functions/",responseCode:200},input:{type:"structure",members:{Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Functions:{type:"list",member:{shape:"Se"}}}}},RemoveEventSource:{http:{method:"DELETE",requestUri:"/2014-11-13/event-source-mappings/{UUID}",responseCode:204},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}}},UpdateFunctionConfiguration:{http:{method:"PUT",requestUri:"/2014-11-13/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Role:{location:"querystring",locationName:"Role"},Handler:{location:"querystring",locationName:"Handler"},Description:{location:"querystring",locationName:"Description"},Timeout:{location:"querystring",locationName:"Timeout",type:"integer"},MemorySize:{location:"querystring",locationName:"MemorySize",type:"integer"}}},output:{shape:"Se"}},UploadFunction:{http:{method:"PUT",requestUri:"/2014-11-13/functions/{FunctionName}",responseCode:201},input:{type:"structure",required:["FunctionName","FunctionZip","Runtime","Role","Handler","Mode"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},FunctionZip:{shape:"Sq"},Runtime:{location:"querystring",locationName:"Runtime"},Role:{location:"querystring",locationName:"Role"},Handler:{location:"querystring",locationName:"Handler"},Mode:{location:"querystring",locationName:"Mode"},Description:{location:"querystring",locationName:"Description"},Timeout:{location:"querystring",locationName:"Timeout",type:"integer"},MemorySize:{location:"querystring",locationName:"MemorySize",type:"integer"}},payload:"FunctionZip"},output:{shape:"Se"}}},shapes:{S6:{type:"map",key:{},value:{}},S7:{type:"structure",members:{UUID:{},BatchSize:{type:"integer"},EventSource:{},FunctionName:{},Parameters:{shape:"S6"},Role:{},LastModified:{type:"timestamp"},IsActive:{type:"boolean"},Status:{}}},Se:{type:"structure",members:{FunctionName:{},FunctionARN:{},ConfigurationId:{},Runtime:{},Role:{},Handler:{},Mode:{},CodeSize:{type:"long"},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},LastModified:{type:"timestamp"}}},Sq:{type:"blob",streaming:!0}}}},function(e,t){e.exports={pagination:{ListEventSources:{input_token:"Marker",output_token:"NextMarker",limit_key:"MaxItems",result_key:"EventSources"},ListFunctions:{input_token:"Marker",output_token:"NextMarker",limit_key:"MaxItems",result_key:"Functions"}}}},function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2015-03-31",endpointPrefix:"lambda",protocol:"rest-json",serviceFullName:"AWS Lambda",signatureVersion:"v4",uid:"lambda-2015-03-31"},operations:{AddPermission:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/policy",responseCode:201},input:{type:"structure",required:["FunctionName","StatementId","Action","Principal"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},StatementId:{},Action:{},Principal:{},SourceArn:{},SourceAccount:{},EventSourceToken:{},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{type:"structure",members:{Statement:{}}}},CreateAlias:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/aliases",responseCode:201},input:{type:"structure",required:["FunctionName","Name","FunctionVersion"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{},FunctionVersion:{},Description:{}}},output:{shape:"Sg"}},CreateEventSourceMapping:{http:{requestUri:"/2015-03-31/event-source-mappings/",responseCode:202},input:{type:"structure",required:["EventSourceArn","FunctionName","StartingPosition"],members:{EventSourceArn:{},FunctionName:{},Enabled:{type:"boolean"},BatchSize:{type:"integer"},StartingPosition:{},StartingPositionTimestamp:{type:"timestamp"}}},output:{shape:"Sn"}},CreateFunction:{http:{requestUri:"/2015-03-31/functions",responseCode:201},input:{type:"structure",required:["FunctionName","Runtime","Role","Handler","Code"],members:{FunctionName:{},Runtime:{},Role:{},Handler:{},Code:{type:"structure",members:{ZipFile:{shape:"St"},S3Bucket:{},S3Key:{},S3ObjectVersion:{}}},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},Publish:{type:"boolean"},VpcConfig:{shape:"S10"},DeadLetterConfig:{shape:"S15"},Environment:{shape:"S17"},KMSKeyArn:{},Tags:{shape:"S1c"}}},output:{shape:"S1f"}},DeleteAlias:{http:{method:"DELETE",requestUri:"/2015-03-31/functions/{FunctionName}/aliases/{Name}",responseCode:204},input:{type:"structure",required:["FunctionName","Name"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{location:"uri",locationName:"Name"}}}},DeleteEventSourceMapping:{http:{method:"DELETE",requestUri:"/2015-03-31/event-source-mappings/{UUID}",responseCode:202},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}},output:{shape:"Sn"}},DeleteFunction:{http:{method:"DELETE",requestUri:"/2015-03-31/functions/{FunctionName}",responseCode:204},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}}},GetAccountSettings:{http:{method:"GET",requestUri:"/2016-08-19/account-settings/",responseCode:200},input:{type:"structure",members:{}},output:{type:"structure",members:{AccountLimit:{type:"structure",members:{TotalCodeSize:{type:"long"},CodeSizeUnzipped:{type:"long"},CodeSizeZipped:{type:"long"},ConcurrentExecutions:{type:"integer"}}},AccountUsage:{type:"structure",members:{TotalCodeSize:{type:"long"},FunctionCount:{type:"long"}}}}}},GetAlias:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/aliases/{Name}",responseCode:200},input:{type:"structure",required:["FunctionName","Name"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{location:"uri",locationName:"Name"}}},output:{shape:"Sg"}},GetEventSourceMapping:{http:{method:"GET",requestUri:"/2015-03-31/event-source-mappings/{UUID}",responseCode:200},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}},output:{shape:"Sn"}},GetFunction:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{type:"structure",members:{Configuration:{shape:"S1f"},Code:{type:"structure",members:{RepositoryType:{},Location:{}}},Tags:{shape:"S1c"}}}},GetFunctionConfiguration:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{shape:"S1f"}},GetPolicy:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/policy",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{type:"structure",members:{Policy:{}}}},Invoke:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/invocations"},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},InvocationType:{location:"header",locationName:"X-Amz-Invocation-Type"},LogType:{location:"header",locationName:"X-Amz-Log-Type"},ClientContext:{location:"header",locationName:"X-Amz-Client-Context"},Payload:{shape:"St"},Qualifier:{location:"querystring",locationName:"Qualifier"}},payload:"Payload"},output:{type:"structure",members:{StatusCode:{location:"statusCode",type:"integer"},FunctionError:{location:"header",locationName:"X-Amz-Function-Error"},LogResult:{location:"header",locationName:"X-Amz-Log-Result"},Payload:{shape:"St"}},payload:"Payload"}},InvokeAsync:{http:{requestUri:"/2014-11-13/functions/{FunctionName}/invoke-async/",responseCode:202},input:{type:"structure",required:["FunctionName","InvokeArgs"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},InvokeArgs:{type:"blob",streaming:!0}},deprecated:!0,payload:"InvokeArgs"},output:{type:"structure",members:{Status:{location:"statusCode",type:"integer"}},deprecated:!0},deprecated:!0},ListAliases:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/aliases",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},FunctionVersion:{location:"querystring",locationName:"FunctionVersion"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Aliases:{type:"list",member:{shape:"Sg"}}}}},ListEventSourceMappings:{http:{method:"GET",requestUri:"/2015-03-31/event-source-mappings/",responseCode:200},input:{type:"structure",members:{EventSourceArn:{location:"querystring",locationName:"EventSourceArn"},FunctionName:{location:"querystring",locationName:"FunctionName"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},EventSourceMappings:{type:"list",member:{shape:"Sn"}}}}},ListFunctions:{http:{method:"GET",requestUri:"/2015-03-31/functions/",responseCode:200},input:{type:"structure",members:{Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Functions:{shape:"S2k"}}}},ListTags:{http:{method:"GET",requestUri:"/2017-03-31/tags/{ARN}"},input:{type:"structure",required:["Resource"],members:{Resource:{location:"uri",locationName:"ARN"}}},output:{type:"structure",members:{Tags:{shape:"S1c"}}}},ListVersionsByFunction:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/versions",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Versions:{shape:"S2k"}}}},PublishVersion:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/versions",responseCode:201},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},CodeSha256:{},Description:{}}},output:{shape:"S1f"}},RemovePermission:{http:{method:"DELETE",requestUri:"/2015-03-31/functions/{FunctionName}/policy/{StatementId}",responseCode:204},input:{type:"structure",required:["FunctionName","StatementId"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},StatementId:{location:"uri",locationName:"StatementId"},Qualifier:{location:"querystring",locationName:"Qualifier"}}}},TagResource:{http:{requestUri:"/2017-03-31/tags/{ARN}",responseCode:204},input:{type:"structure",required:["Resource","Tags"],members:{Resource:{location:"uri",locationName:"ARN"},Tags:{shape:"S1c"}}}},UntagResource:{http:{method:"DELETE",requestUri:"/2017-03-31/tags/{ARN}",responseCode:204},input:{type:"structure",required:["Resource","TagKeys"],members:{Resource:{location:"uri",locationName:"ARN"},TagKeys:{location:"querystring",locationName:"tagKeys",type:"list",member:{}}}}},UpdateAlias:{http:{method:"PUT",requestUri:"/2015-03-31/functions/{FunctionName}/aliases/{Name}",responseCode:200},input:{type:"structure",required:["FunctionName","Name"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{location:"uri",locationName:"Name"},FunctionVersion:{},Description:{}}},output:{shape:"Sg"}},UpdateEventSourceMapping:{http:{method:"PUT",requestUri:"/2015-03-31/event-source-mappings/{UUID}",responseCode:202},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"},FunctionName:{},Enabled:{type:"boolean"},BatchSize:{type:"integer"}}},output:{shape:"Sn"}},UpdateFunctionCode:{http:{method:"PUT",requestUri:"/2015-03-31/functions/{FunctionName}/code",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},ZipFile:{shape:"St"},S3Bucket:{},S3Key:{},S3ObjectVersion:{},Publish:{type:"boolean"}}},output:{shape:"S1f"}},UpdateFunctionConfiguration:{http:{method:"PUT",requestUri:"/2015-03-31/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Role:{},Handler:{},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},VpcConfig:{shape:"S10"},Environment:{shape:"S17"},Runtime:{},DeadLetterConfig:{shape:"S15"},KMSKeyArn:{}}},output:{shape:"S1f"}}},shapes:{Sg:{type:"structure",members:{AliasArn:{},Name:{},FunctionVersion:{},Description:{}}},Sn:{type:"structure",members:{UUID:{},BatchSize:{type:"integer"},EventSourceArn:{},FunctionArn:{},LastModified:{type:"timestamp"},LastProcessingResult:{},State:{},StateTransitionReason:{}}},St:{type:"blob",sensitive:!0},S10:{type:"structure",members:{SubnetIds:{shape:"S11"},SecurityGroupIds:{shape:"S13"}}},S11:{type:"list",member:{}},S13:{type:"list",member:{}},S15:{type:"structure",members:{TargetArn:{}}},S17:{type:"structure",members:{Variables:{shape:"S18"}}},S18:{type:"map",key:{type:"string",sensitive:!0},value:{type:"string",sensitive:!0},sensitive:!0},S1c:{type:"map",key:{},value:{}},S1f:{type:"structure",members:{FunctionName:{},FunctionArn:{},Runtime:{},Role:{},Handler:{},CodeSize:{type:"long"},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},LastModified:{},CodeSha256:{},Version:{},VpcConfig:{type:"structure",members:{SubnetIds:{shape:"S11"},SecurityGroupIds:{shape:"S13"},VpcId:{}}},DeadLetterConfig:{shape:"S15"},Environment:{type:"structure",members:{Variables:{shape:"S18"},Error:{type:"structure",members:{ErrorCode:{},Message:{type:"string",sensitive:!0}}}}},KMSKeyArn:{}}},S2k:{type:"list",member:{shape:"S1f"}}}}},function(e,t){e.exports={pagination:{ListEventSourceMappings:{input_token:"Marker",limit_key:"MaxItems",output_token:"NextMarker",result_key:"EventSourceMappings"},ListFunctions:{input_token:"Marker",limit_key:"MaxItems",output_token:"NextMarker",result_key:"Functions"}}}},function(e,t){e.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory"},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild"},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS"},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM"},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay"},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"}}},function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2012-11-05",endpointPrefix:"sqs",protocol:"query",serviceAbbreviation:"Amazon SQS",serviceFullName:"Amazon Simple Queue Service",signatureVersion:"v4",uid:"sqs-2012-11-05",xmlNamespace:"http://queue.amazonaws.com/doc/2012-11-05/"},operations:{AddPermission:{input:{type:"structure",required:["QueueUrl","Label","AWSAccountIds","Actions"],members:{QueueUrl:{},Label:{},AWSAccountIds:{type:"list",member:{locationName:"AWSAccountId"},flattened:!0},Actions:{type:"list",member:{locationName:"ActionName"},flattened:!0}}}},ChangeMessageVisibility:{input:{type:"structure",required:["QueueUrl","ReceiptHandle","VisibilityTimeout"],members:{QueueUrl:{},ReceiptHandle:{},VisibilityTimeout:{type:"integer"}}}},ChangeMessageVisibilityBatch:{input:{type:"structure",required:["QueueUrl","Entries"],members:{QueueUrl:{},Entries:{type:"list",member:{locationName:"ChangeMessageVisibilityBatchRequestEntry",type:"structure",required:["Id","ReceiptHandle"],members:{Id:{},ReceiptHandle:{},VisibilityTimeout:{type:"integer"}}},flattened:!0}}},output:{resultWrapper:"ChangeMessageVisibilityBatchResult",type:"structure",required:["Successful","Failed"],members:{Successful:{type:"list",member:{locationName:"ChangeMessageVisibilityBatchResultEntry",type:"structure",required:["Id"],members:{Id:{}}},flattened:!0},Failed:{shape:"Sd"}}}},CreateQueue:{input:{type:"structure",required:["QueueName"],members:{QueueName:{},Attributes:{shape:"Sh",locationName:"Attribute"}}},output:{resultWrapper:"CreateQueueResult",type:"structure",members:{QueueUrl:{}}}},DeleteMessage:{input:{type:"structure",required:["QueueUrl","ReceiptHandle"],members:{QueueUrl:{},ReceiptHandle:{}}}},DeleteMessageBatch:{input:{type:"structure",required:["QueueUrl","Entries"],members:{QueueUrl:{},Entries:{type:"list",member:{locationName:"DeleteMessageBatchRequestEntry",type:"structure",required:["Id","ReceiptHandle"],members:{Id:{},ReceiptHandle:{}}},flattened:!0}}},output:{resultWrapper:"DeleteMessageBatchResult",type:"structure",required:["Successful","Failed"],members:{Successful:{type:"list",member:{locationName:"DeleteMessageBatchResultEntry",type:"structure",required:["Id"],members:{Id:{}}},flattened:!0},Failed:{shape:"Sd"}}}},DeleteQueue:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{}}}},GetQueueAttributes:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{},AttributeNames:{shape:"St"}}},output:{resultWrapper:"GetQueueAttributesResult",type:"structure",members:{Attributes:{shape:"Sh",locationName:"Attribute"}}}},GetQueueUrl:{input:{type:"structure",required:["QueueName"],members:{QueueName:{},QueueOwnerAWSAccountId:{}}},output:{resultWrapper:"GetQueueUrlResult",type:"structure",members:{QueueUrl:{}}}},ListDeadLetterSourceQueues:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{}}},output:{resultWrapper:"ListDeadLetterSourceQueuesResult",type:"structure",required:["queueUrls"],members:{queueUrls:{shape:"Sz"}}}},ListQueues:{input:{type:"structure",members:{QueueNamePrefix:{}}},output:{resultWrapper:"ListQueuesResult",type:"structure",members:{QueueUrls:{shape:"Sz"}}}},PurgeQueue:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{}}}},ReceiveMessage:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{},AttributeNames:{shape:"St"},MessageAttributeNames:{type:"list",member:{locationName:"MessageAttributeName"},flattened:!0},MaxNumberOfMessages:{type:"integer"},VisibilityTimeout:{type:"integer"},WaitTimeSeconds:{type:"integer"},ReceiveRequestAttemptId:{}}},output:{resultWrapper:"ReceiveMessageResult",type:"structure",members:{Messages:{type:"list",member:{locationName:"Message",type:"structure",members:{MessageId:{},ReceiptHandle:{},MD5OfBody:{},Body:{},Attributes:{locationName:"Attribute",type:"map",key:{locationName:"Name"},value:{locationName:"Value"},flattened:!0},MD5OfMessageAttributes:{},MessageAttributes:{shape:"S1b",locationName:"MessageAttribute"}}},flattened:!0}}}},RemovePermission:{input:{type:"structure",required:["QueueUrl","Label"],members:{QueueUrl:{},Label:{}}}},SendMessage:{input:{type:"structure",required:["QueueUrl","MessageBody"],members:{QueueUrl:{},MessageBody:{},DelaySeconds:{type:"integer"},MessageAttributes:{shape:"S1b",locationName:"MessageAttribute"},MessageDeduplicationId:{},MessageGroupId:{}}},output:{resultWrapper:"SendMessageResult",type:"structure",members:{MD5OfMessageBody:{},MD5OfMessageAttributes:{},MessageId:{},SequenceNumber:{}}}},SendMessageBatch:{input:{type:"structure",required:["QueueUrl","Entries"],members:{QueueUrl:{},Entries:{type:"list",member:{locationName:"SendMessageBatchRequestEntry",type:"structure",required:["Id","MessageBody"],members:{Id:{},MessageBody:{},DelaySeconds:{type:"integer"},MessageAttributes:{shape:"S1b",locationName:"MessageAttribute"},MessageDeduplicationId:{},MessageGroupId:{}}},flattened:!0}}},output:{resultWrapper:"SendMessageBatchResult",type:"structure",required:["Successful","Failed"],members:{Successful:{type:"list",member:{locationName:"SendMessageBatchResultEntry",type:"structure",required:["Id","MessageId","MD5OfMessageBody"],members:{Id:{},MessageId:{},MD5OfMessageBody:{},MD5OfMessageAttributes:{},SequenceNumber:{}}},flattened:!0},Failed:{shape:"Sd"}}}},SetQueueAttributes:{input:{type:"structure",required:["QueueUrl","Attributes"],members:{QueueUrl:{},Attributes:{shape:"Sh",locationName:"Attribute"}}}}},shapes:{Sd:{type:"list",member:{locationName:"BatchResultErrorEntry",type:"structure",required:["Id","SenderFault","Code"],members:{Id:{},SenderFault:{type:"boolean"},Code:{},Message:{}}},flattened:!0},Sh:{type:"map",key:{locationName:"Name"},value:{locationName:"Value"},flattened:!0,locationName:"Attribute"},St:{type:"list",member:{locationName:"AttributeName"},flattened:!0},Sz:{type:"list",member:{locationName:"QueueUrl"},flattened:!0},S1b:{type:"map",key:{locationName:"Name"},value:{locationName:"Value",type:"structure",required:["DataType"],members:{StringValue:{},BinaryValue:{type:"blob"},StringListValues:{flattened:!0,locationName:"StringListValue",type:"list",member:{locationName:"StringListValue"}},BinaryListValues:{flattened:!0,locationName:"BinaryListValue",type:"list",member:{locationName:"BinaryListValue",type:"blob"}},DataType:{}}},flattened:!0}}}},function(e,t){e.exports={pagination:{ListQueues:{result_key:"QueueUrls"}}}},function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},Policy:{},DurationSeconds:{type:"integer"},ExternalId:{},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sa"},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sa"},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sa"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sa"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sa"}}}}},shapes:{Sa:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sf:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},function(e,t,r){r(31);var n=r(1);"undefined"!=typeof window&&(window.AWS=n),e.exports=n,"undefined"!=typeof self&&(self.AWS=n)},function(e,t,r){r(31);var n=r(1),i=r(32),o=r(30);o.services.cognitosync={},n.CognitoSync=i.defineService("cognitosync",["2014-06-30"]),Object.defineProperty(o.services.cognitosync,"2014-06-30",{get:function(){return r(261)},enumerable:!0,configurable:!0}),e.exports=n.CognitoSync},function(e,t,r){r(31);var n=r(1),i=r(32),o=r(30);o.services.lambda={},n.Lambda=i.defineService("lambda",["2014-11-11","2015-03-31"]),r(289),Object.defineProperty(o.services.lambda,"2014-11-11",{get:function(){var e=r(262);return e.paginators=r(263).pagination,e},enumerable:!0,configurable:!0}),Object.defineProperty(o.services.lambda,"2015-03-31",{get:function(){var e=r(264);return e.paginators=r(265).pagination,e},enumerable:!0,configurable:!0}),e.exports=n.Lambda},function(e,t,r){r(31);var n=r(1),i=r(32),o=r(30);o.services.sqs={},n.SQS=i.defineService("sqs",["2012-11-05"]),r(290),Object.defineProperty(o.services.sqs,"2012-11-05",{get:function(){var e=r(267);return e.paginators=r(268).pagination,e},enumerable:!0,configurable:!0}),e.exports=n.SQS},function(e,t,r){var n=r(1);r(131),r(132);var i;n.Config=n.util.inherit({constructor:function(e){void 0===e&&(e={}),e=this.extractCredentials(e),n.util.each.call(this,this.keys,function(t,r){this.set(t,e[t],r)})},getCredentials:function(e){function finish(r){e(r,r?null:t.credentials)}function credError(e,t){return new n.util.error(t||new Error,{code:"CredentialsError",message:e,name:"CredentialsError"})}var t=this;t.credentials?"function"==typeof t.credentials.get?function(){t.credentials.get(function(e){e&&(e=credError("Could not load credentials from "+t.credentials.constructor.name,e)),finish(e)})}():function(){var e=null;t.credentials.accessKeyId&&t.credentials.secretAccessKey||(e=credError("Missing credentials")),finish(e)}():t.credentialProvider?t.credentialProvider.resolve(function(e,r){e&&(e=credError("Could not load credentials from any providers",e)),t.credentials=r,finish(e)}):finish(credError("No credentials to load"))},update:function(e,t){t=t||!1,e=this.extractCredentials(e),n.util.each.call(this,e,function(e,r){(t||Object.prototype.hasOwnProperty.call(this.keys,e)||n.Service.hasService(e))&&this.set(e,r)})},loadFromPath:function(e){this.clear();var t=JSON.parse(n.util.readFileSync(e)),r=new n.FileSystemCredentials(e),i=new n.CredentialProviderChain;return i.providers.unshift(r),i.resolve(function(e,r){if(e)throw e;t.credentials=r}),this.constructor(t),this},clear:function(){n.util.each.call(this,this.keys,function(e){delete this[e]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,t,r){void 0===t?(void 0===r&&(r=this.keys[e]),this[e]="function"==typeof r?r.call(this):r):"httpOptions"===e&&this[e]?this[e]=n.util.merge(this[e],t):this[e]=t},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&(e=n.util.copy(e),e.credentials=new n.Credentials(e)),e},setPromisesDependency:function(e){i=e,null===e&&"function"==typeof Promise&&(i=Promise);var t=[n.Request,n.Credentials,n.CredentialProviderChain];n.S3&&n.S3.ManagedUpload&&t.push(n.S3.ManagedUpload),n.util.addPromises(t,i)},getPromisesDependency:function(){return i}}),n.config=new n.Config},function(e,t,r){var n=r(1),i=r(130),o=r(59);n.CognitoIdentityCredentials=n.util.inherit(n.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,t){n.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=n.util.copy(t||{}),this.loadCachedId();var r=this;Object.defineProperty(this,"identityId",{get:function(){return r.loadCachedId(),r._identityId||r.params.IdentityId},set:function(e){r._identityId=e}})},refresh:function(e){var t=this;t.createClients(),t.data=null,t._identityId=null,t.getId(function(r){r?(t.clearIdOnNotAuthorized(r),e(r)):t.params.RoleArn?t.getCredentialsFromSTS(e):t.getCredentialsForIdentity(e)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,t=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+t],delete this.storage[this.localStorageKey.providers+e+t]},clearIdOnNotAuthorized:function(e){var t=this;"NotAuthorizedException"==e.code&&t.clearCachedId()},getId:function(e){var t=this;if("string"==typeof t.params.IdentityId)return e(null,t.params.IdentityId);t.cognito.getId(function(r,n){!r&&n.IdentityId?(t.params.IdentityId=n.IdentityId,e(null,n.IdentityId)):e(r)})},loadCredentials:function(e,t){e&&t&&(t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var t=this;t.cognito.getCredentialsForIdentity(function(r,n){r?t.clearIdOnNotAuthorized(r):(t.cacheId(n),t.data=n,t.loadCredentials(t.data,t)),e(r)})},getCredentialsFromSTS:function(e){var t=this;t.cognito.getOpenIdToken(function(r,n){r?(t.clearIdOnNotAuthorized(r),e(r)):(t.cacheId(n),t.params.WebIdentityToken=n.Token,t.webIdentityCredentials.refresh(function(r){r||(t.data=t.webIdentityCredentials.data,t.sts.credentialsFrom(t.data,t)),e(r)}))})},loadCachedId:function(){var e=this;if(n.util.isBrowser()&&!e.params.IdentityId){var t=e.getStorage("id");if(t&&e.params.Logins){var r=Object.keys(e.params.Logins);0!==(e.getStorage("providers")||"").split(",").filter(function(e){return-1!==r.indexOf(e)}).length&&(e.params.IdentityId=t)}else t&&(e.params.IdentityId=t)}},createClients:function(){var e=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new n.WebIdentityCredentials(this.params,e),!this.cognito){var t=n.util.merge({},e);t.params=this.params,this.cognito=new i(t)}this.sts=this.sts||new o(e)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,n.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,t){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=t}catch(e){}},storage:function(){try{var e=n.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{};return e["aws.test-storage"]="foobar",delete e["aws.test-storage"],e}catch(e){return{}}}()})},function(e,t,r){var n=r(1),i=r(59);n.SAMLCredentials=n.util.inherit(n.Credentials,{constructor:function(e){n.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){var t=this;t.createClients(),e||(e=function(e){if(e)throw e}),t.service.assumeRoleWithSAML(function(r,n){r||t.service.credentialsFrom(n,t),e(r)})},createClients:function(){this.service=this.service||new i({params:this.params})}})},function(e,t,r){var n=r(1),i=r(59);n.TemporaryCredentials=n.util.inherit(n.Credentials,{constructor:function(e,t){n.Credentials.call(this),this.loadMasterCredentials(t),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){var t=this;t.createClients(),e||(e=function(e){if(e)throw e}),t.masterCredentials.get(function(){t.service.config.credentials=t.masterCredentials,(t.params.RoleArn?t.service.assumeRole:t.service.getSessionToken).call(t.service,function(r,n){r||t.service.credentialsFrom(n,t),e(r)})})},loadMasterCredentials:function(e){for(this.masterCredentials=e||n.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new n.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new i({params:this.params})}})},function(e,t,r){var n=r(1),i=r(59);n.WebIdentityCredentials=n.util.inherit(n.Credentials,{constructor:function(e,t){n.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=n.util.copy(t||{})},refresh:function(e){var t=this;t.createClients(),e||(e=function(e){if(e)throw e}),t.service.assumeRoleWithWebIdentity(function(r,n){t.data=null,r||(t.data=n,t.service.credentialsFrom(n,t)),e(r)})},createClients:function(){if(!this.service){var e=n.util.merge({},this._clientConfig);e.params=this.params,this.service=new i(e)}}})},function(e,t,r){var n=r(1),i=r(142);n.EventListeners={Core:{}},n.EventListeners={Core:(new i).addNamedListeners(function(e,t){t("VALIDATE_CREDENTIALS","validate",function(e,t){if(!e.service.api.signatureVersion)return t();e.service.config.getCredentials(function(r){r&&(e.response.error=n.util.error(r,{code:"CredentialsError",message:"Missing credentials in config"})),t()})}),e("VALIDATE_REGION","validate",function(e){e.service.config.region||e.service.isGlobalEndpoint||(e.response.error=n.util.error(new Error,{code:"ConfigError",message:"Missing region in config"}))}),e("BUILD_IDEMPOTENCY_TOKENS","validate",function(e){var t=e.service.api.operations[e.operation];if(t){var r=t.idempotentMembers;if(r.length){for(var i=n.util.copy(e.params),o=0,a=r.length;o<a;o++)i[r[o]]||(i[r[o]]=n.util.uuid.v4());e.params=i}}}),e("VALIDATE_PARAMETERS","validate",function(e){var t=e.service.api.operations[e.operation].input,r=e.service.config.paramValidation;new n.ParamValidator(r).validate(t,e.params)}),t("COMPUTE_SHA256","afterBuild",function(e,t){e.haltHandlersOnError();var r=e.service.api.operations[e.operation],i=r?r.authtype:"";if(!e.service.api.signatureVersion&&!i)return t();if(e.service.getSignerClass(e)===n.Signers.V4){var o=e.httpRequest.body||"";if(i.indexOf("unsigned-body")>=0)return e.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",t();n.util.computeSha256(o,function(r,n){r?t(r):(e.httpRequest.headers["X-Amz-Content-Sha256"]=n,t())})}else t()}),e("SET_CONTENT_LENGTH","afterBuild",function(e){if(void 0===e.httpRequest.headers["Content-Length"]){var t=n.util.string.byteLength(e.httpRequest.body);e.httpRequest.headers["Content-Length"]=t}}),e("SET_HTTP_HOST","afterBuild",function(e){e.httpRequest.headers.Host=e.httpRequest.endpoint.host}),e("RESTART","restart",function(){var e=this.response.error;e&&e.retryable&&(this.httpRequest=new n.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)}),t("SIGN","sign",function(e,t){var r=e.service,i=e.service.api.operations[e.operation],o=i?i.authtype:"";if(!r.api.signatureVersion&&!o)return t();r.config.getCredentials(function(o,a){if(o)return e.response.error=o,t();try{var s=n.util.date.getDate(),c=r.getSignerClass(e),u=new c(e.httpRequest,r.api.signingName||r.api.endpointPrefix,{signatureCache:r.config.signatureCache,operation:i});u.setServiceClientId(r._clientId),delete e.httpRequest.headers.Authorization,delete e.httpRequest.headers.Date,delete e.httpRequest.headers["X-Amz-Date"],u.addAuthorization(a,s),e.signedAt=s}catch(t){e.response.error=t}t()})}),e("VALIDATE_RESPONSE","validateResponse",function(e){this.service.successfulResponse(e,this)?(e.data={},e.error=null):(e.data=null,e.error=n.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),t("SEND","send",function(e,t){function callback(r){e.httpResponse.stream=r,r.on("headers",function(t,i,o){e.request.emit("httpHeaders",[t,i,e,o]),e.httpResponse.streaming||(2===n.HttpClient.streamsApiVersion?r.on("readable",function(){var t=r.read();null!==t&&e.request.emit("httpData",[t,e])}):r.on("data",function(t){e.request.emit("httpData",[t,e])}))}),r.on("end",function(){e.request.emit("httpDone"),t()})}function progress(t){t.on("sendProgress",function(t){e.request.emit("httpUploadProgress",[t,e])}),t.on("receiveProgress",function(t){e.request.emit("httpDownloadProgress",[t,e])})}function error(r){e.error=n.util.error(r,{code:"NetworkingError",region:e.request.httpRequest.region,hostname:e.request.httpRequest.endpoint.hostname,retryable:!0}),e.request.emit("httpError",[e.error,e],function(){t()})}function executeSend(){var t=n.HttpClient.getInstance(),r=e.request.service.config.httpOptions||{};try{progress(t.handleRequest(e.request.httpRequest,r,callback,error))}catch(e){error(e)}}e.httpResponse._abortCallback=t,e.error=null,e.data=null,(n.util.date.getDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],function(e){e?t(e):executeSend()}):executeSend()}),e("HTTP_HEADERS","httpHeaders",function(e,t,r,i){r.httpResponse.statusCode=e,r.httpResponse.statusMessage=i,r.httpResponse.headers=t,r.httpResponse.body=new n.util.Buffer(""),r.httpResponse.buffers=[],r.httpResponse.numBytes=0;var o=t.date||t.Date;if(o){var a=Date.parse(o);r.request.service.config.correctClockSkew&&n.util.isClockSkewed(a)&&n.util.applyClockOffset(a)}}),e("HTTP_DATA","httpData",function(e,t){if(e){if(n.util.isNode()){t.httpResponse.numBytes+=e.length;var r=t.httpResponse.headers["content-length"],i={loaded:t.httpResponse.numBytes,total:r};t.request.emit("httpDownloadProgress",[i,t])}t.httpResponse.buffers.push(new n.util.Buffer(e))}}),e("HTTP_DONE","httpDone",function(e){if(e.httpResponse.buffers&&e.httpResponse.buffers.length>0){var t=n.util.buffer.concat(e.httpResponse.buffers);e.httpResponse.body=t}delete e.httpResponse.numBytes,delete e.httpResponse.buffers}),e("FINALIZE_ERROR","retry",function(e){e.httpResponse.statusCode&&(e.error.statusCode=e.httpResponse.statusCode,void 0===e.error.retryable&&(e.error.retryable=this.service.retryableError(e.error,this)))}),e("INVALIDATE_CREDENTIALS","retry",function(e){if(e.error)switch(e.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":e.error.retryable=!0,e.request.service.config.credentials.expired=!0}}),e("EXPIRED_SIGNATURE","retry",function(e){var t=e.error;t&&"string"==typeof t.code&&"string"==typeof t.message&&t.code.match(/Signature/)&&t.message.match(/expired/)&&(e.error.retryable=!0)}),e("CLOCK_SKEWED","retry",function(e){e.error&&this.service.clockSkewError(e.error)&&this.service.config.correctClockSkew&&n.config.isClockSkewed&&(e.error.retryable=!0)}),e("REDIRECT","retry",function(e){e.error&&e.error.statusCode>=300&&e.error.statusCode<400&&e.httpResponse.headers.location&&(this.httpRequest.endpoint=new n.Endpoint(e.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,e.error.redirect=!0,e.error.retryable=!0)}),e("RETRY_CHECK","retry",function(e){e.error&&(e.error.redirect&&e.redirectCount<e.maxRedirects?e.error.retryDelay=0:e.retryCount<e.maxRetries&&(e.error.retryDelay=this.service.retryDelays(e.retryCount)||0))}),t("RESET_RETRY_STATE","afterRetry",function(e,t){var r,n=!1;e.error&&(r=e.error.retryDelay||0,e.error.retryable&&e.retryCount<e.maxRetries?(e.retryCount++,n=!0):e.error.redirect&&e.redirectCount<e.maxRedirects&&(e.redirectCount++,n=!0)),n?(e.error=null,setTimeout(t,r)):t()})}),CorePost:(new i).addNamedListeners(function(e){e("EXTRACT_REQUEST_ID","extractData",n.util.extractRequestId),e("EXTRACT_REQUEST_ID","extractError",n.util.extractRequestId),e("ENOTFOUND_ERROR","httpError",function(e){if("NetworkingError"===e.code&&"ENOTFOUND"===e.errno){var t="Inaccessible host: `"+e.hostname+"'. This service may not be available in the `"+e.region+"' region.";this.response.error=n.util.error(new Error(t),{code:"UnknownEndpoint",region:e.region,hostname:e.hostname,retryable:!0,originalError:e})}})}),Logger:(new i).addNamedListeners(function(e){e("LOG_REQUEST","complete",function(e){var t=e.request,i=t.service.config.logger;if(i){var o=function(){var o=n.util.date.getDate().getTime(),a=(o-t.startTime.getTime())/1e3,s=!!i.isTTY,c=e.httpResponse.statusCode,u=r(20).inspect(t.params,!0,null),l="";return s&&(l+="[33m"),l+="[AWS "+t.service.serviceIdentifier+" "+c,l+=" "+a.toString()+"s "+e.retryCount+" retries]",s&&(l+="[0;1m"),l+=" "+n.util.string.lowerFirst(t.operation),l+="("+u+")",s&&(l+="[0m"),l}();"function"==typeof i.log?i.log(o):"function"==typeof i.write&&i.write(o+"\n")}})}),Json:(new i).addNamedListeners(function(e){var t=r(82);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),Rest:(new i).addNamedListeners(function(e){var t=r(60);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),RestJson:(new i).addNamedListeners(function(e){var t=r(140);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),RestXml:(new i).addNamedListeners(function(e){var t=r(141);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),Query:(new i).addNamedListeners(function(e){var t=r(139);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)})}},function(e,t,r){var n=r(1),i=r(50).EventEmitter;r(133),n.XHRClient=n.util.inherit({handleRequest:function(e,t,r,o){var a=this,s=e.endpoint,c=new i,u=s.protocol+"//"+s.hostname;80!==s.port&&443!==s.port&&(u+=":"+s.port),u+=e.path;var l=new XMLHttpRequest,f=!1;e.stream=l,l.addEventListener("readystatechange",function(){try{if(0===l.status)return}catch(e){return}if(this.readyState>=this.HEADERS_RECEIVED&&!f){try{l.responseType="arraybuffer"}catch(e){}c.statusCode=l.status,c.headers=a.parseHeaders(l.getAllResponseHeaders()),c.emit("headers",c.statusCode,c.headers,l.statusText),f=!0}this.readyState===this.DONE&&a.finishRequest(l,c)},!1),l.upload.addEventListener("progress",function(e){c.emit("sendProgress",e)}),l.addEventListener("progress",function(e){c.emit("receiveProgress",e)},!1),l.addEventListener("timeout",function(){o(n.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),l.addEventListener("error",function(){o(n.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),l.addEventListener("abort",function(){o(n.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))},!1),r(c),l.open(e.method,u,!1!==t.xhrAsync),n.util.each(e.headers,function(e,t){"Content-Length"!==e&&"User-Agent"!==e&&"Host"!==e&&l.setRequestHeader(e,t)}),t.timeout&&!1!==t.xhrAsync&&(l.timeout=t.timeout),t.xhrWithCredentials&&(l.withCredentials=!0);try{l.send(e.body)}catch(t){if(!e.body||"object"!=typeof e.body.buffer)throw t;l.send(e.body.buffer)}return c},parseHeaders:function(e){var t={};return n.util.arrayEach(e.split(/\r?\n/),function(e){var r=e.split(":",1)[0],n=e.substring(r.length+2);r.length>0&&(t[r.toLowerCase()]=n)}),t},finishRequest:function(e,t){var r;if("arraybuffer"===e.responseType&&e.response){var i=e.response;r=new n.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),a=0;a<r.length;++a)r[a]=o[a]}try{r||"string"!=typeof e.responseText||(r=new n.util.Buffer(e.responseText))}catch(e){}r&&t.emit("data",r),t.emit("end")}}),n.HttpClient.prototype=n.XHRClient.prototype,n.HttpClient.streamsApiVersion=1},function(e,t,r){var n=r(1);n.ParamValidator=n.util.inherit({constructor:function(e){!0!==e&&void 0!==e||(e={min:!0}),this.validation=e},validate:function(e,t,r){if(this.errors=[],this.validateMember(e,t||{},r||"params"),this.errors.length>1){var i=this.errors.join("\n* ");throw i="There were "+this.errors.length+" validation errors:\n* "+i,n.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(e,t){this.errors.push(n.util.error(new Error(t),{code:e}))},validateStructure:function(e,t,r){this.validateType(t,r,["object"],"structure");for(var n,i=0;e.required&&i<e.required.length;i++){n=e.required[i];var o=t[n];void 0!==o&&null!==o||this.fail("MissingRequiredParameter","Missing required key '"+n+"' in "+r)}for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=t[n],s=e.members[n];if(void 0!==s){var c=[r,n].join(".");this.validateMember(s,a,c)}else this.fail("UnexpectedParameter","Unexpected key '"+n+"' found in "+r)}return!0},validateMember:function(e,t,r){switch(e.type){case"structure":return this.validateStructure(e,t,r);case"list":return this.validateList(e,t,r);case"map":return this.validateMap(e,t,r);default:return this.validateScalar(e,t,r)}},validateList:function(e,t,r){if(this.validateType(t,r,[Array])){this.validateRange(e,t.length,r,"list member count");for(var n=0;n<t.length;n++)this.validateMember(e.member,t[n],r+"["+n+"]")}},validateMap:function(e,t,r){if(this.validateType(t,r,["object"],"map")){var n=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.validateMember(e.key,i,r+"[key='"+i+"']"),this.validateMember(e.value,t[i],r+"['"+i+"']"),n++);this.validateRange(e,n,r,"map member count")}},validateScalar:function(e,t,r){switch(e.type){case null:case void 0:case"string":return this.validateString(e,t,r);case"base64":case"binary":return this.validatePayload(t,r);case"integer":case"float":return this.validateNumber(e,t,r);case"boolean":return this.validateType(t,r,["boolean"]);case"timestamp":return this.validateType(t,r,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+r)}},validateString:function(e,t,r){var n=["string"];e.isJsonValue&&(n=n.concat(["number","object","boolean"])),null!==t&&this.validateType(t,r,n)&&(this.validateEnum(e,t,r),this.validateRange(e,t.length,r,"string length"),this.validatePattern(e,t,r))},validatePattern:function(e,t,r){this.validation.pattern&&void 0!==e.pattern&&(new RegExp(e.pattern).test(t)||this.fail("PatternMatchError",'Provided value "'+t+'" does not match regex pattern /'+e.pattern+"/ for "+r))},validateRange:function(e,t,r,n){this.validation.min&&void 0!==e.min&&t<e.min&&this.fail("MinRangeError","Expected "+n+" >= "+e.min+", but found "+t+" for "+r),this.validation.max&&void 0!==e.max&&t>e.max&&this.fail("MaxRangeError","Expected "+n+" <= "+e.max+", but found "+t+" for "+r)},validateEnum:function(e,t,r){this.validation.enum&&void 0!==e.enum&&-1===e.enum.indexOf(t)&&this.fail("EnumError","Found string value of "+t+", but expected "+e.enum.join("|")+" for "+r)},validateType:function(e,t,r,i){if(null===e||void 0===e)return!1;for(var o=!1,a=0;a<r.length;a++){if("string"==typeof r[a]){if(typeof e===r[a])return!0}else if(r[a]instanceof RegExp){if((e||"").toString().match(r[a]))return!0}else{if(e instanceof r[a])return!0;if(n.util.isType(e,r[a]))return!0;i||o||(r=r.slice()),r[a]=n.util.typeName(r[a])}o=!0}var s=i;s||(s=r.join(", ").replace(/,([^,]+)$/,", or$1"));var c=s.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+t+" to be a"+c+" "+s),!1},validateNumber:function(e,t,r){if(null!==t&&void 0!==t){if("string"==typeof t){var n=parseFloat(t);n.toString()===t&&(t=n)}this.validateType(t,r,["number"])&&this.validateRange(e,t,r,"numeric value")}},validatePayload:function(e,t){if(null!==e&&void 0!==e&&"string"!=typeof e&&(!e||"number"!=typeof e.byteLength)){if(n.util.isNode()){var r=n.util.stream.Stream;if(n.util.Buffer.isBuffer(e)||e instanceof r)return}var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e)for(var o=0;o<i.length;o++){if(n.util.isType(e,i[o]))return;if(n.util.typeName(e.constructor)===i[o])return}this.fail("InvalidParameterType","Expected "+t+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},function(e,t,r){function QueryParamSerializer(){}function ucfirst(e){return e.isQueryName||"ec2"!==e.api.protocol?e.name:e.name[0].toUpperCase()+e.name.substr(1)}function serializeStructure(e,t,r,i){n.each(r.members,function(r,n){var o=t[r];if(null!==o&&void 0!==o){var a=ucfirst(n);a=e?e+"."+a:a,serializeMember(a,o,n,i)}})}function serializeMap(e,t,r,i){var o=1;n.each(t,function(t,n){var a=r.flattened?".":".entry.",s=a+o+++".",c=s+(r.key.name||"key"),u=s+(r.value.name||"value");serializeMember(e+c,t,r.key,i),serializeMember(e+u,n,r.value,i)})}function serializeList(e,t,r,i){var o=r.member||{};if(0===t.length)return void i.call(this,e,null);n.arrayEach(t,function(t,n){var a="."+(n+1);if("ec2"===r.api.protocol)a+="";else if(r.flattened){if(o.name){var s=e.split(".");s.pop(),s.push(ucfirst(o)),e=s.join(".")}}else a="."+(o.name?o.name:"member")+a;serializeMember(e+a,t,o,i)})}function serializeMember(e,t,r,n){null!==t&&void 0!==t&&("structure"===r.type?serializeStructure(e,t,r,n):"list"===r.type?serializeList(e,t,r,n):"map"===r.type?serializeMap(e,t,r,n):n(e,r.toWireFormat(t).toString()))}var n=r(5);QueryParamSerializer.prototype.serialize=function(e,t,r){serializeStructure("",e,t,r)},e.exports=QueryParamSerializer},function(e,t,r){function generateRegionPrefix(e){if(!e)return null;var t=e.split("-");return t.length<3?null:t.slice(0,t.length-2).join("-")+"-*"}function derivedKeys(e){var t=e.config.region,r=generateRegionPrefix(t),n=e.api.endpointPrefix;return[[t,n],[r,n],[t,"*"],[r,"*"],["*",n],["*","*"]].map(function(e){return e[0]&&e[1]?e.join("/"):null})}function applyConfig(e,t){n.each(t,function(t,r){"globalEndpoint"!==t&&(void 0!==e.config[t]&&null!==e.config[t]||(e.config[t]=r))})}function configureEndpoint(e){for(var t=derivedKeys(e),r=0;r<t.length;r++){var o=t[r];if(o&&Object.prototype.hasOwnProperty.call(i.rules,o)){var a=i.rules[o];return"string"==typeof a&&(a=i.patterns[a]),e.config.useDualstack&&n.isDualstackAvailable(e)&&(a=n.copy(a),a.endpoint="{service}.dualstack.{region}.amazonaws.com"),e.isGlobalEndpoint=!!a.globalEndpoint,a.signatureVersion||(a.signatureVersion="v4"),void applyConfig(e,a)}}}var n=r(5),i=r(284);e.exports=configureEndpoint},function(e,t){e.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3dash","us-west-1/s3":"s3dash","us-west-2/s3":"s3dash","eu-west-1/s3":"s3dash","ap-southeast-1/s3":"s3dash","ap-southeast-2/s3":"s3dash","ap-northeast-1/s3":"s3dash","sa-east-1/s3":"s3dash","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3dash:{endpoint:"{service}-{region}.amazonaws.com",signatureVersion:"s3"}}}},function(e,t,r){(function(e){function isTerminalState(e){return Object.prototype.hasOwnProperty.call(s,e._asm.currentState)}var t=r(1),n=r(299),i=t.util.inherit,o=t.util.domain,a=r(102),s={success:1,error:1,complete:1},c=new n;c.setupStates=function(){var e=function(e,t){var r=this;r._haltHandlersOnError=!1,r.emit(r._asm.currentState,function(e){if(e)if(isTerminalState(r)){if(!(o&&r.domain instanceof o.Domain))throw e;e.domainEmitter=r,e.domain=r.domain,e.domainThrown=!1,r.domain.emit("error",e)}else r.response.error=e,t(e);else t(r.response.error)})};this.addState("validate","build","error",e),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("restart","build","error",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,null,e)},c.setupStates(),t.Request=i({constructor:function(e,r,i){var a=e.endpoint,s=e.config.region,u=e.config.customUserAgent;e.isGlobalEndpoint&&(s="us-east-1"),this.domain=o&&o.active,this.service=e,this.operation=r,this.params=i||{},this.httpRequest=new t.HttpRequest(a,s),this.httpRequest.appendToUserAgent(u),this.startTime=t.util.date.getDate(),this.response=new t.Response(this),this._asm=new n(c.states,"validate"),this._haltHandlersOnError=!1,t.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(t){e.call(t,t.error,t.data)})),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,t){return this._asm.runTo(e,t,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(e){e.error=t.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){function wrappedCallback(r){e.call(r,r.error,r.data,function(n){!1!==n&&(r.hasNextPage()?r.nextPage().on("complete",wrappedCallback).send():e.call(r,null,null,t.util.fn.noop))})}e=t.util.fn.makeAsync(e,3),this.on("complete",wrappedCallback).send()},eachItem:function(e){function wrappedCallback(n,i){if(n)return e(n,null);if(null===i)return e(null,null);var o=r.service.paginationConfig(r.operation),s=o.resultKey;Array.isArray(s)&&(s=s[0]);var c=a.search(i,s),u=!0;return t.util.arrayEach(c,function(r){if(!1===(u=e(null,r)))return t.util.abort}),u}var r=this;this.eachPage(wrappedCallback)},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var r=t.util.stream,n=this,i=null;return 2===t.HttpClient.streamsApiVersion?(i=new r.PassThrough,n.send()):(i=new r.Stream,i.readable=!0,i.sent=!1,i.on("newListener",function(t){i.sent||"data"!==t||(i.sent=!0,e.nextTick(function(){n.send()}))})),this.on("httpHeaders",function(e,o,a){if(e<300){n.removeListener("httpData",t.EventListeners.Core.HTTP_DATA),n.removeListener("httpError",t.EventListeners.Core.HTTP_ERROR),n.on("httpError",function(e){a.error=e,a.error.retryable=!1});var s,c=!1;if("HEAD"!==n.httpRequest.method&&(s=parseInt(o["content-length"],10)),void 0!==s&&!isNaN(s)&&s>=0){c=!0;var u=0}var l=function(){c&&u!==s?i.emit("error",t.util.error(new Error("Stream content length mismatch. Received "+u+" of "+s+" bytes."),{code:"StreamContentLengthMismatch"})):2===t.HttpClient.streamsApiVersion?i.end():i.emit("end")},f=a.httpResponse.createUnbufferedStream();if(2===t.HttpClient.streamsApiVersion)if(c){var h=new r.PassThrough;h._write=function(e){return e&&e.length&&(u+=e.length),r.PassThrough.prototype._write.apply(this,arguments)},h.on("end",l),f.pipe(h).pipe(i,{end:!1})}else f.pipe(i);else c&&f.on("data",function(e){e&&e.length&&(u+=e.length)}),f.on("data",function(e){i.emit("data",e)}),f.on("end",l);f.on("error",function(e){c=!1,i.emit("error",e)})}}),this.on("error",function(e){i.emit("error",e)}),i},emitEvent:function(e,r,n){"function"==typeof r&&(n=r,r=null),n||(n=function(){}),r||(r=this.eventParameters(e,this.response)),t.SequentialExecutor.prototype.emit.call(this,e,r,function(e){e&&(this.response.error=e),n.call(this,e)})},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,r){return r||"function"!=typeof e||(r=e,e=null),(new t.Signers.Presign).sign(this.toGet(),e,r)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this.removeListener("validate",t.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",t.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),t.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var t=this;return this.httpRequest.appendToUserAgent("promise"),new e(function(e,r){t.on("complete",function(t){t.error?r(t.error):e(t.data)}),t.runTo()})}},t.Request.deletePromisesFromClass=function(){delete this.prototype.promise},t.util.addPromises(t.Request),t.util.mixin(t.Request,t.SequentialExecutor)}).call(t,r(7))},function(e,t,r){function CHECK_ACCEPTORS(e){var t=e.request._waiter,r=t.config.acceptors,n=!1,i="retry";r.forEach(function(r){if(!n){var o=t.matchers[r.matcher];o&&o(e,r.expected,r.argument)&&(n=!0,i=r.state)}}),!n&&e.error&&(i="failure"),"success"===i?t.setSuccess(e):t.setError(e,"retry"===i)}var n=r(1),i=n.util.inherit,o=r(102);n.ResourceWaiter=i({constructor:function(e,t){this.service=e,this.state=t,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(e,t,r){var n=o.search(e.data,r);return o.strictDeepEqual(n,t)},pathAll:function(e,t,r){var n=o.search(e.data,r);Array.isArray(n)||(n=[n]);var i=n.length;if(!i)return!1;for(var a=0;a<i;a++)if(!o.strictDeepEqual(n[a],t))return!1;return!0},pathAny:function(e,t,r){var n=o.search(e.data,r);Array.isArray(n)||(n=[n]);for(var i=n.length,a=0;a<i;a++)if(o.strictDeepEqual(n[a],t))return!0;return!1},status:function(e,t){var r=e.httpResponse.statusCode;return"number"==typeof r&&r===t},error:function(e,t){return"string"==typeof t&&e.error?t===e.error.code:t===!!e.error}},listeners:(new n.SequentialExecutor).addNamedListeners(function(e){e("RETRY_CHECK","retry",function(e){var t=e.request._waiter;e.error&&"ResourceNotReady"===e.error.code&&(e.error.retryDelay=1e3*(t.config.delay||0))}),e("CHECK_OUTPUT","extractData",CHECK_ACCEPTORS),e("CHECK_ERROR","extractError",CHECK_ACCEPTORS)}),wait:function(e,t){"function"==typeof e&&(t=e,e=void 0),e&&e.$waiter&&(e=n.util.copy(e),"number"==typeof e.$waiter.delay&&(this.config.delay=e.$waiter.delay),"number"==typeof e.$waiter.maxAttempts&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var r=this.service.makeRequest(this.config.operation,e);return r._waiter=this,r.response.maxRetries=this.config.maxAttempts,r.addListeners(this.listeners),t&&r.send(t),r},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,t){e.data=null,e.error=n.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:t})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new n.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=n.util.copy(this.service.api.waiters[e])}})},function(e,t,r){var n=r(1),i=n.util.inherit,o=r(102);n.Response=i({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new n.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var t,r=this.request.service,i=this.request.operation;try{t=r.paginationConfig(i,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var o=n.util.copy(this.request.params);if(this.nextPageTokens){var a=t.inputToken;"string"==typeof a&&(a=[a]);for(var s=0;s<a.length;s++)o[a[s]]=this.nextPageTokens[s];return r.makeRequest(this.request.operation,o,e)}return e?e(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!o.search(this.data,e.moreResults))return this.nextPageTokens;var t=e.outputToken;return"string"==typeof t&&(t=[t]),n.util.arrayEach.call(this,t,function(e){var t=o.search(this.data,e);t&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(t))}),this.nextPageTokens}})},function(e,t,r){var n=r(1);n.util.update(n.CognitoIdentity.prototype,{getOpenIdToken:function(e,t){return this.makeUnauthenticatedRequest("getOpenIdToken",e,t)},getId:function(e,t){return this.makeUnauthenticatedRequest("getId",e,t)},getCredentialsForIdentity:function(e,t){return this.makeUnauthenticatedRequest("getCredentialsForIdentity",e,t)}})},function(e,t,r){var n=r(1);n.util.update(n.Lambda.prototype,{setupRequestListeners:function(e){"invoke"===e.operation&&e.addListener("extractData",n.util.convertPayloadToString)}})},function(e,t,r){var n=r(1);n.util.update(n.SQS.prototype,{setupRequestListeners:function(e){e.addListener("build",this.buildEndpoint),e.service.config.computeChecksums&&("sendMessage"===e.operation?e.addListener("extractData",this.verifySendMessageChecksum):"sendMessageBatch"===e.operation?e.addListener("extractData",this.verifySendMessageBatchChecksum):"receiveMessage"===e.operation&&e.addListener("extractData",this.verifyReceiveMessageChecksum))},verifySendMessageChecksum:function(e){if(e.data){var t=e.data.MD5OfMessageBody,r=this.params.MessageBody,n=this.service.calculateChecksum(r);if(n!==t){var i='Got "'+e.data.MD5OfMessageBody+'", expecting "'+n+'".';this.service.throwInvalidChecksumError(e,[e.data.MessageId],i)}}},verifySendMessageBatchChecksum:function(e){if(e.data){var t=this.service,r={},i=[],o=[];n.util.arrayEach(e.data.Successful,function(e){r[e.Id]=e}),n.util.arrayEach(this.params.Entries,function(e){if(r[e.Id]){var n=r[e.Id].MD5OfMessageBody,a=e.MessageBody;t.isChecksumValid(n,a)||(i.push(e.Id),o.push(r[e.Id].MessageId))}}),i.length>0&&t.throwInvalidChecksumError(e,o,"Invalid messages: "+i.join(", "))}},verifyReceiveMessageChecksum:function(e){if(e.data){var t=this.service,r=[];n.util.arrayEach(e.data.Messages,function(e){var n=e.MD5OfBody,i=e.Body;t.isChecksumValid(n,i)||r.push(e.MessageId)}),r.length>0&&t.throwInvalidChecksumError(e,r,"Invalid messages: "+r.join(", "))}},throwInvalidChecksumError:function(e,t,r){e.error=n.util.error(new Error,{retryable:!0,code:"InvalidChecksum",messageIds:t,message:e.request.operation+" returned an invalid MD5 response. "+r})},isChecksumValid:function(e,t){return this.calculateChecksum(t)===e},calculateChecksum:function(e){return n.util.crypto.md5(e,"hex")},buildEndpoint:function(e){var t=e.httpRequest.params.QueueUrl;if(t){e.httpRequest.endpoint=new n.Endpoint(t);var r=e.httpRequest.endpoint.host.match(/^sqs\.(.+?)\./);r&&(e.httpRequest.region=r[1])}}})},function(e,t,r){var n=r(1);n.util.update(n.STS.prototype,{credentialsFrom:function(e,t){return e?(t||(t=new n.TemporaryCredentials),t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretAccessKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration,t):null},assumeRoleWithWebIdentity:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,t)},assumeRoleWithSAML:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,t)}})},function(e,t,r){function signedUrlBuilder(e){var t=e.httpRequest.headers[o],r=e.service.getSignerClass(e);if(delete e.httpRequest.headers["User-Agent"],delete e.httpRequest.headers["X-Amz-User-Agent"],r===n.Signers.V4){if(t>604800){throw n.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1})}e.httpRequest.headers[o]=t}else{if(r!==n.Signers.S3)throw n.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});e.httpRequest.headers[o]=parseInt(n.util.date.unixTimestamp()+t,10).toString()}}function signedUrlSigner(e){var t=e.httpRequest.endpoint,r=n.util.urlParse(e.httpRequest.path),i={};r.search&&(i=n.util.queryStringParse(r.search.substr(1))),n.util.each(e.httpRequest.headers,function(e,t){e===o&&(e="Expires"),0===e.indexOf("x-amz-meta-")&&(delete i[e],e=e.toLowerCase()),i[e]=t}),delete e.httpRequest.headers[o];var a=i.Authorization.split(" ");if("AWS"===a[0])a=a[1].split(":"),i.AWSAccessKeyId=a[0],i.Signature=a[1];else if("AWS4-HMAC-SHA256"===a[0]){a.shift();var s=a.join(" "),c=s.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];i["X-Amz-Signature"]=c,delete i.Expires}delete i.Authorization,delete i.Host,t.pathname=r.pathname,t.search=n.util.queryParamsToString(i)}var n=r(1),i=n.util.inherit,o="presigned-expires";n.Signers.Presign=i({sign:function(e,t,r){if(e.httpRequest.headers[o]=t||3600,e.on("build",signedUrlBuilder),e.on("sign",signedUrlSigner),e.removeListener("afterBuild",n.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",n.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),!r){if(e.build(),e.response.error)throw e.response.error;return n.util.urlFormat(e.httpRequest.endpoint)}e.build(function(){this.response.error?r(this.response.error):r(null,n.util.urlFormat(e.httpRequest.endpoint))})}}),e.exports=n.Signers.Presign},function(e,t,r){var n=r(1),i=n.util.inherit;n.Signers.RequestSigner=i({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}}),n.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return n.Signers.V2;case"v3":return n.Signers.V3;case"v4":return n.Signers.V4;case"s3":return n.Signers.S3;case"v3https":return n.Signers.V3Https}throw new Error("Unknown signing version "+e)},r(295),r(143),r(296),r(297),r(294),r(292)},function(e,t,r){var n=r(1),i=n.util.inherit;n.Signers.S3=i(n.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,t){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=n.util.date.rfc822(t)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var r=this.sign(e.secretAccessKey,this.stringToSign()),i="AWS "+e.accessKeyId+":"+r;this.request.headers.Authorization=i},stringToSign:function(){var e=this.request,t=[];t.push(e.method),t.push(e.headers["Content-MD5"]||""),t.push(e.headers["Content-Type"]||""),t.push(e.headers["presigned-expires"]||"");var r=this.canonicalizedAmzHeaders();return r&&t.push(r),t.push(this.canonicalizedResource()),t.join("\n")},canonicalizedAmzHeaders:function(){var e=[];n.util.each(this.request.headers,function(t){t.match(/^x-amz-/i)&&e.push(t)}),e.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1});var t=[];return n.util.arrayEach.call(this,e,function(e){t.push(e.toLowerCase()+":"+String(this.request.headers[e]))}),t.join("\n")},canonicalizedResource:function(){var e=this.request,t=e.path.split("?"),r=t[0],i=t[1],o="";if(e.virtualHostedBucket&&(o+="/"+e.virtualHostedBucket),o+=r,i){var a=[];n.util.arrayEach.call(this,i.split("&"),function(e){var t=e.split("=")[0],r=e.split("=")[1];if(this.subResources[t]||this.responseHeaders[t]){var n={name:t};void 0!==r&&(this.subResources[t]?n.value=r:n.value=decodeURIComponent(r)),a.push(n)}}),a.sort(function(e,t){return e.name<t.name?-1:1}),a.length&&(i=[],n.util.arrayEach(a,function(e){void 0===e.value?i.push(e.name):i.push(e.name+"="+e.value)}),o+="?"+i.join("&"))}return o},sign:function(e,t){return n.util.crypto.hmac(e,t,"base64","sha1")}}),e.exports=n.Signers.S3},function(e,t,r){var n=r(1),i=n.util.inherit;n.Signers.V2=i(n.Signers.RequestSigner,{addAuthorization:function(e,t){t||(t=n.util.date.getDate());var r=this.request;r.params.Timestamp=n.util.date.iso8601(t),r.params.SignatureVersion="2",r.params.SignatureMethod="HmacSHA256",r.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(r.params.SecurityToken=e.sessionToken),delete r.params.Signature,r.params.Signature=this.signature(e),r.body=n.util.queryParamsToString(r.params),r.headers["Content-Length"]=r.body.length},signature:function(e){return n.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(n.util.queryParamsToString(this.request.params)),e.join("\n")}}),e.exports=n.Signers.V2},function(e,t,r){var n=r(1),i=n.util.inherit;r(143),n.Signers.V3Https=i(n.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),e.exports=n.Signers.V3Https},function(e,t,r){var n=r(1),i=r(298),o=n.util.inherit;n.Signers.V4=o(n.Signers.RequestSigner,{constructor:function(e,t,r){n.Signers.RequestSigner.call(this,e),this.serviceName=t,r=r||{},this.signatureCache="boolean"!=typeof r.signatureCache||r.signatureCache,this.operation=r.operation},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,t){var r=n.util.date.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,r):this.addHeaders(e,r),this.request.headers.Authorization=this.authorization(e,r)},addHeaders:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,t){var r=this.credentialString(t),i={"X-Amz-Date":t,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+r,"X-Amz-Expires":this.request.headers["presigned-expires"],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(i["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(i["Cache-Control"]=this.request.headers["Cache-Control"]),n.util.each.call(this,this.request.headers,function(e,t){if("presigned-expires"!==e&&this.isSignableHeader(e)){var r=e.toLowerCase();0===r.indexOf("x-amz-meta-")?i[r]=t:0===r.indexOf("x-amz-")&&(i[e]=t)}});var o=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=o+n.util.queryParamsToString(i)},authorization:function(e,t){var r=[],n=this.credentialString(t);return r.push(this.algorithm+" Credential="+e.accessKeyId+"/"+n),r.push("SignedHeaders="+this.signedHeaders()),r.push("Signature="+this.signature(e,t)),r.join(", ")},signature:function(e,t){var r=i.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return n.util.crypto.hmac(r,this.stringToSign(t),"hex")},stringToSign:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")},canonicalString:function(){var e=[],t=this.request.pathname();return"s3"!==this.serviceName&&(t=n.util.uriEscapePath(t)),e.push(this.request.method),e.push(t),e.push(this.request.search()),e.push(this.canonicalHeaders()+"\n"),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")},canonicalHeaders:function(){var e=[];n.util.each.call(this,this.request.headers,function(t,r){e.push([t,r])}),e.sort(function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1});var t=[];return n.util.arrayEach.call(this,e,function(e){var r=e[0].toLowerCase();this.isSignableHeader(r)&&t.push(r+":"+this.canonicalHeaderValues(e[1].toString()))}),t.join("\n")},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return n.util.each.call(this,this.request.headers,function(t){t=t.toLowerCase(),this.isSignableHeader(t)&&e.push(t)}),e.sort().join(";")},credentialString:function(e){return i.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return n.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&"s3"===this.serviceName&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],isSignableHeader:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers["presigned-expires"]}}),e.exports=n.Signers.V4},function(e,t,r){var n=r(1),i={},o=[];e.exports={createScope:function(e,t,r){return[e.substr(0,8),t,r,"aws4_request"].join("/")},getSigningKey:function(e,t,r,a,s){var c=n.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),u=[c,t,r,a].join("_");if((s=!1!==s)&&u in i)return i[u];var l=n.util.crypto.hmac("AWS4"+e.secretAccessKey,t,"buffer"),f=n.util.crypto.hmac(l,r,"buffer"),h=n.util.crypto.hmac(f,a,"buffer"),d=n.util.crypto.hmac(h,"aws4_request","buffer");return s&&(i[u]=d,o.push(u),o.length>50&&delete i[o.shift()]),d},emptyCache:function(){i={},o=[]}}},function(e,t){function AcceptorStateMachine(e,t){this.currentState=t||null,this.states=e||{}}AcceptorStateMachine.prototype.runTo=function(e,t,r,n){"function"==typeof e&&(n=r,r=t,t=e,e=null);var i=this,o=i.states[i.currentState];o.fn.call(r||i,n,function(n){if(n){if(!o.fail)return t?t.call(r,n):null;i.currentState=o.fail}else{if(!o.accept)return t?t.call(r):null;i.currentState=o.accept}if(i.currentState===e)return t?t.call(r,n):null;i.runTo(e,t,r,n)})},AcceptorStateMachine.prototype.addState=function(e,t,r,n){return"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null),this.currentState||(this.currentState=e),this.states[e]={accept:t,fail:r,fn:n},this},e.exports=AcceptorStateMachine},function(e,t,r){function DomXmlParser(){}function parseXml(e,t){switch(t||(t={}),t.type){case"structure":return parseStructure(e,t);case"map":return parseMap(e,t);case"list":return parseList(e,t);case void 0:case null:return parseUnknown(e);default:return parseScalar(e,t)}}function parseStructure(e,t){var r={};return null===e?r:(n.each(t.members,function(t,n){if(n.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(e.attributes,n.name)){var i=e.attributes[n.name].value;r[t]=parseXml({textContent:i},n)}}else{var o=n.flattened?e:e.getElementsByTagName(n.name)[0];o?r[t]=parseXml(o,n):n.flattened||"list"!==n.type||(r[t]=n.defaultValue)}}),r)}function parseMap(e,t){for(var r={},n=t.key.name||"key",i=t.value.name||"value",o=t.flattened?t.name:"entry",a=e.firstElementChild;a;){if(a.nodeName===o){var s=a.getElementsByTagName(n)[0].textContent,c=a.getElementsByTagName(i)[0];r[s]=parseXml(c,t.value)}a=a.nextElementSibling}return r}function parseList(e,t){for(var r=[],n=t.flattened?t.name:t.member.name||"member",i=e.firstElementChild;i;)i.nodeName===n&&r.push(parseXml(i,t.member)),i=i.nextElementSibling;return r}function parseScalar(e,t){if(e.getAttribute){var r=e.getAttribute("encoding");"base64"===r&&(t=new i.create({type:r}))}var n=e.textContent;return""===n&&(n=null),"function"==typeof t.toType?t.toType(n):n}function parseUnknown(e){if(void 0===e||null===e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;for(var t={type:"structure",members:{}},r=e.firstElementChild;r;){var n=r.nodeName;Object.prototype.hasOwnProperty.call(t.members,n)?t.members[n].type="list":t.members[n]={name:n},r=r.nextElementSibling}return parseStructure(e,t)}var n=r(5),i=r(43);DomXmlParser.prototype.parse=function(e,t){if(""===e.replace(/^\s+/,""))return{};var r,i;try{if(window.DOMParser){try{r=(new DOMParser).parseFromString(e,"text/xml")}catch(e){throw n.error(new Error("Parse error in document"),{originalError:e,code:"XMLParserError",retryable:!0})}if(null===r.documentElement)throw n.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var o=r.getElementsByTagName("parsererror")[0];if(o&&(o.parentNode===r||"body"===o.parentNode.nodeName||o.parentNode.parentNode===r||"body"===o.parentNode.parentNode.nodeName)){var a=o.getElementsByTagName("div")[0]||o;throw n.error(new Error(a.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if(r=new window.ActiveXObject("Microsoft.XMLDOM"),r.async=!1,!r.loadXML(e))throw n.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){i=e}if(r&&r.documentElement&&!i){var s=parseXml(r.documentElement,t),c=r.getElementsByTagName("ResponseMetadata")[0];return c&&(s.ResponseMetadata=parseXml(c,{})),s}if(i)throw n.error(i||new Error,{code:"XMLParserError",retryable:!0});return{}},e.exports=DomXmlParser},function(e,t,r){function XmlBuilder(){}function serialize(e,t,r){switch(r.type){case"structure":return serializeStructure(e,t,r);case"map":return serializeMap(e,t,r);case"list":return serializeList(e,t,r);default:return serializeScalar(e,t,r)}}function serializeStructure(e,t,r){n.arrayEach(r.memberNames,function(n){var i=r.members[n];if("body"===i.location){var o=t[n],a=i.name;if(void 0!==o&&null!==o)if(i.isXmlAttribute)e.att(a,o);else if(i.flattened)serialize(e,o,i);else{var s=e.ele(a);applyNamespaces(s,i),serialize(s,o,i)}}})}function serializeMap(e,t,r){var i=r.key.name||"key",o=r.value.name||"value";n.each(t,function(t,n){var a=e.ele(r.flattened?r.name:"entry");serialize(a.ele(i),t,r.key),serialize(a.ele(o),n,r.value)})}function serializeList(e,t,r){r.flattened?n.arrayEach(t,function(t){var n=r.member.name||r.name;serialize(e.ele(n),t,r.member)}):n.arrayEach(t,function(t){var n=r.member.name||"member";serialize(e.ele(n),t,r.member)})}function serializeScalar(e,t,r){e.txt(r.toWireFormat(t))}function applyNamespaces(e,t){var r,n="xmlns";t.xmlNamespaceUri?(r=t.xmlNamespaceUri,t.xmlNamespacePrefix&&(n+=":"+t.xmlNamespacePrefix)):e.isRoot&&t.api.xmlNamespaceUri&&(r=t.api.xmlNamespaceUri),r&&e.att(n,r)}var n=r(5),i=r(660);XmlBuilder.prototype.toXML=function(e,t,r,n){var o=i.create(r);return applyNamespaces(o,t),serialize(o,e,t),o.children.length>0||n?o.root().toString():""},e.exports=XmlBuilder},function(e,t,r){(function(e){function hmac(e,t,r){return a.createHmac("sha256",e).update(t,"utf8").digest(r)}function hash(e,t){return a.createHash("sha256").update(e,"utf8").digest(t)}function encodeRfc3986(e){return e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function RequestSigner(e,t){"string"==typeof e&&(e=i.parse(e));var r=e.headers=e.headers||{},n=this.matchHost(e.hostname||e.host||r.Host||r.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||n[0]||"",this.region=e.region||n[1]||"us-east-1","email"===this.service&&(this.service="ses"),!e.method&&e.body&&(e.method="POST"),r.Host||r.host||(r.Host=e.hostname||e.host||this.createHost(),e.port&&(r.Host+=":"+e.port)),e.hostname||e.host||(e.hostname=r.Host||r.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===e.method}var n=t,i=r(117),o=r(119),a=r(27),s=r(303),c=s(1e3);RequestSigner.prototype.matchHost=function(e){var t=(e||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),r=(t||[]).slice(1,3);return"es"===r[1]&&(r=r.reverse()),r},RequestSigner.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},RequestSigner.prototype.createHost=function(){var e=this.isSingleRegion()?"":("s3"===this.service&&"us-east-1"!==this.region?"-":".")+this.region;return("ses"===this.service?"email":this.service)+e+".amazonaws.com"},RequestSigner.prototype.prepareRequest=function(){this.parsePath();var t,r=this.request,n=r.headers;r.signQuery?(this.parsedPath.query=t=this.parsedPath.query||{},this.credentials.sessionToken&&(t["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||t["X-Amz-Expires"]||(t["X-Amz-Expires"]=86400),t["X-Amz-Date"]?this.datetime=t["X-Amz-Date"]:t["X-Amz-Date"]=this.getDateTime(),t["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",t["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),t["X-Amz-SignedHeaders"]=this.signedHeaders()):(r.doNotModifyHeaders||this.isCodeCommitGit||(!r.body||n["Content-Type"]||n["content-type"]||(n["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!r.body||n["Content-Length"]||n["content-length"]||(n["Content-Length"]=e.byteLength(r.body)),!this.credentials.sessionToken||n["X-Amz-Security-Token"]||n["x-amz-security-token"]||(n["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||n["X-Amz-Content-Sha256"]||n["x-amz-content-sha256"]||(n["X-Amz-Content-Sha256"]=hash(this.request.body||"","hex")),n["X-Amz-Date"]||n["x-amz-date"]?this.datetime=n["X-Amz-Date"]||n["x-amz-date"]:n["X-Amz-Date"]=this.getDateTime()),delete n.Authorization,delete n.authorization)},RequestSigner.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},RequestSigner.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},RequestSigner.prototype.getDate=function(){return this.getDateTime().substr(0,8)},RequestSigner.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},RequestSigner.prototype.signature=function(){var e,t,r,n=this.getDate(),i=[this.credentials.secretAccessKey,n,this.region,this.service].join(),o=c.get(i);return o||(e=hmac("AWS4"+this.credentials.secretAccessKey,n),t=hmac(e,this.region),r=hmac(t,this.service),o=hmac(r,"aws4_request"),c.set(i,o)),hmac(o,this.stringToSign(),"hex")},RequestSigner.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),hash(this.canonicalString(),"hex")].join("\n")},RequestSigner.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e,t=this.parsedPath.path,r=this.parsedPath.query,n=this.request.headers,i="",a="s3"!==this.service,s="s3"===this.service||this.request.doNotEncodePath,c="s3"===this.service,u="s3"===this.service;return e="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":n["X-Amz-Content-Sha256"]||n["x-amz-content-sha256"]||hash(this.request.body||"","hex"),r&&(i=encodeRfc3986(o.stringify(Object.keys(r).sort().reduce(function(e,t){return t?(e[t]=Array.isArray(r[t])?u?r[t][0]:r[t].slice().sort():r[t],e):e},{})))),"/"!==t&&(a&&(t=t.replace(/\/{2,}/g,"/")),t=t.split("/").reduce(function(e,t){return a&&".."===t?e.pop():a&&"."===t||(s&&(t=unescape(t)),e.push(encodeRfc3986(escape(t)))),e},[]).join("/"),"/"!==t[0]&&(t="/"+t),c&&(t=t.replace(/%2F/g,"/"))),[this.request.method||"GET",t,i,this.canonicalHeaders()+"\n",this.signedHeaders(),e].join("\n")},RequestSigner.prototype.canonicalHeaders=function(){function trimAll(e){return e.toString().trim().replace(/\s+/g," ")}var e=this.request.headers;return Object.keys(e).sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}).map(function(t){return t.toLowerCase()+":"+trimAll(e[t])}).join("\n")},RequestSigner.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(e){return e.toLowerCase()}).sort().join(";")},RequestSigner.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},RequestSigner.prototype.defaultCredentials=function(){var e=r.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"});return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},RequestSigner.prototype.parsePath=function(){var e=this.request.path||"/",t=e.indexOf("?"),r=null;t>=0&&(r=o.parse(e.slice(t+1)),e=e.slice(0,t)),/[^0-9A-Za-z!'()*\-._~%\/]/.test(e)&&(e=e.split("/").map(function(e){return escape(unescape(e))}).join("/")),this.parsedPath={path:e,query:r}},RequestSigner.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(null!=t[""]&&delete t[""],e+"?"+encodeRfc3986(o.stringify(t))):e},n.RequestSigner=RequestSigner,n.sign=function(e,t){return new RequestSigner(e,t).sign()}}).call(t,r(0).Buffer)},function(e,t){function LruCache(e){this.capacity=0|e,this.map=Object.create(null),this.list=new DoublyLinkedList}function DoublyLinkedList(){this.firstNode=null,this.lastNode=null}function DoublyLinkedNode(e,t){this.key=e,this.val=t,this.prev=null,this.next=null}e.exports=function(e){return new LruCache(e)},LruCache.prototype.get=function(e){var t=this.map[e];if(null!=t)return this.used(t),t.val},LruCache.prototype.set=function(e,t){var r=this.map[e];if(null!=r)r.val=t;else{if(this.capacity||this.prune(),!this.capacity)return!1;r=new DoublyLinkedNode(e,t),this.map[e]=r,this.capacity--}return this.used(r),!0},LruCache.prototype.used=function(e){this.list.moveToFront(e)},LruCache.prototype.prune=function(){var e=this.list.pop();null!=e&&(delete this.map[e.key],this.capacity++)},DoublyLinkedList.prototype.moveToFront=function(e){this.firstNode!=e&&(this.remove(e),null==this.firstNode?(this.firstNode=e,this.lastNode=e,e.prev=null,e.next=null):(e.prev=null,e.next=this.firstNode,e.next.prev=e,this.firstNode=e))},DoublyLinkedList.prototype.pop=function(){var e=this.lastNode;return null!=e&&this.remove(e),e},DoublyLinkedList.prototype.remove=function(e){this.firstNode==e?this.firstNode=e.next:null!=e.prev&&(e.prev.next=e.next),this.lastNode==e?this.lastNode=e.prev:null!=e.next&&(e.next.prev=e.prev)}},function(e,t,r){"use strict";function placeHoldersCount(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function byteLength(e){return 3*e.length/4-placeHoldersCount(e)}function toByteArray(e){var t,r,n,a,s,c,u=e.length;s=placeHoldersCount(e),c=new o(3*u/4-s),n=s>0?u-4:u;var l=0;for(t=0,r=0;t<n;t+=4,r+=3)a=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],c[l++]=a>>16&255,c[l++]=a>>8&255,c[l++]=255&a;return 2===s?(a=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,c[l++]=255&a):1===s&&(a=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,c[l++]=a>>8&255,c[l++]=255&a),c}function tripletToBase64(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function encodeChunk(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,i=r%3,o="",a=[],s=0,c=r-i;s<c;s+=16383)a.push(encodeChunk(e,s,s+16383>c?c:s+16383));return 1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="="),a.push(o),a.join("")}t.byteLength=byteLength,t.toByteArray=toByteArray,t.fromByteArray=fromByteArray;for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,r){(function(e,n){var i;(function(o){"use strict";var a=0,s=Array.prototype.slice,c=function(e,t){var r=e[t];if(r===o&&F.strict)throw new Error("Bottle was unable to resolve a service.  `"+t+"` is undefined.");return r},u=function(e){return this.nested[e]||(this.nested[e]=B.pop())},l=function(e){return e.split(".").reduce(c,this)},f=function(e,t){var r=e.split(".");return e=r.pop(),h.call(r.reduce(N,this.container),e,t),this},h=function(e,t){Object.defineProperty(this,e,{configurable:!1,enumerable:!0,value:t,writable:!1})},d=function(e,t){var r,n;return"function"==typeof e&&(t=e,e="__global__"),r=e.split("."),n=r.shift(),r.length?u.call(this,n).decorator(r.join("."),t):(this.decorators[n]||(this.decorators[n]=[]),this.decorators[n].push(t)),this},p=function(e){return this.deferred.push(e),this},y=function(e){return(e||[]).map(l,this.container)},m=function(e,t){return x.call(this,e,function(){this.$get=t})},g=function(e,t){return m.call(this,e,function(e){return{instance:t.bind(t,e)}})},v=function(e){return!/^\$(?:decorator|register|list)$|Provider$/.test(e)},b=function(e){return Object.keys(e||this.container||{}).filter(v)},_=function(e,t,r,n){var i={configurable:!0,enumerable:!0};return e.length?i.get=function(){var t=0,n=function(i){if(i)throw i;e[t]&&e[t++](r,n)};return n(),r}:(i.value=r,i.writable=!0),Object.defineProperty(n,t,i),n[t]},w=function(e,t){var r,n;return"function"==typeof e&&(t=e,e="__global__"),r=e.split("."),n=r.shift(),r.length?u.call(this,n).middleware(r.join("."),t):(this.middlewares[n]||(this.middlewares[n]=[]),this.middlewares[n].push(t)),this},E={},S=function(e){var t;return"string"==typeof e?(t=E[e],t||(E[e]=t=new B,t.constant("BOTTLE_NAME",e)),t):new B},k=function(e){"string"==typeof e?delete E[e]:E={}},C=function(e,t){return t(e)},x=function(e,t){var r,n;return r=e.split("."),this.providerMap[e]&&1===r.length&&!this.container[e+"Provider"]?console.error(e+" provider already instantiated."):(this.originalProviders[e]=t,this.providerMap[e]=!0,n=r.shift(),r.length?(O.call(this,n,t,r),this):R.call(this,n,t))},P=function(e,t){return(e[t]||[]).concat(e.__global__||[])},R=function(e,t){var r,n,i,a,s;return this.id,i=this.container,a=this.decorators,s=this.middlewares,r=e+"Provider",n=Object.create(null),n[r]={configurable:!0,enumerable:!0,get:function(){var e=new t;return delete i[r],i[r]=e,e}},n[e]={configurable:!0,enumerable:!0,get:function(){var t,n=i[r];return n&&(t=P(a,e).reduce(C,n.$get(i)),delete i[r],delete i[e]),t===o?t:_(P(s,e),e,t,i)}},Object.defineProperties(i,n),this},O=function(e,t,r){var n;return n=u.call(this,e),this.factory(e,function(){return n.container}),n.provider(r.join("."),t)},A=function(e){var t=e.$value===o?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,t].concat(e.$inject||[]))},M=function(e){delete this.providerMap[e],delete this.container[e],delete this.container[e+"Provider"]},I=function(){var e=this.originalProviders;Object.keys(this.originalProviders).forEach(function(t){var r=t.split(".");r.length>1&&(M.call(this,r[0]),r.forEach(M,u.call(this,r[0]))),M.call(this,t),this.provider(t,e[t])},this)},T=function(e){return this.deferred.forEach(function(t){t(e)}),this},D=function(e,t){var r=arguments.length>2?s.call(arguments,2):null,n=this;return m.call(this,e,function(){return r&&(r=r.map(l,n.container),r.unshift(t),t=t.bind.apply(t,r)),new t})},j=function(e,t){var r;return r=e.split("."),e=r.pop(),L.call(r.reduce(N,this.container),e,t),this},N=function(e,t){var r=e[t];return r||(r={},L.call(e,t,r)),r},L=function(e,t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})},B=function Bottle(e){if(!(this instanceof Bottle))return Bottle.pop(e);this.id=a++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.originalProviders={},this.deferred=[],this.container={$decorator:d.bind(this),$register:A.bind(this),$list:b.bind(this)}};B.prototype={constant:f,decorator:d,defer:p,digest:y,factory:m,instanceFactory:g,list:b,middleware:w,provider:x,resetProviders:I,register:A,resolve:T,service:D,value:j},B.pop=S,B.clear=k,B.list=b;var F=B.config={strict:!1},q={function:!0,object:!0};!function(a){var s=q[typeof t]&&t&&!t.nodeType&&t,c=q[typeof e]&&e&&!e.nodeType&&e,u=(c&&c.exports,q[typeof n]&&n);!u||u.global!==u&&u.window!==u||(a=u),a.Bottle=B,(i=function(){return B}.call(t,r,t,e))!==o&&(e.exports=i)}(q[typeof window]&&window||this)}).call(this)}).call(t,r(29)(e),r(4))},function(e,t,r){(function(e){function Decipher(t,r,o){if(!(this instanceof Decipher))return new Decipher(t,r,o);i.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new n.AES(r),this._prev=new e(o.length),o.copy(this._prev),this._mode=t,this._autopadding=!0}function Splitter(){if(!(this instanceof Splitter))return new Splitter;this.cache=new e("")}function unpad(e){for(var t=e[15],r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function createDecipheriv(t,r,n){var i=a[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=new e(n)),"string"==typeof r&&(r=new e(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new s(l[i.mode],r,n,!0):"auth"===i.type?new c(l[i.mode],r,n,!0):new Decipher(l[i.mode],r,n)}function createDecipher(e,t){var r=a[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return createDecipheriv(e,n.key,n.iv)}var n=r(61),i=r(33),o=r(2),a=r(62),s=r(152),c=r(145),u=r(70);o(Decipher,i),Decipher.prototype._update=function(t){this._cache.add(t);for(var r,n,i=[];r=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,r),i.push(n);return e.concat(i)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(t){this.cache=e.concat([this.cache,t])},Splitter.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var l={ECB:r(150),CBC:r(146),CFB:r(147),CFB8:r(149),CFB1:r(148),OFB:r(151),CTR:r(63),GCM:r(63)};t.createDecipher=createDecipher,t.createDecipheriv=createDecipheriv}).call(t,r(0).Buffer)},function(e,t,r){(function(e){function Cipher(t,r,o){if(!(this instanceof Cipher))return new Cipher(t,r,o);i.call(this),this._cache=new Splitter,this._cipher=new n.AES(r),this._prev=new e(o.length),o.copy(this._prev),this._mode=t,this._autopadding=!0}function Splitter(){if(!(this instanceof Splitter))return new Splitter;this.cache=new e("")}function createCipheriv(t,r,n){var i=a[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=new e(n)),"string"==typeof r&&(r=new e(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new c(l[i.mode],r,n):"auth"===i.type?new u(l[i.mode],r,n):new Cipher(l[i.mode],r,n)}function createCipher(e,t){var r=a[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=s(t,!1,r.key,r.iv);return createCipheriv(e,n.key,n.iv)}var n=r(61),i=r(33),o=r(2),a=r(62),s=r(70),c=r(152),u=r(145);o(Cipher,i),Cipher.prototype._update=function(t){this._cache.add(t);for(var r,n,i=[];r=this._cache.get();)n=this._mode.encrypt(this,r),i.push(n);return e.concat(i)},Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(t){this.cache=e.concat([this.cache,t])},Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter.prototype.flush=function(){for(var t=16-this.cache.length,r=new e(t),n=-1;++n<t;)r.writeUInt8(t,n);return e.concat([this.cache,r])};var l={ECB:r(150),CBC:r(146),CFB:r(147),CFB8:r(149),CFB1:r(148),OFB:r(151),CTR:r(63),GCM:r(63)};t.createCipheriv=createCipheriv,t.createCipher=createCipher}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function GHASH(e){this.h=e,this.state=new t(16),this.state.fill(0),this.cache=new t("")}function toArray(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function fromArray(e){e=e.map(fixup_uint32);var r=new t(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r}function fixup_uint32(e){var t;return e>n||e<0?(t=Math.abs(e)%n,e<0?n-t:t):e}function xor(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}var r=new t(16);r.fill(0),e.exports=GHASH,GHASH.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},GHASH.prototype._multiply=function(){for(var e,t,r,n=toArray(this.h),i=[0,0,0,0],o=-1;++o<128;){for(t=0!=(this.state[~~(o/8)]&1<<7-o%8),t&&(i=xor(i,n)),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=fromArray(i)},GHASH.prototype.update=function(e){this.cache=t.concat([this.cache,e]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},GHASH.prototype.final=function(e,n){return this.cache.length&&this.ghash(t.concat([this.cache,r],16)),this.ghash(fromArray([0,e,0,n])),this.state};var n=Math.pow(2,32)}).call(t,r(0).Buffer)},function(e,t,r){function createCipher(e,t){var r,i;if(e=e.toLowerCase(),s[e])r=s[e].key,i=s[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,i=a[e].iv}var o=n(t,!1,r,i);return createCipheriv(e,o.key,o.iv)}function createDecipher(e,t){var r,i;if(e=e.toLowerCase(),s[e])r=s[e].key,i=s[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,i=a[e].iv}var o=n(t,!1,r,i);return createDecipheriv(e,o.key,o.iv)}function createCipheriv(e,t,r){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,r);if(a[e])return new o({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function createDecipheriv(e,t,r){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,r);if(a[e])return new o({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(a).concat(i.getCiphers())}var n=r(70),i=r(83),o=r(310),a=r(311),s=r(62);t.createCipher=t.Cipher=createCipher,t.createCipheriv=t.Cipheriv=createCipheriv,t.createDecipher=t.Decipher=createDecipher,t.createDecipheriv=t.Decipheriv=createDecipheriv,t.listCiphers=t.getCiphers=getCiphers},function(e,t,r){(function(t){function DES(e){n.call(this);var r,i=e.mode.toLowerCase(),o=a[i];r=e.decrypt?"decrypt":"encrypt";var s=e.key;"des-ede"!==i&&"des-ede-cbc"!==i||(s=t.concat([s,s.slice(0,8)]));var c=e.iv;this._des=o.create({key:s,iv:c,type:r})}var n=r(33),i=r(101),o=r(2),a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=DES,o(DES,n),DES.prototype._update=function(e){return new t(this._des.update(e))},DES.prototype._final=function(){return new t(this._des.final())}}).call(t,r(0).Buffer)},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,r){e.exports=r(153)},function(e,t,r){(function(t){function Sign(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function Verify(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function createSign(e){return new Sign(e)}function createVerify(e){return new Verify(e)}var n=r(34),i=r(122),o=r(2),a=r(314),s=r(315),c=r(153);Object.keys(c).forEach(function(e){c[e].id=new t(c[e].id,"hex"),c[e.toLowerCase()]=c[e]}),o(Sign,i.Writable),Sign.prototype._write=function(e,t,r){this._hash.update(e),r()},Sign.prototype.update=function(e,r){return"string"==typeof e&&(e=new t(e,r)),this._hash.update(e),this},Sign.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=a(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},o(Verify,i.Writable),Verify.prototype._write=function(e,t,r){this._hash.update(e),r()},Verify.prototype.update=function(e,r){return"string"==typeof e&&(e=new t(e,r)),this._hash.update(e),this},Verify.prototype.verify=function(e,r,n){"string"==typeof r&&(r=new t(r,n)),this.end();var i=this._hash.digest();return s(r,i,e,this._signType,this._tag)},e.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function sign(e,r,n,o,a){var c=s(r);if(c.curve){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");return ecSign(e,c)}if("dsa"===c.type){if("dsa"!==o)throw new Error("wrong private key type");return dsaSign(e,c,n)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");e=t.concat([a,e]);for(var u=c.modulus.byteLength(),l=[0,1];e.length+l.length+1<u;)l.push(255);l.push(0);for(var f=-1;++f<e.length;)l.push(e[f]);return i(l,c)}function ecSign(e,r){var n=c[r.curve.join(".")];if(!n)throw new Error("unknown curve "+r.curve.join("."));var i=new o(n),a=i.keyFromPrivate(r.privateKey),s=a.sign(e);return new t(s.toDER())}function dsaSign(e,t,r){for(var n,i=t.params.priv_key,o=t.params.p,s=t.params.q,c=t.params.g,u=new a(0),l=bits2int(e,s).mod(s),f=!1,h=getKey(i,s,e,r);!1===f;)n=makeKey(s,h,r),u=makeR(c,n,o,s),f=n.invm(s).imul(l.add(i.mul(u))).mod(s),0===f.cmpn(0)&&(f=!1,u=new a(0));return toDER(u,f)}function toDER(e,r){e=e.toArray(),r=r.toArray(),128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var n=e.length+r.length+4,i=[48,n,2,e.length];return i=i.concat(e,[2,r.length],r),new t(i)}function getKey(e,r,i,o){if(e=new t(e.toArray()),e.length<r.byteLength()){var a=new t(r.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=i.length,c=bits2octets(i,r),u=new t(s);u.fill(1);var l=new t(s);return l.fill(0),l=n(o,l).update(u).update(new t([0])).update(e).update(c).digest(),u=n(o,l).update(u).digest(),l=n(o,l).update(u).update(new t([1])).update(e).update(c).digest(),u=n(o,l).update(u).digest(),{k:l,v:u}}function bits2int(e,t){var r=new a(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function bits2octets(e,r){e=bits2int(e,r),e=e.mod(r);var n=new t(e.toArray());if(n.length<r.byteLength()){var i=new t(r.byteLength()-n.length);i.fill(0),n=t.concat([i,n])}return n}function makeKey(e,r,i){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)r.v=n(i,r.k).update(r.v).digest(),o=t.concat([o,r.v]);a=bits2int(o,e),r.k=n(i,r.k).update(r.v).update(new t([0])).digest(),r.v=n(i,r.k).update(r.v).digest()}while(-1!==a.cmp(e));return a}function makeR(e,t,r,n){return e.toRed(a.mont(r)).redPow(t).fromRed().mod(n)}var n=r(86),i=r(84),o=r(10).ec,a=r(6),s=r(79),c=r(154);e.exports=sign,e.exports.getKey=getKey,e.exports.makeKey=makeKey}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function verify(e,r,i,a,s){var c=o(i);if("ec"===c.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return ecVerify(e,r,c)}if("dsa"===c.type){if("dsa"!==a)throw new Error("wrong public key type");return dsaVerify(e,r,c)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");r=t.concat([s,r]);for(var u=c.modulus.byteLength(),l=[1],f=0;r.length+l.length+2<u;)l.push(255),f++;l.push(0);for(var h=-1;++h<r.length;)l.push(r[h]);l=new t(l);var d=n.mont(c.modulus);e=new n(e).toRed(d),e=e.redPow(new n(c.publicExponent)),e=new t(e.fromRed().toArray());var p=f<8?1:0;for(u=Math.min(e.length,l.length),e.length!==l.length&&(p=1),h=-1;++h<u;)p|=e[h]^l[h];return 0===p}function ecVerify(e,t,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var o=new i(n),s=r.data.subjectPrivateKey.data;return o.verify(t,e,s)}function dsaVerify(e,t,r){var i=r.data.p,a=r.data.q,s=r.data.g,c=r.data.pub_key,u=o.signature.decode(e,"der"),l=u.s,f=u.r;checkValue(l,a),checkValue(f,a);var h=n.mont(i),d=l.invm(a);return 0===s.toRed(h).redPow(new n(t).mul(d).mod(a)).fromRed().mul(c.toRed(h).redPow(f.mul(d).mod(a)).fromRed()).mod(i).mod(a).cmp(f)}function checkValue(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var n=r(6),i=r(10).ec,o=r(79),a=r(154);e.exports=verify}).call(t,r(0).Buffer)},function(t,n,i){(function(i){function murmurhash3_32_gc(e,t){var r,n,i,o,a;for(r=3&e.length,n=e.length-r,i=t,a=0;a<n;)o=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,++a,o=3432918353*(65535&o)+((3432918353*(o>>>16)&65535)<<16)&4294967295,o=o<<15|o>>>17,o=461845907*(65535&o)+((461845907*(o>>>16)&65535)<<16)&4294967295,i^=o,i=i<<13|i>>>19,i=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&i)+((58964+(i>>>16)&65535)<<16);switch(o=0,r){case 3:o^=(255&e.charCodeAt(a+2))<<16;case 2:o^=(255&e.charCodeAt(a+1))<<8;case 1:o^=255&e.charCodeAt(a),o=3432918353*(65535&o)+((3432918353*(o>>>16)&65535)<<16)&4294967295,o=o<<15|o>>>17,i^=461845907*(65535&o)+((461845907*(o>>>16)&65535)<<16)&4294967295}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,((i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295)^i>>>16)>>>0}!function(e){var t=function(){return this._version="v1.0.0-rc.1",this._parser=(new(window.UAParser||n.UAParser)).getResult(),this._fontDetective=new u,this.options=this.getDefaultOptions(),this};t.prototype.getDefaultOptions=function(){return{getUserAgent:!0,getCPU:!0,getCurrentResolution:!0,getAvailableResolution:!0,getColorDepth:!0,getDeviceXDPI:!0,getDeviceYDPI:!0,getPlugins:!0,getFonts:!0,hasCookies:!0,hasLocalStorage:!0,hasSessionStorage:!0,getTimeZone:!0,getLanguage:!0,getSystemLanguage:!0,getCanvasPrint:!0,getIPAddresses:!1,getGraphicsDriverInfo:!0,getMediaDevices:!1}},t.prototype.extendOptions=function(e,t){for(var r in t)e[r]=t[r];return e},t.prototype.getVersion=function(){return this._version},t.prototype.getParser=function(){return this._parser},t.prototype.getFingerprint=function(){return murmurhash3_32_gc(this._parser.ua+"|"+this.getScreenPrint()+"|"+this.getPlugins()+"|"+this.getFonts()+"|"+this.hasLocalStorage()+"|"+this.hasSessionStorage()+"|"+this.getTimeZone()+"|"+this.getLanguage()+"|"+this.getSystemLanguage()+"|"+this.hasCookies()+"|"+this.getCanvasPrint(),256)},t.prototype.getFingerprintAsync=function(e,t){var r="",n=this,i={},o=this.options,o=this.extendOptions(o,e);this.getAsyncOptions(i,function(e){r+=e;for(var a in o)!0===o[a]&&"getIPAddresses"!==a&&"getMediaDevices"!==a&&(e=n[a](),r+=e+"|",i[a]=e);t(ctph.digest(r),i)})},t.prototype.getCustomFingerprint=function(e){for(var t="",r=Array.prototype.slice.call(arguments),n=0;n<r.length;n++)t+=r[n]+"|";return murmurhash3_32_gc(t,256)},t.prototype.getAsyncOptions=function(e,t){var r="",n=this;this.getIPAddressesOption(function(i){void 0!==i&&(r+=i.localAddr+"|"+i.publicAddr+"|",e.getIPAddresses=i),n.getMediaDevicesOption(function(n){void 0!==n&&(r+=n,e.getMediaDevices=n),t(r)})})},t.prototype.getIPAddressesOption=function(e){1==this.options.getIPAddresses?this.getIPAddresses(function(t){e(t)}):e()},t.prototype.getMediaDevicesOption=function(e){!0===this.options.getMediaDevices?this.getMediaDevices(function(t){e(t)}):e()},t.prototype.getUserAgent=function(){return this._parser.ua},t.prototype.getUserAgentLowerCase=function(){return this._parser.ua.toLowerCase()},t.prototype.getBrowser=function(){return this._parser.browser.name},t.prototype.getBrowserVersion=function(){return this._parser.browser.version},t.prototype.getBrowserMajorVersion=function(){return this._parser.browser.major},t.prototype.getIPAddresses=function(e){function b(e){e=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(JSON.stringify(e))[1],void 0===r[e]&&(r[e]=!0,e.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?t.localAddr=e:e.match(/^[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}$/)?t.ipv6=e:t.publicAddr=e)}function c(){s=null,a.localDescription.sdp.split("\n").forEach(function(e){0===e.indexOf("a=candidate:")?(l++,b(e)):0===e.indexOf("a=fingerprint:")&&(t.fingerprint=e.substring(14,e.length))}),e&&e(t)}var t={},r={},n=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(n){try{if(!n){this._makeWebRTCFrame("webRTC_iframe");var i=r.contentWindow,n=i.RTCPeerConnection||i.mozRTCPeerConnection||i.webkitRTCPeerConnection}}catch(t){e&&e("")}var i={optional:[{RtpDataChannels:!0}]},o={iceServers:[{urls:"stun:stun.services.mozilla.com"}]};try{var a=new n(o,i)}catch(t){e&&e("")}var s,u=0,l=0;a.onicecandidate=function(e){if(e.candidate){u++,b(e.candidate.candidate);try{clearTimeout(s)}catch(e){}s=setTimeout(c,150)}},a.createDataChannel(null),a.createOffer(function(e){a.setLocalDescription(e,function(){},function(){})},function(){})}else e&&e("")},t.prototype._makeWebRTCFrame=function(e){var t=document.createElement("iframe");t.setAttribute("id",e),t.setAttribute("sandbox","allow-same-origin"),t.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(t)},t.prototype.isIE=function(){return/IE/i.test(this._parser.browser.name)},t.prototype.isChrome=function(){return/Chrome/i.test(this._parser.browser.name)},t.prototype.isFirefox=function(){return/Firefox/i.test(this._parser.browser.name)},t.prototype.isSafari=function(){return/Safari/i.test(this._parser.browser.name)},t.prototype.isMobileSafari=function(){return/Mobile\sSafari/i.test(this._parser.browser.name)},t.prototype.isOpera=function(){return/Opera/i.test(this._parser.browser.name)},t.prototype.getEngine=function(){return this._parser.engine.name},t.prototype.getEngineVersion=function(){return this._parser.engine.version},t.prototype.getOS=function(){return this._parser.os.name},t.prototype.getOSVersion=function(){return this._parser.os.version},t.prototype.isWindows=function(){return/Windows/i.test(this._parser.os.name)},t.prototype.isMac=function(){return/Mac/i.test(this._parser.os.name)},t.prototype.isLinux=function(){return/Linux/i.test(this._parser.os.name)},t.prototype.isUbuntu=function(){return/Ubuntu/i.test(this._parser.os.name)},t.prototype.isSolaris=function(){return/Solaris/i.test(this._parser.os.name)},t.prototype.getDevice=function(){return this._parser.device.model},t.prototype.getDeviceType=function(){return this._parser.device.type},t.prototype.getDeviceVendor=function(){return this._parser.device.vendor},t.prototype.getCPU=function(){return this._parser.cpu.architecture},t.prototype.isMobile=function(){var e=this._parser.ua||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},t.prototype.isMobileMajor=function(){return this.isMobileAndroid()||this.isMobileBlackBerry()||this.isMobileIOS()||this.isMobileOpera()||this.isMobileWindows()},t.prototype.isMobileAndroid=function(){return!!this._parser.ua.match(/Android/i)},t.prototype.isMobileOpera=function(){return!!this._parser.ua.match(/Opera Mini/i)},t.prototype.isMobileWindows=function(){return!!this._parser.ua.match(/IEMobile/i)},t.prototype.isMobileBlackBerry=function(){return!!this._parser.ua.match(/BlackBerry/i)},t.prototype.isMobileIOS=function(){return!!this._parser.ua.match(/iPhone|iPad|iPod/i)},t.prototype.isIphone=function(){return!!this._parser.ua.match(/iPhone/i)},t.prototype.isIpad=function(){return!!this._parser.ua.match(/iPad/i)},t.prototype.isIpod=function(){return!!this._parser.ua.match(/iPod/i)},t.prototype.getScreenPrint=function(){return"Current Resolution: "+this.getCurrentResolution()+", Available Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()},t.prototype.getColorDepth=function(){return screen.colorDepth},t.prototype.getCurrentResolution=function(){return screen.width+"x"+screen.height},t.prototype.getAvailableResolution=function(){return screen.availWidth+"x"+screen.availHeight},t.prototype.getDeviceXDPI=function(){return screen.deviceXDPI},t.prototype.getDeviceYDPI=function(){return screen.deviceYDPI},t.prototype.getPlugins=function(){for(var e="",t=0;t<navigator.plugins.length;t++)e=t==navigator.plugins.length-1?e+navigator.plugins[t].name:e+(navigator.plugins[t].name+", ");return e},t.prototype.hasJava=function(){return navigator.javaEnabled()},t.prototype.getJavaVersion=function(){return o.getJREs().toString()},t.prototype.hasFlash=function(){return!!navigator.plugins["Shockwave Flash"]},t.prototype.getFlashVersion=function(){return this.isFlash()?(objPlayerVersion=m.getFlashPlayerVersion(),objPlayerVersion.major+"."+objPlayerVersion.minor+"."+objPlayerVersion.release):""},t.prototype.hasSilverlight=function(){return!!navigator.plugins["Silverlight Plug-In"]},t.prototype.getSilverlightVersion=function(){return this.isSilverlight()?navigator.plugins["Silverlight Plug-In"].description:""},t.prototype.hasMimeTypes=function(){return!!navigator.mimeTypes.length},t.prototype.getMimeTypes=function(){for(var e="",t=0;t<navigator.mimeTypes.length;t++)e=t==navigator.mimeTypes.length-1?e+navigator.mimeTypes[t].description:e+(navigator.mimeTypes[t].description+", ");return e},t.prototype.hasFonts=function(e){return this._fontDetective.detect(e)},t.prototype.getFonts=function(){for(var e="Abadi MT Condensed Light;Adobe Fangsong Std;Adobe Hebrew;Adobe Ming Std;Agency FB;Aharoni;Andalus;Angsana New;AngsanaUPC;Aparajita;Arab;Arabic Transparent;Arabic Typesetting;Arial Baltic;Arial Black;Arial CE;Arial CYR;Arial Greek;Arial TUR;Arial;Batang;BatangChe;Bauhaus 93;Bell MT;Bitstream Vera Serif;Bodoni MT;Bookman Old Style;Braggadocio;Broadway;Browallia New;BrowalliaUPC;Calibri Light;Calibri;Californian FB;Cambria Math;Cambria;Candara;Castellar;Casual;Centaur;Century Gothic;Chalkduster;Colonna MT;Comic Sans MS;Consolas;Constantia;Copperplate Gothic Light;Corbel;Cordia New;CordiaUPC;Courier New Baltic;Courier New CE;Courier New CYR;Courier New Greek;Courier New TUR;Courier New;DFKai-SB;DaunPenh;David;DejaVu LGC Sans Mono;Desdemona;DilleniaUPC;DokChampa;Dotum;DotumChe;Ebrima;Engravers MT;Eras Bold ITC;Estrangelo Edessa;EucrosiaUPC;Euphemia;Eurostile;FangSong;Forte;FrankRuehl;Franklin Gothic Heavy;Franklin Gothic Medium;FreesiaUPC;French Script MT;Gabriola;Gautami;Georgia;Gigi;Gisha;Goudy Old Style;Gulim;GulimChe;GungSeo;Gungsuh;GungsuhChe;Haettenschweiler;Harrington;Hei S;HeiT;Heisei Kaku Gothic;Hiragino Sans GB;Impact;Informal Roman;IrisUPC;Iskoola Pota;JasmineUPC;KacstOne;KaiTi;Kalinga;Kartika;Khmer UI;Kino MT;KodchiangUPC;Kokila;Kozuka Gothic Pr6N;Lao UI;Latha;Leelawadee;Levenim MT;LilyUPC;Lohit Gujarati;Loma;Lucida Bright;Lucida Console;Lucida Fax;Lucida Sans Unicode;MS Gothic;MS Mincho;MS PGothic;MS PMincho;MS Reference Sans Serif;MS UI Gothic;MV Boli;Magneto;Malgun Gothic;Mangal;Marlett;Matura MT Script Capitals;Meiryo UI;Meiryo;Menlo;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft Yi Baiti;MingLiU;MingLiU-ExtB;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;Miriam Fixed;Miriam;Mongolian Baiti;MoolBoran;NSimSun;Narkisim;News Gothic MT;Niagara Solid;Nyala;PMingLiU;PMingLiU-ExtB;Palace Script MT;Palatino Linotype;Papyrus;Perpetua;Plantagenet Cherokee;Playbill;Prelude Bold;Prelude Condensed Bold;Prelude Condensed Medium;Prelude Medium;PreludeCompressedWGL Black;PreludeCompressedWGL Bold;PreludeCompressedWGL Light;PreludeCompressedWGL Medium;PreludeCondensedWGL Black;PreludeCondensedWGL Bold;PreludeCondensedWGL Light;PreludeCondensedWGL Medium;PreludeWGL Black;PreludeWGL Bold;PreludeWGL Light;PreludeWGL Medium;Raavi;Rachana;Rockwell;Rod;Sakkal Majalla;Sawasdee;Script MT Bold;Segoe Print;Segoe Script;Segoe UI Light;Segoe UI Semibold;Segoe UI Symbol;Segoe UI;Shonar Bangla;Showcard Gothic;Shruti;SimHei;SimSun;SimSun-ExtB;Simplified Arabic Fixed;Simplified Arabic;Snap ITC;Sylfaen;Symbol;Tahoma;Times New Roman Baltic;Times New Roman CE;Times New Roman CYR;Times New Roman Greek;Times New Roman TUR;Times New Roman;TlwgMono;Traditional Arabic;Trebuchet MS;Tunga;Tw Cen MT Condensed Extra Bold;Ubuntu;Umpush;Univers;Utopia;Utsaah;Vani;Verdana;Vijaya;Vladimir Script;Vrinda;Webdings;Wide Latin;Wingdings".split(";"),t="",r=0;r<e.length;r++)this._fontDetective.detect(e[r])&&(t=r==e.length-1?t+e[r]:t+(e[r]+", "));return t},t.prototype.hasLocalStorage=function(){try{return!!e.localStorage}catch(e){return!0}},t.prototype.hasSessionStorage=function(){try{return!!e.sessionStorage}catch(e){return!0}},t.prototype.hasCookies=function(){return navigator.cookieEnabled},t.prototype.getTimeZone=function(){return String(String(new Date).split("(")[1]).split(")")[0]},t.prototype.getLanguage=function(){return navigator.language},t.prototype.getSystemLanguage=function(){return navigator.systemLanguage},t.prototype.hasCanvas=function(){var e=document.createElement("canvas");try{return!(!e.getContext||!e.getContext("2d"))}catch(e){return!1}},t.prototype.getCanvasPrint=function(e){var t,r=document.createElement("canvas");try{t=r.getContext("2d")}catch(e){return""}return e=e||"ClientJS,org <canvas> 1.0",t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(e,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(e,4,17),r.toDataURL()},t.prototype.getWebGLFingerprint=function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=this.createWebGLCanvas()))return"";var r=[],n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);var i=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),n.itemSize=3,n.numItems=3;var i=e.createProgram(),o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(o);var a=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(a,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(a),e.attachShader(i,o),e.attachShader(i,a),e.linkProgram(i),e.useProgram(i),i.vertexPosAttrib=e.getAttribLocation(i,"attrVertex"),i.offsetUniform=e.getUniformLocation(i,"uniformOffset"),e.enableVertexAttribArray(i.vertexPosArray),e.vertexAttribPointer(i.vertexPosAttrib,n.itemSize,e.FLOAT,!1,0,0),e.uniform2f(i.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,n.numItems),null!=e.canvas&&r.push(e.canvas.toDataURL()),r.push("extensions:"+e.getSupportedExtensions().join(";")),r.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),r.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),r.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),r.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),r.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),r.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),r.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),r.push("webgl max anisotropy:"+function(e){var t,r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return r?(t=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t):null}(e)),r.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),r.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),r.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),r.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),r.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),r.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),r.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),r.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),r.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),r.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),r.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),r.push("webgl red bits:"+e.getParameter(e.RED_BITS)),r.push("webgl renderer:"+e.getParameter(e.RENDERER)),r.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),r.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),r.push("webgl vendor:"+e.getParameter(e.VENDOR)),r.push("webgl version:"+e.getParameter(e.VERSION)),e.getShaderPrecisionFormat?(r.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),r.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),r.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),r.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),r.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),r.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),r.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),r.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),r.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),r.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),r.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),r.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),r.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),r.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),r.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),r.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),r.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),r.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),r.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),r.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),r.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),r.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),r.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),r.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),r.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),r.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),r.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),r.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),r.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),r.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),r.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),r.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),r.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),r.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),r.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),r.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax)):"undefined"==typeof NODEBUG&&console.log("This browser does not support getShaderPrecisionFormat. Ignoring it."),r.join("|")},t.prototype.getGraphicsDriverInfo=function(){return this.getGraphicsDriverVendor()+" "+this.getGraphicsDriverRenderer()},t.prototype.getGraphicsDriverVendor=function(){var e=this.createWebglCanvas();if(!e)return"";var t=e.getExtension("WEBGL_debug_renderer_info");return t?e.getParameter(t.UNMASKED_VENDOR_WEBGL):""},t.prototype.getGraphicsDriverRenderer=function(){var e=this.createWebglCanvas();if(!e)return"";var t=e.getExtension("WEBGL_debug_renderer_info");return t?e.getParameter(t.UNMASKED_RENDERER_WEBGL):""},t.prototype.createWebGLCanvas=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},t.prototype.getMediaDevices=function(e){var t="";navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(r){r.forEach(function(e){t+=e.kind+":"+e.label+e.groudId+"#"+e.deviceId+";"}),e(t)}).catch(function(e){console.log(e.name+": "+error.message)}):e(t)},t.prototype._ipAddressesFilter=function(e){0==this.filters.ipAddresses?e(""):this.getIPAddresses(function(t){e(t?t.publicAddr+"|"+t.localAddr+"|"+t.ipv6+"|":null)})},e.ClientJS=t}(window),function(){function e(e,t){if(e===t)return 0;if(0===e.length)return t.length;if(0===t.length)return e.length;var r,n,i,o,a,s=Array(t.length+1);for(i=0;i<s.length;++i)s[i]=i;for(i=0;i<e.length;++i){for(n=i+1,o=0;o<t.length;++o)r=n,n=s[o]+(e.charAt(i)===t.charAt(o)?0:1),a=r+1,n>a&&(n=a),a=s[o+1]+1,n>a&&(n=a),s[o]=r;s[o]=n}return n}function b(){this.c=this.z=this.y=this.x=0,this.window=Array(7)}function a(e,t){for(var r=["",""],n=671226215,i=671226215,o=new b,a=0,s=e.length;a<s;a++)n=(16777619*n^e[a])>>>0,i=(16777619*i^e[a])>>>0,o.update(e[a]),a!==s-1&&o.sum()%t!=t-1||(r[0]+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n),n=671226215),a!==s-1&&o.sum()%(2*t)!=2*t-1||(r[1]+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&i),i=671226215);return r}function r(t,r){return 100*(1-e(t,r)/Math.max(t.length,r.length))}var o={},s=!1;void 0!==t&&t.exports?n=t.exports=o:(this.ctph=o,s=!0),b.prototype.update=function(e){this.y-=this.x,this.y+=7*e,this.x+=e,this.x-=this.window[this.c%7]||0,this.window[this.c%7]=e,this.c++,this.z=this.z<<5>>>0,this.z=(this.z^e)>>>0},b.prototype.sum=function(){return this.x+this.y+this.z>>>0},o.digest=function(e){if("string"==typeof e)if(s){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));e=t}else e=new i(e).toJSON();for(t=Math.ceil(Math.log(e.length/192)/Math.log(2)),t=Math.max(3,t),r=a(e,3<<t);0<t&&32>r[0].length;)r=a(e,3<<--t);return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)+":"+r[0]+":"+r[1]},o.similarity=function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(0)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(0));return n>i?arguments.callee(t,e):1<Math.abs(n-i)?0:n===i?r(e.split(":")[1],t.split(":")[1]):r(e.split(":")[2],t.split(":")[1])}}();var o=function(){function e(e){i.debug&&(console.log?console.log(e):alert(e))}function b(e){return null==e||0==e.length?"http://java.com/dt-redirect":("&"==e.charAt(0)&&(e=e.substring(1,e.length)),"http://java.com/dt-redirect?"+e)}var t=["id","class","title","style"];"classid codebase codetype data type archive declare standby height width usemap name tabindex align border hspace vspace".split(" ").concat(t,["lang","dir"],"onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onkeypress onkeydown onkeyup".split(" "));var r,n="codebase code name archive object width height alt align hspace vspace".split(" ").concat(t);try{r=-1!=document.location.protocol.indexOf("http")?"//java.com/js/webstart.png":"http://java.com/js/webstart.png"}catch(e){r="http://java.com/js/webstart.png"}var i={debug:null,version:"20120801",firefoxJavaVersion:null,myInterval:null,preInstallJREList:null,returnPage:null,brand:null,locale:null,installType:null,EAInstallEnabled:!1,EarlyAccessURL:null,oldMimeType:"application/npruntime-scriptable-plugin;DeploymentToolkit",mimeType:"application/java-deployment-toolkit",launchButtonPNG:r,browserName:null,browserName2:null,getJREs:function(){var t=[];if(this.isPluginInstalled())for(var r=this.getPlugin().jvms,n=0;n<r.getLength();n++)t[n]=r.get(n).version;else r=this.getBrowser(),"MSIE"==r?this.testUsingActiveX("1.7.0")?t[0]="1.7.0":this.testUsingActiveX("1.6.0")?t[0]="1.6.0":this.testUsingActiveX("1.5.0")?t[0]="1.5.0":this.testUsingActiveX("1.4.2")?t[0]="1.4.2":this.testForMSVM()&&(t[0]="1.1"):"Netscape Family"==r&&(this.getJPIVersionUsingMimeType(),null!=this.firefoxJavaVersion?t[0]=this.firefoxJavaVersion:this.testUsingMimeTypes("1.7")?t[0]="1.7.0":this.testUsingMimeTypes("1.6")?t[0]="1.6.0":this.testUsingMimeTypes("1.5")?t[0]="1.5.0":this.testUsingMimeTypes("1.4.2")?t[0]="1.4.2":"Safari"==this.browserName2&&(this.testUsingPluginsArray("1.7.0")?t[0]="1.7.0":this.testUsingPluginsArray("1.6")?t[0]="1.6.0":this.testUsingPluginsArray("1.5")?t[0]="1.5.0":this.testUsingPluginsArray("1.4.2")&&(t[0]="1.4.2")));if(this.debug)for(n=0;n<t.length;++n)e("[getJREs()] We claim to have detected Java SE "+t[n]);return t},installJRE:function(e,t){if(this.isPluginInstalled()&&this.isAutoInstallEnabled(e)){var r=!1;return(r=this.isCallbackSupported()?this.getPlugin().installJRE(e,t):this.getPlugin().installJRE(e))&&(this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)),r}return this.installLatestJRE()},isAutoInstallEnabled:function(e){if(!this.isPluginInstalled())return!1;if(void 0===e&&(e=null),"MSIE"!=o.browserName||o.compareVersionToPattern(o.getPlugin().version,["10","0","0"],!1,!0))e=!0;else if(null==e)e=!1;else{var t="1.6.0_33+";if(null==t||0==t.length)e=!0;else{var r=t.charAt(t.length-1);if("+"!=r&&"*"!=r&&-1!=t.indexOf("_")&&"_"!=r&&(t+="*",r="*"),t=t.substring(0,t.length-1),0<t.length){var n=t.charAt(t.length-1);"."!=n&&"_"!=n||(t=t.substring(0,t.length-1))}e="*"==r?0==e.indexOf(t):"+"==r&&t<=e}e=!e}return e},isCallbackSupported:function(){return this.isPluginInstalled()&&this.compareVersionToPattern(this.getPlugin().version,["10","2","0"],!1,!0)},installLatestJRE:function(e){if(this.isPluginInstalled()&&this.isAutoInstallEnabled()){var t=!1;return(t=this.isCallbackSupported()?this.getPlugin().installLatestJRE(e):this.getPlugin().installLatestJRE())&&(this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)),t}if(e=this.getBrowser(),t=navigator.platform.toLowerCase(),"true"==this.EAInstallEnabled&&-1!=t.indexOf("win")&&null!=this.EarlyAccessURL)this.preInstallJREList=this.getJREs(),null!=this.returnPage&&(this.myInterval=setInterval("deployJava.poll()",3e3)),location.href=this.EarlyAccessURL;else{if("MSIE"==e)return this.IEInstall();if("Netscape Family"==e&&-1!=t.indexOf("win32"))return this.FFInstall();location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""))}return!1},runApplet:function(t,r,n){"undefined"!=n&&null!=n||(n="1.1");var i=n.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");null==this.returnPage&&(this.returnPage=document.location),null!=i?"?"!=this.getBrowser()?this.versionCheck(n+"+")?this.writeAppletTag(t,r):this.installJRE(n+"+")&&(this.refresh(),location.href=document.location,this.writeAppletTag(t,r)):this.writeAppletTag(t,r):e("[runApplet()] Invalid minimumVersion argument to runApplet():"+n)},writeAppletTag:function(e,t){var r="<applet ",i="",o=!0;null!=t&&"object"==typeof t||(t={});for(var a in e){var s;e:{s=a.toLowerCase();for(var c=n.length,u=0;u<c;u++)if(n[u]===s){s=!0;break e}s=!1}s?(r+=" "+a+'="'+e[a]+'"',"code"==a&&(o=!1)):t[a]=e[a]}a=!1;for(var l in t)"codebase_lookup"==l&&(a=!0),"object"!=l&&"java_object"!=l&&"java_code"!=l||(o=!1),i+='<param name="'+l+'" value="'+t[l]+'"/>';a||(i+='<param name="codebase_lookup" value="false"/>'),o&&(r+=' code="dummy"'),document.write(r+">\n"+i+"\n</applet>")},versionCheck:function(t){var r=0,n=t.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?(\\*|\\+)?$");if(null!=n){for(var i=t=!1,o=[],a=1;a<n.length;++a)"string"==typeof n[a]&&""!=n[a]&&(o[r]=n[a],r++);for("+"==o[o.length-1]?(i=!0,t=!1,o.length--):"*"==o[o.length-1]?(i=!1,t=!0,o.length--):4>o.length&&(i=!1,t=!0),r=this.getJREs(),a=0;a<r.length;++a)if(this.compareVersionToPattern(r[a],o,t,i))return!0}else r="Invalid versionPattern passed to versionCheck: "+t,e("[versionCheck()] "+r),alert(r);return!1},isWebStartInstalled:function(t){if("?"==this.getBrowser())return!0;"undefined"!=t&&null!=t||(t="1.4.2");var r=!1;return null!=t.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$")?r=this.versionCheck(t+"+"):(e("[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): "+t),r=this.versionCheck("1.4.2+")),r},getJPIVersionUsingMimeType:function(){for(var e=0;e<navigator.mimeTypes.length;++e){var t=navigator.mimeTypes[e].type.match(/^application\/x-java-applet;jpi-version=(.*)$/);if(null!=t&&(this.firefoxJavaVersion=t[1],"Opera"!=this.browserName2))break}},launchWebStartApplication:function(e){if(navigator.userAgent.toLowerCase(),this.getJPIVersionUsingMimeType(),0==this.isWebStartInstalled("1.7.0")&&(0==this.installJRE("1.7.0+")||0==this.isWebStartInstalled("1.7.0")))return!1;var t=null;document.documentURI&&(t=document.documentURI),null==t&&(t=document.URL);var r,n=this.getBrowser();"MSIE"==n?r='<object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width="0" height="0"><PARAM name="launchjnlp" value="'+e+'"><PARAM name="docbase" value="'+t+'"></object>':"Netscape Family"==n&&(r='<embed type="application/x-java-applet;jpi-version='+this.firefoxJavaVersion+'" width="0" height="0" launchjnlp="'+e+'"docbase="'+t+'" />'),"undefined"==document.body||null==document.body?(document.write(r),document.location=t):(e=document.createElement("div"),e.id="div1",e.style.position="relative",e.style.left="-10000px",e.style.margin="0px auto",e.className="dynamicDiv",e.innerHTML=r,document.body.appendChild(e))},createWebStartLaunchButtonEx:function(e,t){null==this.returnPage&&(this.returnPage=e),document.write("<a href=\"javascript:deployJava.launchWebStartApplication('"+e+'\');" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},createWebStartLaunchButton:function(e,t){null==this.returnPage&&(this.returnPage=e),document.write('<a href="javascript:if (!deployJava.isWebStartInstalled(&quot;'+t+"&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;"+e+"&quot;)) {}}} else {if (deployJava.launch(&quot;"+e+'&quot;)) {}}" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},launch:function(e){return document.location=e,!0},isPluginInstalled:function(){var e=this.getPlugin();return!(!e||!e.jvms)},isAutoUpdateEnabled:function(){return!!this.isPluginInstalled()&&this.getPlugin().isAutoUpdateEnabled()},setAutoUpdateEnabled:function(){return!!this.isPluginInstalled()&&this.getPlugin().setAutoUpdateEnabled()},setInstallerType:function(e){return this.installType=e,!!this.isPluginInstalled()&&this.getPlugin().setInstallerType(e)},setAdditionalPackages:function(e){return!!this.isPluginInstalled()&&this.getPlugin().setAdditionalPackages(e)},setEarlyAccess:function(e){this.EAInstallEnabled=e},isPlugin2:function(){if(this.isPluginInstalled()&&this.versionCheck("1.6.0_10+"))try{return this.getPlugin().isPlugin2()}catch(e){}return!1},allowPlugin:function(){return this.getBrowser(),"Safari"!=this.browserName2&&"Opera"!=this.browserName2},getPlugin:function(){this.refresh();var e=null;return this.allowPlugin()&&(e=document.getElementById("deployJavaPlugin")),e},compareVersionToPattern:function(e,t,r,n){if(void 0==e||void 0==t)return!1;var i=e.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");if(null!=i){var o=0;e=[];for(var a=1;a<i.length;++a)"string"==typeof i[a]&&""!=i[a]&&(e[o]=i[a],o++);if(i=Math.min(e.length,t.length),n){for(a=0;a<i;++a){if(e[a]<t[a])return!1;if(e[a]>t[a])break}return!0}for(a=0;a<i;++a)if(e[a]!=t[a])return!1;return!!r||e.length==t.length}return!1},getBrowser:function(){if(null==this.browserName){var t=navigator.userAgent.toLowerCase();e("[getBrowser()] navigator.userAgent.toLowerCase() -> "+t),-1!=t.indexOf("msie")&&-1==t.indexOf("opera")?this.browserName2=this.browserName="MSIE":-1!=t.indexOf("iphone")?(this.browserName="Netscape Family",this.browserName2="iPhone"):-1!=t.indexOf("firefox")&&-1==t.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Firefox"):-1!=t.indexOf("chrome")?(this.browserName="Netscape Family",this.browserName2="Chrome"):-1!=t.indexOf("safari")?(this.browserName="Netscape Family",this.browserName2="Safari"):-1!=t.indexOf("mozilla")&&-1==t.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Other"):-1!=t.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Opera"):(this.browserName="?",this.browserName2="unknown"),e("[getBrowser()] Detected browser name:"+this.browserName+", "+this.browserName2)}return this.browserName},testUsingActiveX:function(t){if(t="JavaWebStart.isInstalled."+t+".0","undefined"==typeof ActiveXObject||!ActiveXObject)return e("[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?"),!1;try{return null!=new ActiveXObject(t)}catch(e){return!1}},testForMSVM:function(){if("undefined"!=typeof oClientCaps){var e=oClientCaps.getComponentVersion("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}","ComponentID");return""!=e&&"5,0,5000,0"!=e}return!1},testUsingMimeTypes:function(t){if(!navigator.mimeTypes)return e("[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?"),!1;for(var r=0;r<navigator.mimeTypes.length;++r){s=navigator.mimeTypes[r].type;var n=s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);if(null!=n&&this.compareVersions(n[1],t))return!0}return!1},testUsingPluginsArray:function(e){if(!navigator.plugins||!navigator.plugins.length)return!1;for(var t=navigator.platform.toLowerCase(),r=0;r<navigator.plugins.length;++r)if(s=navigator.plugins[r].description,-1!=s.search(/^Java Switchable Plug-in (Cocoa)/)){if(this.compareVersions("1.5.0",e))return!0}else if(-1!=s.search(/^Java/)&&-1!=t.indexOf("win")&&(this.compareVersions("1.5.0",e)||this.compareVersions("1.6.0",e)))return!0;return!!this.compareVersions("1.5.0",e)},IEInstall:function(){return location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")),!1},done:function(e,t){},FFInstall:function(){return location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")+(null!=this.installType?"&type="+this.installType:"")),!1},compareVersions:function(e,t){for(var r=e.split("."),n=t.split("."),i=0;i<r.length;++i)r[i]=Number(r[i]);for(i=0;i<n.length;++i)n[i]=Number(n[i]);return 2==r.length&&(r[2]=0),r[0]>n[0]||!(r[0]<n[0])&&(r[1]>n[1]||!(r[1]<n[1])&&(r[2]>n[2]||!(r[2]<n[2])))},enableAlerts:function(){this.browserName=null,this.debug=!0},poll:function(){this.refresh();var e=this.getJREs();0==this.preInstallJREList.length&&0!=e.length&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage)),0!=this.preInstallJREList.length&&0!=e.length&&this.preInstallJREList[0]!=e[0]&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage))},writePluginTag:function(){var e=this.getBrowser();"MSIE"==e?document.write('<object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" id="deployJavaPlugin" width="0" height="0"></object>'):"Netscape Family"==e&&this.allowPlugin()&&this.writeEmbedTag()},refresh:function(){navigator.plugins.refresh(!1),"Netscape Family"==this.getBrowser()&&this.allowPlugin()&&null==document.getElementById("deployJavaPlugin")&&this.writeEmbedTag()},writeEmbedTag:function(){var e=!1;if(null!=navigator.mimeTypes){for(var t=0;t<navigator.mimeTypes.length;t++)navigator.mimeTypes[t].type==this.mimeType&&navigator.mimeTypes[t].enabledPlugin&&(document.write('<embed id="deployJavaPlugin" type="'+this.mimeType+'" hidden="true" />'),e=!0);if(!e)for(t=0;t<navigator.mimeTypes.length;t++)navigator.mimeTypes[t].type==this.oldMimeType&&navigator.mimeTypes[t].enabledPlugin&&document.write('<embed id="deployJavaPlugin" type="'+this.oldMimeType+'" hidden="true" />')}}};if(i.writePluginTag(),null==i.locale){if(null==(t=null))try{t=navigator.userLanguage}catch(e){}if(null==t)try{t=navigator.systemLanguage}catch(e){}if(null==t)try{t=navigator.language}catch(e){}null!=t&&(t.replace("-","_"),i.locale=t)}return i}(),u=function(){var e=["monospace","sans-serif","serif"],t=document.getElementsByTagName("body")[0],r=document.createElement("span");r.style.fontSize="72px",r.innerHTML="mmmmmmmmmmlli";var n,i={},o={};for(n in e)r.style.fontFamily=e[n],t.appendChild(r),i[e[n]]=r.offsetWidth,o[e[n]]=r.offsetHeight,t.removeChild(r);this.detect=function(n){var a,s=!1;for(a in e){r.style.fontFamily=n+","+e[a],t.appendChild(r);var c=r.offsetWidth!=i[e[a]]||r.offsetHeight!=o[e[a]];t.removeChild(r),s=s||c}return s}},m=function(){function e(){if(!A){try{var e=E.getElementsByTagName("body")[0].appendChild(E.createElement("span"));e.parentNode.removeChild(e)}catch(e){return}A=!0;for(var e=x.length,t=0;t<e;t++)x[t]()}}function b(e){A?e():x[x.length]=e}function a(e){if(void 0!==_.addEventListener)_.addEventListener("load",e,!1);else if(void 0!==E.addEventListener)E.addEventListener("load",e,!1);else if(void 0!==_.attachEvent)w(_,"onload",e);else if("function"==typeof _.onload){var t=_.onload;_.onload=function(){t(),e()}}else _.onload=e}function r(){var e=E.getElementsByTagName("body")[0],t=E.createElement("object");t.setAttribute("type","application/x-shockwave-flash");var r=e.appendChild(t);if(r){var n=0;!function(){if(void 0!==r.GetVariable){var i=r.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),T.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(10>n)return n++,void setTimeout(arguments.callee,10);e.removeChild(t),r=null,c()}()}else c()}function c(){var e=P.length;if(0<e)for(var t=0;t<e;t++){var r=P[t].id,n=P[t].callbackFn,i={success:!1,id:r};if(0<T.pv[0]){var o=l(r);if(o)if(!y(P[t].swfVersion)||T.wk&&312>T.wk)if(P[t].expressInstall&&f()){i={},i.data=P[t].expressInstall,i.width=o.getAttribute("width")||"0",i.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(i.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(i.align=o.getAttribute("align"));for(var a={},o=o.getElementsByTagName("param"),s=o.length,c=0;c<s;c++)"movie"!=o[c].getAttribute("name").toLowerCase()&&(a[o[c].getAttribute("name")]=o[c].getAttribute("value"));k(i,a,r,n)}else p(o),n&&n(i);else B(r,!0),n&&(i.success=!0,i.ref=d(r),n(i))}else B(r,!0),n&&((r=d(r))&&void 0!==r.SetVariable&&(i.success=!0,i.ref=r),n(i))}}function d(e){var t=null;return(e=l(e))&&"OBJECT"==e.nodeName&&(void 0!==e.SetVariable?t=e:(e=e.getElementsByTagName("object")[0])&&(t=e)),t}function f(){return!M&&y("6.0.65")&&(T.win||T.mac)&&!(T.wk&&312>T.wk)}function k(e,t,r,a){M=!0,o=a||null,s={success:!1,id:r};var c=l(r);c&&("OBJECT"==c.nodeName?(n=q(c),i=null):(n=c,i=r),e.id="SWFObjectExprInst",(void 0===e.width||!/%$/.test(e.width)&&310>parseInt(e.width,10))&&(e.width="310"),(void 0===e.height||!/%$/.test(e.height)&&137>parseInt(e.height,10))&&(e.height="137"),E.title=E.title.slice(0,47)+" - Flash Player Installation",a=T.ie&&T.win?"ActiveX":"PlugIn",a="MMredirectURL="+_.location.toString().replace(/&/g,"%26")+"&MMplayerType="+a+"&MMdoctitle="+E.title,t.flashvars=void 0!==t.flashvars?t.flashvars+"&"+a:a,T.ie&&T.win&&4!=c.readyState&&(a=E.createElement("div"),r+="SWFObjectNew",a.setAttribute("id",r),c.parentNode.insertBefore(a,c),c.style.display="none",function(){4==c.readyState?c.parentNode.removeChild(c):setTimeout(arguments.callee,10)}()),h(e,t,r))}function p(e){if(T.ie&&T.win&&4!=e.readyState){var t=E.createElement("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(q(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(q(e),e)}function q(e){var t=E.createElement("div");if(T.win&&T.ie)t.innerHTML=e.innerHTML;else if((e=e.getElementsByTagName("object")[0])&&(e=e.childNodes))for(var r=e.length,n=0;n<r;n++)1==e[n].nodeType&&"PARAM"==e[n].nodeName||8==e[n].nodeType||t.appendChild(e[n].cloneNode(!0));return t}function h(e,t,r){var n,i=l(r);if(T.wk&&312>T.wk)return n;if(i)if(void 0===e.id&&(e.id=r),T.ie&&T.win){var o,a="";for(o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?a+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(a+=" "+o+'="'+e[o]+'"'));o="";for(var s in t)t[s]!=Object.prototype[s]&&(o+='<param name="'+s+'" value="'+t[s]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+o+"</object>",R[R.length]=e.id,n=l(e.id)}else{s=E.createElement("object"),s.setAttribute("type","application/x-shockwave-flash");for(var c in e)e[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?s.setAttribute("class",e[c]):"classid"!=c.toLowerCase()&&s.setAttribute(c,e[c]));for(a in t)t[a]!=Object.prototype[a]&&"movie"!=a.toLowerCase()&&(e=s,o=a,c=t[a],r=E.createElement("param"),r.setAttribute("name",o),r.setAttribute("value",c),e.appendChild(r));i.parentNode.replaceChild(s,i),n=s}return n}function g(e){var t=l(e);t&&"OBJECT"==t.nodeName&&(T.ie&&T.win?(t.style.display="none",function(){if(4==t.readyState){var r=l(e);if(r){for(var n in r)"function"==typeof r[n]&&(r[n]=null);r.parentNode.removeChild(r)}}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function l(e){var t=null;try{t=E.getElementById(e)}catch(e){}return t}function w(e,t,r){e.attachEvent(t,r),O[O.length]=[e,t,r]}function y(e){var t=T.pv;return e=e.split("."),e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10)||0,e[2]=parseInt(e[2],10)||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]}function t(e,t,r,n){if(!T.ie||!T.mac){var i=E.getElementsByTagName("head")[0];i&&(r=r&&"string"==typeof r?r:"screen",n&&(v=u=null),u&&v==r||(n=E.createElement("style"),n.setAttribute("type","text/css"),n.setAttribute("media",r),u=i.appendChild(n),T.ie&&T.win&&void 0!==E.styleSheets&&0<E.styleSheets.length&&(u=E.styleSheets[E.styleSheets.length-1]),v=r),T.ie&&T.win?u&&"object"==typeof u.addRule&&u.addRule(e,t):u&&void 0!==E.createTextNode&&u.appendChild(E.createTextNode(e+" {"+t+"}")))}}function B(e,r){if(I){var n=r?"visible":"hidden";A&&l(e)?l(e).style.visibility=n:t("#"+e,"visibility:"+n)}}function N(e){return null!=/[\\\"<>\.;]/.exec(e)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(e):e}var n,i,o,s,u,v,_=window,E=document,S=navigator,C=!1,x=[function(){C?r():c()}],P=[],R=[],O=[],A=!1,M=!1,I=!0,T=function(){var e=void 0!==E.getElementById&&void 0!==E.getElementsByTagName&&void 0!==E.createElement,t=S.userAgent.toLowerCase(),r=S.platform.toLowerCase(),n=/win/.test(r?r:t),r=/mac/.test(r?r:t),t=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),i=!1,o=[0,0,0],a=null;if(void 0!==S.plugins&&"object"==typeof S.plugins["Shockwave Flash"])!(a=S.plugins["Shockwave Flash"].description)||void 0!==S.mimeTypes&&S.mimeTypes["application/x-shockwave-flash"]&&!S.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(C=!0,i=!1,a=a.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(a.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(a.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(a)?parseInt(a.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(void 0!==_.ActiveXObject)try{var s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");s&&(a=s.GetVariable("$version"))&&(i=!0,a=a.split(" ")[1].split(","),o=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}catch(e){}return{w3:e,pv:o,wk:t,ie:i,win:n,mac:r}}();return function(){T.w3&&((void 0!==E.readyState&&"complete"==E.readyState||void 0===E.readyState&&(E.getElementsByTagName("body")[0]||E.body))&&e(),A||(void 0!==E.addEventListener&&E.addEventListener("DOMContentLoaded",e,!1),T.ie&&T.win&&(E.attachEvent("onreadystatechange",function(){"complete"==E.readyState&&(E.detachEvent("onreadystatechange",arguments.callee),e())}),_==top&&function(){if(!A){try{E.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e()}}()),T.wk&&function(){A||(/loaded|complete/.test(E.readyState)?e():setTimeout(arguments.callee,0))}(),a(e)))}(),function(){T.ie&&T.win&&window.attachEvent("onunload",function(){for(var e=O.length,t=0;t<e;t++)O[t][0].detachEvent(O[t][1],O[t][2]);for(e=R.length,t=0;t<e;t++)g(R[t]);for(var r in T)T[r]=null;T=null;for(var n in m)m[n]=null;m=null})}(),{registerObject:function(e,t,r,n){if(T.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=r,i.callbackFn=n,P[P.length]=i,B(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){if(T.w3)return d(e)},embedSWF:function(e,t,r,n,i,o,a,s,c,u){var l={success:!1,id:t};T.w3&&!(T.wk&&312>T.wk)&&e&&t&&r&&n&&i?(B(t,!1),b(function(){r+="",n+="";var d={};if(c&&"object"==typeof c)for(var p in c)d[p]=c[p];if(d.data=e,d.width=r,d.height=n,p={},s&&"object"==typeof s)for(var m in s)p[m]=s[m];if(a&&"object"==typeof a)for(var g in a)p.flashvars=void 0!==p.flashvars?p.flashvars+"&"+g+"="+a[g]:g+"="+a[g];if(y(i))m=h(d,p,t),d.id==t&&B(t,!0),l.success=!0,l.ref=m;else{if(o&&f())return d.data=o,void k(d,p,t,u);B(t,!0)}u&&u(l)})):u&&u(l)},switchOffAutoHideShow:function(){I=!1},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(e,t,r){if(T.w3)return h(e,t,r)},showExpressInstall:function(e,t,r,n){T.w3&&f()&&k(e,t,r,n)},removeSWF:function(e){T.w3&&g(e)},createCSS:function(e,r,n,i){T.w3&&t(e,r,n,i)},addDomLoadEvent:b,addLoadEvent:a,getQueryParamValue:function(e){var t=E.location.search||E.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return N(t);for(var t=t.split("&"),r=0;r<t.length;r++)if(t[r].substring(0,t[r].indexOf("="))==e)return N(t[r].substring(t[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(M){var e=l("SWFObjectExprInst");e&&n&&(e.parentNode.replaceChild(n,e),i&&(B(i,!0),T.ie&&T.win&&(n.style.display="block")),o&&o(s)),M=!1}}}}();!function(e,r){var i={extend:function(e,t){for(var r in t)-1!=="browser cpu device engine os".indexOf(r)&&0==t[r].length%2&&(e[r]=t[r].concat(e[r]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.split(".")[0]:r}},o=function(){for(var e,t,n,i,o,a,s,c=0,u=arguments;c<u.length&&!a;){var l=u[c],f=u[c+1];if(void 0===e)for(i in e={},f)f.hasOwnProperty(i)&&(o=f[i],"object"==typeof o?e[o[0]]=r:e[o]=r);for(t=n=0;t<l.length&&!a;)if(a=l[t++].exec(this.getUA()))for(i=0;i<f.length;i++)s=a[++n],o=f[i],"object"==typeof o&&0<o.length?2==o.length?e[o[0]]="function"==typeof o[1]?o[1].call(this,s):o[1]:3==o.length?e[o[0]]="function"!=typeof o[1]||o[1].exec&&o[1].test?s?s.replace(o[1],o[2]):r:s?o[1].call(this,s,o[2]):r:4==o.length&&(e[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):r):e[o]=s||r;c+=2}return e},a=function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var o=0;o<t[n].length;o++)if(i.has(t[n][o],e))return"?"===n?r:n}else if(i.has(t[n],e))return"?"===n?r:n;return e},s={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},c={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(OPiOS)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],["version",["name","Android Browser"]],[/FBAV\/([\w\.]+);/i],["version",["name","Facebook"]],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",a,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",i.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",i.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",i.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",a,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[["vendor","Sony"],["model","Xperia Phone"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",a,{HTC:"APA",Sprint:"Sprint"}],["model",a,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(samsung);smarttv/i],["vendor","model",["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[["type",i.lowerize],"vendor","model"]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",a,s]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",a,s]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},u=function(t,r){if(!(this instanceof u))return new u(t,r).getResult();var n=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),a=r?i.extend(c,r):c;return this.getBrowser=function(){var e=o.apply(this,a.browser);return e.major=i.major(e.version),e},this.getCPU=function(){return o.apply(this,a.cpu)},this.getDevice=function(){return o.apply(this,a.device)},this.getEngine=function(){return o.apply(this,a.engine)},this.getOS=function(){return o.apply(this,a.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n),this};u.VERSION="0.7.10",u.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"},u.CPU={ARCHITECTURE:"architecture"},u.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"},u.ENGINE={NAME:"name",VERSION:"version"},u.OS={NAME:"name",VERSION:"version"},void 0!==t&&t.exports&&(n=t.exports=u),n.UAParser=u;var l=e.jQuery||e.Zepto;if(void 0!==l){var f=new u;l.ua=f.getResult(),l.ua.get=function(){return f.getUA()},l.ua.set=function(e){f.setUA(e),e=f.getResult();for(var t in e)l.ua[t]=e[t]}}}("object"==typeof window?window:this)}).call(n,i(0).Buffer)},function(e,t,r){function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){(function(t){function ECDH(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(e,r,n){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(n&&i.length<n){var o=new t(n-i.length);o.fill(0),i=t.concat([o,i])}return r?i.toString(r):i}var n=r(10),i=r(6);e.exports=function(e){return new ECDH(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,ECDH.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},ECDH.prototype.computeSecret=function(e,r,n){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),formatReturnValue(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),formatReturnValue(r,e)},ECDH.prototype.getPrivateKey=function(e){return formatReturnValue(this.keys.getPrivate(),e)},ECDH.prototype.setPublicKey=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.keys._importPublic(e),this},ECDH.prototype.setPrivateKey=function(e,r){r=r||"utf8",t.isBuffer(e)||(e=new t(e,r));var n=new i(e);return n=n.toString(16),this.keys._importPrivate(n),this}}).call(t,r(0).Buffer)},function(e,t,r){"use strict";(function(e){function toArray(t,i){if(t.length%r!=0){var o=t.length+(r-t.length%r);t=e.concat([t,n],o)}for(var a=[],s=i?t.readInt32BE:t.readInt32LE,c=0;c<t.length;c+=r)a.push(s.call(t,c));return a}function toBuffer(t,r,n){for(var i=new e(r),o=n?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)o.call(i,t[a],4*a,!0);return i}function hash(t,r,n,o){return e.isBuffer(t)||(t=new e(t)),toBuffer(r(toArray(t,o),t.length*i),n,o)}var r=4,n=new e(r);n.fill(0);var i=8;t.hash=hash}).call(t,r(0).Buffer)},function(e,t,r){function hmac(e,t,r){n.isBuffer(t)||(t=new n(t)),n.isBuffer(r)||(r=new n(r)),t.length>u?t=e(t):t.length<u&&(t=n.concat([t,l],u));for(var i=new n(u),o=new n(u),a=0;a<u;a++)i[a]=54^t[a],o[a]=92^t[a];var s=e(n.concat([i,r]));return e(n.concat([o,s]))}function hash(e,t){e=e||"sha1";var r=c[e],i=[],o=0;return r||error("algorithm:",e,"is not yet supported"),{update:function(e){return n.isBuffer(e)||(e=new n(e)),i.push(e),o+=e.length,this},digest:function(e){var o=n.concat(i),a=t?hmac(r,t,o):r(o);return i=null,e?a.toString(e):a}}}function error(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var n=r(0).Buffer,i=r(323),o=r(324),a=r(322),s=r(321),c={sha1:i,sha256:o,md5:s},u=64,l=new n(u);l.fill(0),t.createHash=function(e){return hash(e)},t.createHmac=function(e,t){return hash(e,t)},t.randomBytes=function(e,t){if(!t||!t.call)return new n(a(e));try{t.call(this,void 0,new n(a(e)))}catch(e){t(e)}},function(e,t){for(var r in e)t(e[r],r)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){t[e]=function(){error("sorry,",e,"is not implemented yet")}})},function(e,t,r){function core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,c=n,u=i,l=o;r=md5_ff(r,n,i,o,e[a+0],7,-680876936),o=md5_ff(o,r,n,i,e[a+1],12,-389564586),i=md5_ff(i,o,r,n,e[a+2],17,606105819),n=md5_ff(n,i,o,r,e[a+3],22,-1044525330),r=md5_ff(r,n,i,o,e[a+4],7,-176418897),o=md5_ff(o,r,n,i,e[a+5],12,1200080426),i=md5_ff(i,o,r,n,e[a+6],17,-1473231341),n=md5_ff(n,i,o,r,e[a+7],22,-45705983),r=md5_ff(r,n,i,o,e[a+8],7,1770035416),o=md5_ff(o,r,n,i,e[a+9],12,-1958414417),i=md5_ff(i,o,r,n,e[a+10],17,-42063),n=md5_ff(n,i,o,r,e[a+11],22,-1990404162),r=md5_ff(r,n,i,o,e[a+12],7,1804603682),o=md5_ff(o,r,n,i,e[a+13],12,-40341101),i=md5_ff(i,o,r,n,e[a+14],17,-1502002290),n=md5_ff(n,i,o,r,e[a+15],22,1236535329),r=md5_gg(r,n,i,o,e[a+1],5,-165796510),o=md5_gg(o,r,n,i,e[a+6],9,-1069501632),i=md5_gg(i,o,r,n,e[a+11],14,643717713),n=md5_gg(n,i,o,r,e[a+0],20,-373897302),r=md5_gg(r,n,i,o,e[a+5],5,-701558691),o=md5_gg(o,r,n,i,e[a+10],9,38016083),i=md5_gg(i,o,r,n,e[a+15],14,-660478335),n=md5_gg(n,i,o,r,e[a+4],20,-405537848),r=md5_gg(r,n,i,o,e[a+9],5,568446438),o=md5_gg(o,r,n,i,e[a+14],9,-1019803690),i=md5_gg(i,o,r,n,e[a+3],14,-187363961),n=md5_gg(n,i,o,r,e[a+8],20,1163531501),r=md5_gg(r,n,i,o,e[a+13],5,-1444681467),o=md5_gg(o,r,n,i,e[a+2],9,-51403784),i=md5_gg(i,o,r,n,e[a+7],14,1735328473),n=md5_gg(n,i,o,r,e[a+12],20,-1926607734),r=md5_hh(r,n,i,o,e[a+5],4,-378558),o=md5_hh(o,r,n,i,e[a+8],11,-2022574463),i=md5_hh(i,o,r,n,e[a+11],16,1839030562),n=md5_hh(n,i,o,r,e[a+14],23,-35309556),r=md5_hh(r,n,i,o,e[a+1],4,-1530992060),o=md5_hh(o,r,n,i,e[a+4],11,1272893353),i=md5_hh(i,o,r,n,e[a+7],16,-155497632),n=md5_hh(n,i,o,r,e[a+10],23,-1094730640),r=md5_hh(r,n,i,o,e[a+13],4,681279174),o=md5_hh(o,r,n,i,e[a+0],11,-358537222),i=md5_hh(i,o,r,n,e[a+3],16,-722521979),n=md5_hh(n,i,o,r,e[a+6],23,76029189),r=md5_hh(r,n,i,o,e[a+9],4,-640364487),o=md5_hh(o,r,n,i,e[a+12],11,-421815835),i=md5_hh(i,o,r,n,e[a+15],16,530742520),n=md5_hh(n,i,o,r,e[a+2],23,-995338651),r=md5_ii(r,n,i,o,e[a+0],6,-198630844),o=md5_ii(o,r,n,i,e[a+7],10,1126891415),i=md5_ii(i,o,r,n,e[a+14],15,-1416354905),n=md5_ii(n,i,o,r,e[a+5],21,-57434055),r=md5_ii(r,n,i,o,e[a+12],6,1700485571),o=md5_ii(o,r,n,i,e[a+3],10,-1894986606),i=md5_ii(i,o,r,n,e[a+10],15,-1051523),n=md5_ii(n,i,o,r,e[a+1],21,-2054922799),r=md5_ii(r,n,i,o,e[a+8],6,1873313359),o=md5_ii(o,r,n,i,e[a+15],10,-30611744),i=md5_ii(i,o,r,n,e[a+6],15,-1560198380),n=md5_ii(n,i,o,r,e[a+13],21,1309151649),r=md5_ii(r,n,i,o,e[a+4],6,-145523070),o=md5_ii(o,r,n,i,e[a+11],10,-1120210379),i=md5_ii(i,o,r,n,e[a+2],15,718787259),n=md5_ii(n,i,o,r,e[a+9],21,-343485551),r=safe_add(r,s),n=safe_add(n,c),i=safe_add(i,u),o=safe_add(o,l)}return Array(r,n,i,o)}function md5_cmn(e,t,r,n,i,o){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(n,o)),i),r)}function md5_ff(e,t,r,n,i,o,a){return md5_cmn(t&r|~t&n,e,t,i,o,a)}function md5_gg(e,t,r,n,i,o,a){return md5_cmn(t&n|r&~n,e,t,i,o,a)}function md5_hh(e,t,r,n,i,o,a){return md5_cmn(t^r^n,e,t,i,o,a)}function md5_ii(e,t,r,n,i,o,a){return md5_cmn(r^(t|~n),e,t,i,o,a)}function safe_add(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}var n=r(87);e.exports=function(e){return n.hash(e,core_md5,16)}},function(e,t){!function(){var t,r,n=this;t=function(e){for(var t,t,r=new Array(e),n=0;n<e;n++)0==(3&n)&&(t=4294967296*Math.random()),r[n]=t>>>((3&n)<<3)&255;return r},n.crypto&&crypto.getRandomValues&&(r=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),e.exports=r||t}()},function(e,t,r){function core_sha1(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var r=Array(80),n=1732584193,i=-271733879,o=-1732584194,a=271733878,s=-1009589776,c=0;c<e.length;c+=16){for(var u=n,l=i,f=o,h=a,d=s,p=0;p<80;p++){r[p]=p<16?e[c+p]:rol(r[p-3]^r[p-8]^r[p-14]^r[p-16],1);var y=safe_add(safe_add(rol(n,5),sha1_ft(p,i,o,a)),safe_add(safe_add(s,r[p]),sha1_kt(p)));s=a,a=o,o=rol(i,30),i=n,n=y}n=safe_add(n,u),i=safe_add(i,l),o=safe_add(o,f),a=safe_add(a,h),s=safe_add(s,d)}return Array(n,i,o,a,s)}function sha1_ft(e,t,r,n){return e<20?t&r|~t&n:e<40?t^r^n:e<60?t&r|t&n|r&n:t^r^n}function sha1_kt(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function safe_add(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function rol(e,t){return e<<t|e>>>32-t}var n=r(87);e.exports=function(e){return n.hash(e,core_sha1,20,!0)}},function(e,t,r){var n=r(87),i=function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},o=function(e,t){return e>>>t|e<<32-t},a=function(e,t){return e>>>t},s=function(e,t,r){return e&t^~e&r},c=function(e,t,r){return e&t^e&r^t&r},u=function(e){return o(e,2)^o(e,13)^o(e,22)},l=function(e){return o(e,6)^o(e,11)^o(e,25)},f=function(e){return o(e,7)^o(e,18)^a(e,3)},h=function(e){return o(e,17)^o(e,19)^a(e,10)},d=function(e,t){var r,n,o,a,d,p,y,m,g,v,b,_,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),E=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),S=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var g=0;g<e.length;g+=16){r=E[0],n=E[1],o=E[2],a=E[3],d=E[4],p=E[5],y=E[6],m=E[7];for(var v=0;v<64;v++)S[v]=v<16?e[v+g]:i(i(i(h(S[v-2]),S[v-7]),f(S[v-15])),S[v-16]),b=i(i(i(i(m,l(d)),s(d,p,y)),w[v]),S[v]),_=i(u(r),c(r,n,o)),m=y,y=p,p=d,d=i(a,b),a=o,o=n,n=r,r=i(b,_);E[0]=i(r,E[0]),E[1]=i(n,E[1]),E[2]=i(o,E[2]),E[3]=i(a,E[3]),E[4]=i(d,E[4]),E[5]=i(p,E[5]),E[6]=i(y,E[6]),E[7]=i(m,E[7])}return E};e.exports=function(e){return n.hash(e,d,32,!0)}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Asset=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=_interopRequireDefault(i),a=r(57),s=_interopRequireDefault(a);t.Asset=function(e){function Asset(){_classCallCheck(this,Asset);var e=_possibleConstructorReturn(this,(Asset.__proto__||Object.getPrototypeOf(Asset)).call(this));return e._injectBuildId=Asset.INJECT_BUILD_ID_STATE,e._buildId=null,e}return _inherits(Asset,e),n(Asset,[{key:"boot",value:function(e,t){if(this._buildId=e.buildId,e.isFrontend){let t=[],r=e.microservices;for(let e in r)if(r.hasOwnProperty(e)){let n=r[e];n.isRoot||t.push(this.locate(`@${n.identifier}:bootstrap.js`))}e.container.addParameter(o.default.FRONTEND_BOOTSTRAP_VECTOR,t)}t()}},{key:"locate",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this._resolveIdentifier(e);return`${this.microservice.isRoot?s.default.join(n):s.default.join(this.microservice.toString(),n)}${t}${this._injectBuildId&&this._buildId&&!r?`?_v=${this._buildId}`:""}`}},{key:"locateAbsolute",value:function(){return Asset._baseUrl+s.default.join("/",this.locate.apply(this,arguments))}},{key:"injectBuildId",get:function(){return this._injectBuildId},set:function(e){this._injectBuildId=e}}],[{key:"_baseUrl",get:function(){if(!window||!window.location)return"";let e=window.location;return e.origin||`${e.protocol}://${e.hostname}${e.port?":"+e.port:""}`}},{key:"INJECT_BUILD_ID_STATE",get:function(){return!0}}]),Asset}(o.default.ContainerAware)},function(e,t,r){"use strict";var n=r(325);e.exports=n.Asset},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=_interopRequireDefault(i),a=r(3),s=_interopRequireDefault(a),c=r(158),u=r(337);t.Cache=function(e){function Cache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,Cache);var r=_possibleConstructorReturn(this,(Cache.__proto__||Object.getPrototypeOf(Cache)).call(this));return r._driver=e,r._systemDriver=t,r}return _inherits(Cache,e),n(Cache,[{key:"boot",value:function(e,t){this._driver=this._createCacheDriver(e),this._systemDriver=this._createCacheDriver(e);let r=e.isFrontend?Cache.createDriver("cloud-front",this):Cache.createDriver("s3fs",this);this._shared=new u.SharedCache(r),[this._driver,this._systemDriver,r].forEach(t=>{t.buildId=e.buildId}),this._systemDriver.namespace=Cache.SYSTEM_NAMESPACE,t()}},{key:"_createCacheDriver",value:function(e){return e.isFrontend?Cache.createDriver("local-storage"):e.config.cacheDsn?Cache.createDriver("redis",e.config.cacheDsn):Cache.createDriver("memory")}},{key:"apply",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.apply(void 0,r)}},{key:"shared",get:function(){return this._shared}},{key:"system",get:function(){return this._systemDriver||this._driver}},{key:"service",get:function(){return new s.default.Generic.MethodsProxy(this).proxyOverride(this._driver,"has","get","set","invalidate","flush","type")}},{key:"driver",set:function(e){this._driver=e},get:function(){return this._driver}},{key:"systemDriver",set:function(e){this._systemDriver=e},get:function(){return this._systemDriver}}],[{key:"createDriver",value:function(e){let t=null;switch(e){case"memory":t=r(157).InMemoryDriver;break;case"redis":t=r(335).RedisDriver;break;case"local-storage":t=r(334).LocalStorageDriver,t.isAvailable()||(t=r(157).InMemoryDriver);break;case"s3fs":t=r(336).S3FSDriver;break;case"cloud-front":t=r(328).CloudFrontDriver;break;default:throw new c.Exception(`Missing driver ${e}`)}for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat(i)))}},{key:"SYSTEM_NAMESPACE",get:function(){return"system"}}]),Cache}(o.default.ContainerAware)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CloudFrontDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(156),a=r(330),s=r(159);t.CloudFrontDriver=function(e){function CloudFrontDriver(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.AbstractFsDriver.DEFAULT_DIRECTORY;_classCallCheck(this,CloudFrontDriver);var r=_possibleConstructorReturn(this,(CloudFrontDriver.__proto__||Object.getPrototypeOf(CloudFrontDriver)).call(this,t));return r._containerAware=e,r._cache={},r}return _inherits(CloudFrontDriver,e),n(CloudFrontDriver,[{key:"_type",value:function(){return"CloudFront"}},{key:"_has",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this._get(e,(e,r)=>{t(e,null!==r)})}},{key:"_get",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(this._cache.hasOwnProperty(e)){let r=this._cache[e];if(!(r.expires&&r.expires<o.AbstractFsDriver._now||r.buildId!==this._buildId))return void t(null,this._cache[e].value);delete this._cache[e]}this._request(e,(r,n)=>{if(r)return t(r,null);try{let r=JSON.parse(n);if(r.expires&&r.expires<o.AbstractFsDriver._now||r.buildId!==this._buildId)return void t(null,null);this._cache[e]=r,t(null,r.value)}catch(e){t(null,null)}})}},{key:"_set",value:function(){throw new a.MethodNotAvailableException("set")}},{key:"_invalidate",value:function(){throw new a.MethodNotAvailableException("invalidate")}},{key:"_buildKey",value:function(e){return e instanceof s.SharedKey?this._asset.locate(`@${e.microservice}:${i(CloudFrontDriver.prototype.__proto__||Object.getPrototypeOf(CloudFrontDriver.prototype),"_buildKey",this).call(this,e.toString())}`):this._asset.locate(`@${this._microservice}:${i(CloudFrontDriver.prototype.__proto__||Object.getPrototypeOf(CloudFrontDriver.prototype),"_buildKey",this).call(this,e)}`)}},{key:"_request",value:function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(200!==r.status)return t(r.statusText,null);t(null,r.responseText)}},r.open("GET",e),r.send()}},{key:"_microservice",get:function(){return this._containerAware.container.get("resource").microservice}},{key:"_asset",get:function(){return this._containerAware.container.get("asset")}}]),CloudFrontDriver}(o.AbstractFsDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DriverException=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(46);t.DriverException=function(e){function DriverException(e){_classCallCheck(this,DriverException);var t=_possibleConstructorReturn(this,(DriverException.__proto__||Object.getPrototypeOf(DriverException)).call(this,e));return t._originalException=e instanceof Error?e:new Error(e),t}return _inherits(DriverException,e),n(DriverException,[{key:"originalException",get:function(){return this._originalException}}]),DriverException}(i.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MethodNotAvailableException=void 0;var n=r(46);t.MethodNotAvailableException=function(e){function MethodNotAvailableException(e){return _classCallCheck(this,MethodNotAvailableException),_possibleConstructorReturn(this,(MethodNotAvailableException.__proto__||Object.getPrototypeOf(MethodNotAvailableException)).call(this,`Method '${e}' is not available`))}return _inherits(MethodNotAvailableException,e),MethodNotAvailableException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingCacheException=void 0;var n=r(46);t.MissingCacheException=function(e){function MissingCacheException(e){return _classCallCheck(this,MissingCacheException),_possibleConstructorReturn(this,(MissingCacheException.__proto__||Object.getPrototypeOf(MissingCacheException)).call(this,`Missing key ${e} from cache`))}return _inherits(MissingCacheException,e),MissingCacheException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoFlushException=void 0;var n=r(46);t.NoFlushException=function(e){function NoFlushException(){return _classCallCheck(this,NoFlushException),_possibleConstructorReturn(this,(NoFlushException.__proto__||Object.getPrototypeOf(NoFlushException)).call(this,"Flush is not implemented for this driver"))}return _inherits(NoFlushException,e),NoFlushException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RedisClusterException=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(46);t.RedisClusterException=function(e){function RedisClusterException(e){_classCallCheck(this,RedisClusterException);let t=e instanceof Error?e:null,r=null!==t?t.message:e.toString();var n=_possibleConstructorReturn(this,(RedisClusterException.__proto__||Object.getPrototypeOf(RedisClusterException)).call(this,`Redis cluster operation failed: ${r}`));return n._originalException=t,n}return _inherits(RedisClusterException,e),n(RedisClusterException,[{key:"originalException",get:function(){return this._originalException}}]),RedisClusterException}(i.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(64),o=r(626),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.LocalStorageDriver=function(e){function LocalStorageDriver(){return _classCallCheck(this,LocalStorageDriver),_possibleConstructorReturn(this,(LocalStorageDriver.__proto__||Object.getPrototypeOf(LocalStorageDriver)).call(this))}return _inherits(LocalStorageDriver,e),n(LocalStorageDriver,[{key:"_type",value:function(){return"LocalStorage"}},{key:"_has",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{})(null,LocalStorageDriver._isAlive(a.default.get(e),e))}},{key:"_get",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=a.default.get(e);t(null,LocalStorageDriver._isAlive(r,e)?r.value:null)}},{key:"_set",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},i=r>0?LocalStorageDriver._now+r:null;try{a.default.set(e,{value:t,exd:i}),n(null,!0)}catch(i){this._isQuotaExceededError(i)&&this._flushStale()&&this._set(e,t,r,n),n(i,!1)}}},{key:"_invalidate",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(t<=0)return a.default.remove(e),void r(null,!0);try{let r=a.default.get(e);r.exd=LocalStorageDriver._now+t,a.default.set(e,r)}catch(e){}r(null,!0)}},{key:"_flush",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};a.default.clear(),e(null,!0)}},{key:"_flushStale",value:function(){let e=[];return a.default.forEach((t,r)=>{(this.isDeepKey(t)&&!LocalStorageDriver._isAlive(r,t,!1)||this._getKeyBuildId(t)!==this._buildId)&&e.push(t)}),e.forEach(e=>{a.default.remove(e)}),e.length>0}},{key:"_isQuotaExceededError",value:function(e){return-1!==["QuotaExceededError","QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED"].indexOf(e.name)}}],[{key:"_isAlive",value:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!!e&&(!(e.exd&&e.exd<=LocalStorageDriver._now)||(r&&a.default.remove(t),!1))}},{key:"isAvailable",value:function(){return a.default.enabled}},{key:"_now",get:function(){return parseInt((new Date).getTime()/1e3)}}]),LocalStorageDriver}(i.AbstractDriver)},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RedisDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(64),o=r(333),a=r(662),s=_interopRequireDefault(a),c=r(458),u=_interopRequireDefault(c);t.RedisDriver=function(t){function RedisDriver(e){_classCallCheck(this,RedisDriver);var t=_possibleConstructorReturn(this,(RedisDriver.__proto__||Object.getPrototypeOf(RedisDriver)).call(this));return t._autoDiscoveryError=null,t._client=null,t._autoDiscover(e),t}return _inherits(RedisDriver,t),n(RedisDriver,[{key:"_autoDiscover",value:function(e){let t={endpoints:[e],timeout:RedisDriver.DEFAULT_AUTO_DISCOVERY_TIMEOUT};new u.default(t).fetch((t,r)=>{if(t)this._autoDiscoveryError=t;else{let t={sentinels:[],name:e};r.forEach(e=>{t.sentinels.push(`redis://${e}/`)}),this._client=new this.NATIVE_DRIVER(t)}})}},{key:"clientWait",value:function(t){this._client?t(null,this._client):this._autoDiscoveryError?t(this._autoDiscoveryError,null):setTimeout(()=>{e.nextTick(()=>{this.clientWait(t)})},RedisDriver.CLIENT_WAIT_MS_INTERVAL)}},{key:"_type",value:function(){return"Redis"}},{key:"_has",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this.clientWait((r,n)=>{if(r)return void t(new o.RedisClusterException(r),null);n.exists(e,(e,r)=>{if(e)return void t(new o.RedisClusterException(e),null);t(null,r)})})}},{key:"_get",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this.clientWait((r,n)=>{if(r)return void t(new o.RedisClusterException(r),null);n.get(e,(e,r)=>{if(e)return void t(new o.RedisClusterException(e),null);t(null,r)})})}},{key:"_set",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this.clientWait((i,a)=>{if(i)return void n(new o.RedisClusterException(i),null);a.set(e,t,r,e=>{if(e)return void n(new o.RedisClusterException(e),null);n(null,!0)})})}},{key:"_invalidate",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this.clientWait((n,i)=>{if(n)return void r(new o.RedisClusterException(n),null);i.del(e,t,e=>{if(e)return void r(new o.RedisClusterException(e),null);r(null,!0)})})}},{key:"_flush",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this.clientWait((t,r)=>{if(t)return void e(new o.RedisClusterException(t),null);r.flushall(t=>{if(t)return void e(new o.RedisClusterException(t),null);e(null,!0)})})}},{key:"autoDiscoveryError",get:function(){return this._autoDiscoveryError}},{key:"client",get:function(){return this._client}},{key:"NATIVE_DRIVER",get:function(){return s.default}}],[{key:"CLIENT_WAIT_MS_INTERVAL",get:function(){return 5}},{key:"DEFAULT_AUTO_DISCOVERY_TIMEOUT",get:function(){return 700}}]),RedisDriver}(i.AbstractDriver)}).call(t,r(7))},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.S3FSDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(156);t.S3FSDriver=function(e){function S3FSDriver(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.AbstractFsDriver.DEFAULT_DIRECTORY;_classCallCheck(this,S3FSDriver);var r=_possibleConstructorReturn(this,(S3FSDriver.__proto__||Object.getPrototypeOf(S3FSDriver)).call(this,t));return r._containerAware=e,r}return _inherits(S3FSDriver,e),n(S3FSDriver,[{key:"_type",value:function(){return"S3FS"}},{key:"_has",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this._get(e,(e,r)=>{t(e,null!==r)})}},{key:"_get",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this._fs.readFile(e,(r,n)=>{if(r)return void t(r,null);try{var o=JSON.parse(n);if(o.expires&&o.expires<i.AbstractFsDriver._now||o.buildId!==this._buildId)return this._invalidate(e),void t(null,null);t(null,o.value)}catch(r){this._invalidate(e),t(null,null)}})}},{key:"_set",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=JSON.stringify({expires:r>0?i.AbstractFsDriver._now+r:null,value:t,buildId:this._buildId});this._fs.mkdirp(this._directory,()=>{this._fs.writeFile(e,o,e=>{n(e,!e)})})}},{key:"_invalidate",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(t<=0)return void this._fs.unlink(e,e=>{r(e,!e)});this._get(e,(n,i)=>{if(n)return void r(n,null);this._set(e,i.value,t,r)})}},{key:"_fs",get:function(){return this._containerAware.container.get("fs").public}}]),S3FSDriver}(i.AbstractFsDriver)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SharedCache=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=_interopRequireDefault(i),a=r(20),s=_interopRequireDefault(a),c=r(27),u=_interopRequireDefault(c),l=r(159);t.SharedCache=function(){function SharedCache(e){_classCallCheck(this,SharedCache),this._driver=e,new o.default.Generic.MethodsProxy(this).proxyOverride(this._driver,"has","get","set","invalidate","flush","type")}return n(SharedCache,[{key:"buildKeyFromRequest",value:function(e){let t=e.action,r=t.resource.microservice,n=t.source[e.isLambda?"original":"api"],i=`${n}#${SharedCache._stringifyPayload(e.payload)}`;return new l.SharedKey(i,r)}},{key:"buildKeyFromLambdaRuntime",value:function(e){return e.context&&e.context.has("invokedFunctionArn")?`${e.context.getOption("invokedFunctionArn")}#${SharedCache._stringifyPayload(e.request.data)}`:null}},{key:"assure",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this._driver.has(e,(i,o)=>{if(!o)return void this._driver.set(e,t,r,n);n(null,!0)})}}],[{key:"_stringifyPayload",value:function(e){return JSON.stringify(SharedCache._normalizeObject(e))}},{key:"_hash",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha1";return u.default.createHash(t).update(e).digest("hex")}},{key:"_normalizeObject",value:function(e){let t={};return Object.keys(e).sort().forEach(r=>{let n=e[r];s.default.isArray(n)?n=n.sort():null!==n&&"object"==typeof n&&(n=SharedCache._normalizeObject(n));t[r]=n}),t}}]),SharedCache}()},function(e,t,r){"use strict";var n=r(327);e.exports=n.Cache},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidArnException=void 0;var n=r(14);t.InvalidArnException=function(e){function InvalidArnException(e){return _classCallCheck(this,InvalidArnException),_possibleConstructorReturn(this,(InvalidArnException.__proto__||Object.getPrototypeOf(InvalidArnException)).call(this,`Invalid arn string "${e}".`))}return _inherits(InvalidArnException,e),InvalidArnException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(161),o=r(88),a=r(160),s=r(65),c=r(162);t.Factory=function(){function Factory(){_classCallCheck(this,Factory)}return n(Factory,null,[{key:"create",value:function(e){e=Factory._assurePrototype(e);for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new(Function.prototype.bind.apply(e,[null].concat(r)))}},{key:"createCollection",value:function(e){return e=Factory._assurePrototype(e),new o.Collection(e)}},{key:"_assurePrototype",value:function(e){return"string"==typeof e&&(e=Factory[e.toUpperCase()]),e}},{key:"POLICY",get:function(){return s.Policy}},{key:"RESOURCE",get:function(){return i.Resource}},{key:"ACTION",get:function(){return a.Action}},{key:"STATEMENT",get:function(){return c.Statement}}]),Factory}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Context=function(){function Context(e){_classCallCheck(this,Context),this._lambdaContext=e,this._registerDataAsOptions()}return n(Context,[{key:"_registerDataAsOptions",value:function(){for(let e in this._lambdaContext)this._lambdaContext.hasOwnProperty(e)&&Object.defineProperty(this,e,{value:this._lambdaContext[e],writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"_options",{configurable:!1,enumerable:!1})}},{key:"has",value:function(e){return this._lambdaContext.hasOwnProperty(e)}},{key:"getOption",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this._lambdaContext.hasOwnProperty(e)?this._lambdaContext[e]:t}},{key:"waitForEmptyEventLoop",value:function(){this._lambdaContext.callbackWaitsForEmptyEventLoop=!0}},{key:"options",get:function(){return this._lambdaContext}}]),Context}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(163),o=r(14),a=r(166);t.ErrorResponse=function(e){function ErrorResponse(e,t){return _classCallCheck(this,ErrorResponse),_possibleConstructorReturn(this,(ErrorResponse.__proto__||Object.getPrototypeOf(ErrorResponse)).call(this,e,ErrorResponse.createErrorObject(t)))}return _inherits(ErrorResponse,e),n(ErrorResponse,[{key:"data",get:function(){return JSON.stringify(this._data)}}],[{key:"createErrorObject",value:function(e){let t={},r=o.Exception.DEFAULT_CODE;if("ValidationError"===e.name)r=400,t={errorType:e.name,errorMessage:e.annotate(),errorStack:e.stack||new Error(e.message).stack,validationErrors:e.details};else if(e instanceof Error)t={errorType:e.name,errorMessage:e.message,errorStack:e.stack||new Error(e.message).stack};else{let r=(e||"Unexpected error occurred.").toString();t={errorType:"Error",errorMessage:r,errorStack:new Error(r).stack}}return t[o.Exception.CODE_KEY]=a.Helper.assureDefinedCode(e.code||r),t}},{key:"contextMethod",get:function(){return"fail"}}]),ErrorResponse}(i.Response)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidCognitoIdentityException=void 0;var n=r(14);t.InvalidCognitoIdentityException=function(e){function InvalidCognitoIdentityException(e){return _classCallCheck(this,InvalidCognitoIdentityException),_possibleConstructorReturn(this,(InvalidCognitoIdentityException.__proto__||Object.getPrototypeOf(InvalidCognitoIdentityException)).call(this,`Invalid cognito identity pool "${e}".`,403))}return _inherits(InvalidCognitoIdentityException,e),InvalidCognitoIdentityException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRuntimeContextException=void 0;var n=r(14);t.MissingRuntimeContextException=function(e){function MissingRuntimeContextException(){return _classCallCheck(this,MissingRuntimeContextException),_possibleConstructorReturn(this,(MissingRuntimeContextException.__proto__||Object.getPrototypeOf(MissingRuntimeContextException)).call(this,"Missing Lambda runtime context",400))}return _inherits(MissingRuntimeContextException,e),MissingRuntimeContextException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingUserContextException=void 0;var n=r(14);t.MissingUserContextException=function(e){function MissingUserContextException(){return _classCallCheck(this,MissingUserContextException),_possibleConstructorReturn(this,(MissingUserContextException.__proto__||Object.getPrototypeOf(MissingUserContextException)).call(this,"Missing user context in the Lambda runtime",403))}return _inherits(MissingUserContextException,e),MissingUserContextException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(215),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Request=function(){function Request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Request),this._data=Array.isArray(e)?e:o.default.parse(e),this._registerDataAsParams()}return n(Request,[{key:"_registerDataAsParams",value:function(){for(let e in this._data)this._data.hasOwnProperty(e)&&Object.defineProperty(this,e,{value:this._data[e],writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"_data",{configurable:!1})}},{key:"getParam",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this._data.hasOwnProperty(e)?this._data[e]:t}},{key:"data",get:function(){return this._data}}]),Request}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Resolver=function(){function Resolver(e){_classCallCheck(this,Resolver),this._lambdaCallback=e,this._onSucceed=[]}return n(Resolver,[{key:"succeed",value:function(e){this._onSucceed.forEach(t=>t(e)),this._lambdaCallback(null,e)}},{key:"fail",value:function(e){this._lambdaCallback(e,null)}},{key:"registerSucceedCallback",value:function(e){this._onSucceed.push(e)}}]),Resolver}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Runtime=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(90),o=r(163),a=r(342),s=r(346),c=r(343),u=r(345),l=r(341),f=r(167),h=r(347),d=r(18),p=function(e){return e&&e.__esModule?e:{default:e}}(d);t.Runtime=function(e){function Runtime(e){_classCallCheck(this,Runtime);var t=_possibleConstructorReturn(this,(Runtime.__proto__||Object.getPrototypeOf(Runtime)).call(this,["handle"]));return t._kernel=e,t._request=null,t._context=null,t._resolver=null,t._loggedUserId=null,t._forceUserIdentity=!1,t._contextSent=!1,t._calleeConfig=null,t._fillDenyMissingUserContextOption(),t}return _inherits(Runtime,e),n(Runtime,[{key:"validateInput",value:function(e,t){return this._kernel.get("validation").validateRuntimeInput(this,e,t),this}},{key:"run",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._context=new l.Context(t),this._request=new s.Request(e),r&&(this._resolver=new h.Resolver(r),this._resolver.registerSucceedCallback(this.kernel.kernelCleanup.bind(this.kernel))),this._context.waitForEmptyEventLoop(),this.logService.rumLog({service:"deep-core",resourceType:"Lambda",resourceId:this._context.invokedFunctionArn,eventName:"Run"}),new f.Sandbox(()=>{this._fillUserContext().then(()=>{if(!this._loggedUserId&&this._forceUserIdentity)throw new u.MissingUserContextException;this._initDBPartitionKey();let e=this.validationSchema;e?this._runValidate(e):this.handle(this._request)}).catch(e=>this.createError(e).send())}).fail(e=>{this.createError(e).send()}).run(),this}},{key:"_runValidate",value:function(e){let t=e;"string"!=typeof e&&(t=this._injectValidationSchema(e)),this.validateInput(t,e=>{this.handle(e)})}},{key:"_injectValidationSchema",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._kernel.get("validation");return t=t||`DeepHandlerValidation_${(new Date).getTime()}`,r.setGuessSchema(t,e),t}},{key:"createError",value:function(e){return new a.ErrorResponse(this,e)}},{key:"createResponse",value:function(e){return new o.Response(this,e)}},{key:"createCachedResponse",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.send(),n=this._kernel.get("cache").shared,i=n.buildKeyFromLambdaRuntime(this),a=new o.Response(this,e);n.assure(i,{body:e},t,()=>{r(a)})}},{key:"_fillDenyMissingUserContextOption",value:function(){this._kernel.config.hasOwnProperty("forceUserIdentity")&&(this._forceUserIdentity=this._kernel.config.forceUserIdentity)}},{key:"_initDBPartitionKey",value:function(){if(!this.kernel.accountMicroservice||!this.forceUserIdentity)return this;let e=this.dbService,t=this.securityService.token&&this.securityService.token.user,r=Runtime.DB_ANONYMOUS_PARTITION;return t&&t.ActiveAccount&&(r=t.ActiveAccount.Id),e.setDynamoDBPartitionKey(r),this}},{key:"_fillUserContext",value:function(){if(this._context&&this._context.identity&&this._context.identity.cognitoIdentityPoolId&&this._context.identity.cognitoIdentityId){let e=this._context.identity.cognitoIdentityPoolId;return this.securityService.identityPoolId===e||this._kernel.container.localBackend?this.securityService.warmupBackendLogin(this._context).then(e=>{let t=this.dbService;p.default.config.credentials=e;e&&t.overwriteCredentials(e);this._loggedUserId=this._context.identity.cognitoIdentityId}):Promise.reject(new c.InvalidCognitoIdentityException(e))}return Promise.resolve(null)}},{key:"context",get:function(){return this._context}},{key:"resolver",get:function(){return this._resolver}},{key:"contextSent",get:function(){return this._contextSent}},{key:"loggedUserId",get:function(){return this._loggedUserId}},{key:"forceUserIdentity",get:function(){return this._forceUserIdentity}},{key:"kernel",get:function(){return this._kernel}},{key:"lambda",get:function(){let e=this;return function(t,r){e.run(t,r)}}},{key:"calleeName",get:function(){if(this._context&&this._context.has("invokedFunctionArn")){let e=this._context.getOption("invokedFunctionArn");return e.replace(/^.+:function:/i,"")}return null}},{key:"calleeConfig",get:function(){if(!this._calleeConfig&&this._context&&this._kernel&&this._context.has("invokedFunctionArn")){let e=this._kernel.get("resource"),t=this._context.getOption("invokedFunctionArn");this._calleeConfig=e.getActionConfig(t)}return this._calleeConfig}},{key:"validationSchema",get:function(){return this.calleeConfig?this.calleeConfig.validationSchema||null:null}},{key:"request",get:function(){return this._request}},{key:"securityService",get:function(){return this.kernel.get("security")}},{key:"dbService",get:function(){return this.kernel.get("db")}},{key:"logService",get:function(){return this.kernel.get("log")}}],[{key:"DB_ANONYMOUS_PARTITION",get:function(){return"anonymous"}},{key:"VALIDATION_SCHEMAS_DIR",get:function(){return"__deep_validation_schemas__"}}]),Runtime}(i.Interface)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseOperationException=void 0;var n=r(14);t.DatabaseOperationException=function(e){function DatabaseOperationException(e){return _classCallCheck(this,DatabaseOperationException),_possibleConstructorReturn(this,(DatabaseOperationException.__proto__||Object.getPrototypeOf(DatabaseOperationException)).call(this,`Database operation failed. ${e}`,500))}return _inherits(DatabaseOperationException,e),DatabaseOperationException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceNotFoundException=void 0;var n=r(14);t.ResourceNotFoundException=function(e){function ResourceNotFoundException(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,ResourceNotFoundException);let t=e?`Resource "${e}" was not found.`:"Resource not found.";return _possibleConstructorReturn(this,(ResourceNotFoundException.__proto__||Object.getPrototypeOf(ResourceNotFoundException)).call(this,t,404))}return _inherits(ResourceNotFoundException,e),ResourceNotFoundException}(n.Exception)},function(e,t){function webpackEmptyContext(e){throw new Error("Cannot find module '"+e+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,e.exports=webpackEmptyContext,webpackEmptyContext.id=351},function(e,t,r){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.MethodsProxy=function(){function MethodsProxy(e){_classCallCheck(this,MethodsProxy),this._target=e,this._decorator=null}return n(MethodsProxy,[{key:"decorate",value:function(e){return this._decorator=e,this}},{key:"proxyOverride",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let o=Object.keys(e).concat(n);for(let r in o)if(o.hasOwnProperty(r)){let i=o[r];(e.hasOwnProperty(i)||-1!==n.indexOf(i))&&"function"==typeof e[i]&&Object.defineProperty(this._target,i,{value:function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return"function"==typeof t._decorator?t._decorator.apply(t,[e,i].concat(n)):e[i].apply(e,n)}})}return this._target}},{key:"proxyProperties",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=Object.keys(e).concat(r);for(let t of i)if("function"!=typeof e[t]){let r=Object.getOwnPropertyDescriptor(e,t),n={enumerable:r.enumerable,configurable:r.configurable,get:()=>e[t]};r.writable&&(n.set=(r=>e[t]=r)),Object.defineProperty(this._target,t,n)}return this._target}},{key:"proxy",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.proxyOverride.apply(this,[e].concat(_toConsumableArray(r.filter(e=>void 0===this._target[e]))))}},{key:"target",get:function(){return this._target}}]),MethodsProxy}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.ObjectStorage=function(){function ObjectStorage(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];_classCallCheck(this,ObjectStorage),1===t.length&&t[0]instanceof Array&&(t=t[0]),this._vector=t}return n(ObjectStorage,[{key:"add",value:function(e){return this._vector.push(e),this}},{key:"find",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let r in this._vector)if(this._vector.hasOwnProperty(r)){let n=this._vector[r];if(t&&n===e||!t&&n instanceof e)return n}return null}},{key:"iterator",get:function(){return this._vector}}]),ObjectStorage}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.ObjectVector=function(){function ObjectVector(e){_classCallCheck(this,ObjectVector),this._proto=e,this._vector=[];for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.add.apply(this,r)}return n(ObjectVector,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e in t)if(t.hasOwnProperty(e)){let r=t[e];if(!(r instanceof this._proto))throw new Error(`The object ${r.constructor.name} is not an instance of ${this._proto.name}`);this._vector.push(r)}return this}},{key:"collection",get:function(){return this._vector}}]),ObjectVector}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.UniversalRequire=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(57),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.UniversalRequire=function(){function UniversalRequire(){_classCallCheck(this,UniversalRequire),this._require=this._guessRequireFunc()}return n(UniversalRequire,[{key:"require",value:function(e,t){return UniversalRequire._isFrontend&&(e=o.default.normalize(e)),this._require(e,t)}},{key:"_guessRequireFunc",value:function(){return UniversalRequire._isFrontend?(r(356),window.__deepRequireBrowser__):(e,t)=>{try{t(null,!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){t(e,null)}}}}],[{key:"_isFrontend",get:function(){return"undefined"!=typeof window&&"undefined"!=typeof document}}]),UniversalRequire}()},function(e,t,r){"use strict";window.__deepRequireBrowser__=window.__deepRequireBrowser__||function(e,t){function deepLoad(e,r,n,i){if(e.g)return r(e.e,e);var o=e.g=e.l,a=new XMLHttpRequest;a.onload=function(s,c){function loaded(){c--||r(t,e)}200==a.status||e.t?(s=[],(e.t=e.t||a.response).replace(/(?:^|[^\w\$_.])require\s*\(\s*["']([^"']*)["']\s*\)/g,function(e,t){s.push(t)}),c=s.length,s.map(function(r){deepLoad(resolveModuleOrGetExports(e.l,r),loaded,"."!=r[0]?o+"/../":t,r)}),loaded()):n?deepLoad(e.n=resolveModuleOrGetExports(n+="../",i),r,n,i):(e.e=a,r(a,e))},e.t?a.onload():(a.open("GET",o,!0),a.send())}function resolveModuleOrGetExports(e,t,s){if(e.e)throw e.e;return t?(o.href=e,a.href="."!=t[0]&&"/"!=t[0]?"./node_modules/"+t:t,s=".js"==a.href.substr(-3).toLowerCase()?a.href:a.href+".js",o.href="",r[s]=r[s]||{l:s}):e.n?resolveModuleOrGetExports(e.n):(e[i]||(e.f||n("(function(require,"+i+",module){"+e.t+"\n})//# sourceURL="+e.l))(function(t){return resolveModuleOrGetExports(resolveModuleOrGetExports(e.l,t))},e[i]={},e),e[i])}function R(e,t){deepLoad(e.call?{l:"",t:""+e,f:e}:resolveModuleOrGetExports("",e),function(r,n){try{e=resolveModuleOrGetExports(n)}catch(e){r=e}t&&t(r,e)})}var r={},n=eval,i="createElement",o=e[i]("base"),a=e[i]("a");return e.head.appendChild(o),i=e.querySelector("script[data-main]"),i&&R(i.dataset.main),i="exports",R}(document)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DI=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(305),o=_interopRequireDefault(i),a=r(359),s=r(3),c=_interopRequireDefault(s);t.DI=function(){function DI(){_classCallCheck(this,DI),this._bottle=new o.default,this._localBackend=!1}return n(DI,[{key:"register",value:function(e,t,r){var n=[e,t];r&&(n=n.concat(r)),this._bottle.service.apply(this._bottle,n)}},{key:"factory",value:function(e,t){this._bottle.factory(e,t)}},{key:"addParameter",value:function(e,t){this._bottle.value(e,t)}},{key:"addService",value:function(e,t){if(!(t instanceof Object))throw new c.default.Exception.InvalidArgumentException(t,"Object");this._bottle.value(e,t)}},{key:"get",value:function(e){if(void 0===this._bottle.container[e])throw new a.MissingServiceException(`Unregistered service or parameter "${e}"`);return this._bottle.container[e]}},{key:"has",value:function(e){return this._bottle.container.hasOwnProperty(e)}},{key:"cleanup",value:function(){}},{key:"localBackend",set:function(e){this._localBackend=e},get:function(){return this._localBackend}}]),DI}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingServiceException=void 0;var n=r(358);t.MissingServiceException=function(e){function MissingServiceException(e){return _classCallCheck(this,MissingServiceException),_possibleConstructorReturn(this,(MissingServiceException.__proto__||Object.getPrototypeOf(MissingServiceException)).call(this,`Missing service ${e} in deep-kernel`))}return _inherits(MissingServiceException,e),MissingServiceException}(n.Exception)},function(e,t,r){"use strict";var n=r(357);e.exports=n.DI},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.AbstractContext=function(){function AbstractContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,AbstractContext),this._context={},this.addObj(e)}return n(AbstractContext,[{key:"addObj",value:function(e){return this._context=Object.assign(this._context,e),this}},{key:"add",value:function(e,t){return this._context[e]=t,this}},{key:"get",value:function(){return this._context}},{key:"enrichEventContext",value:function(e){return e=this.extend(e),e.timestamp=Date.now(),e}},{key:"extend",value:function(e){return Object.assign({},this.get(),e)}}],[{key:"fromKernel",value:function(e){throw new Error("Context.fromKernel() not implemented!")}}]),AbstractContext}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();let i=function(){};"undefined"!=typeof window&&(r(316),i=window.ClientJS);const o=Symbol(),a=Symbol();t.ClientSession=function(e){function ClientSession(e){if(_classCallCheck(this,ClientSession),e!==a)throw new Error("Cannot construct new ClientSession instance");var t=_possibleConstructorReturn(this,(ClientSession.__proto__||Object.getPrototypeOf(ClientSession)).call(this));return t._sessionId=t._buildSessionId(),t}return _inherits(ClientSession,e),n(ClientSession,[{key:"getSitePlatform",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom";const t=this._findMetaContent("generator");if(t.length<=0)return e;for(let e of t)for(let t in this._cmsMapping)if(this._cmsMapping.hasOwnProperty(t)&&this._cmsMapping[t].test(e))return t;return e}},{key:"_findMetaContent",value:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return document&&"function"==typeof document.getElementsByTagName?(e=(e||"").toLowerCase(),this._htmlCollectionToArray(document.getElementsByTagName("meta")).filter(t=>(t.getAttribute("name")||"").toLowerCase()===e||(t.getAttribute("property")||"").toLowerCase()===e).map(e=>{const r=e.getAttribute("content")||"";return t?r.toLowerCase():r})):[]}},{key:"_htmlCollectionToArray",value:function(e){let t=[];for(let r=0;r<e.length;r++)t.push(e[r]);return t}},{key:"getSessionId",value:function(){return this._sessionId}},{key:"_buildSessionId",value:function(){return`${this.getFingerprint()}${Date.now()}`.match(/.{1,6}/g).join("-")}},{key:"_cmsMapping",get:function(){return{contao:/Contao/i,wordpress:/WordPress/i,joomla:/Joomla/i,drupal:/Drupal/i,typo3:/TYPO3/i}}}],[{key:"instance",get:function(){return this[o]||(this[o]=new ClientSession(a)),this[o]}}]),ClientSession}(i)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FrontendContext=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(168),a=r(362);t.FrontendContext=function(e){function FrontendContext(){return _classCallCheck(this,FrontendContext),_possibleConstructorReturn(this,(FrontendContext.__proto__||Object.getPrototypeOf(FrontendContext)).apply(this,arguments))}return _inherits(FrontendContext,e),n(FrontendContext,null,[{key:"fromKernel",value:function(e){return i(FrontendContext.__proto__||Object.getPrototypeOf(FrontendContext),"fromKernel",this).call(this,e).addObj(FrontendContext.clientData).addObj(FrontendContext.envData)}},{key:"clientData",get:function(){return{sessionId:a.ClientSession.instance.getSessionId(),fingerprint:a.ClientSession.instance.getFingerprint(),browser:a.ClientSession.instance.getBrowser(),browserVersion:a.ClientSession.instance.getBrowserVersion(),os:a.ClientSession.instance.getOS(),osVersion:a.ClientSession.instance.getOSVersion(),resolution:a.ClientSession.instance.getCurrentResolution(),timezone:a.ClientSession.instance.getTimeZone(),language:a.ClientSession.instance.getLanguage()}}},{key:"envData",get:function(){return{location:{hash:window.location.hash,host:window.location.host,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol,search:window.location.search},propertyId:window.location.host,platform:a.ClientSession.instance.getSitePlatform()}}}]),FrontendContext}(o.BackendContext)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(169);t.ConsoleDriver=function(e){function ConsoleDriver(){return _classCallCheck(this,ConsoleDriver),_possibleConstructorReturn(this,(ConsoleDriver.__proto__||Object.getPrototypeOf(ConsoleDriver)).apply(this,arguments))}return _inherits(ConsoleDriver,e),n(ConsoleDriver,[{key:"_log",value:function(e,t,r){return this._printEvent(e,t,r)}}]),ConsoleDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.UUID=function(){function UUID(){_classCallCheck(this,UUID)}return n(UUID,null,[{key:"generate",value:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._uuids=this._uuids||[];let t=(new Date).getTime();window&&window.performance&&"function"==typeof window.performance.now&&(t+=performance.now());let r=null;do{r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{t=Math.floor(t/16);let r=(t+16*Math.random())%16|0;return("x"==e?r:3&r|8).toString(16)})}while(!e||-1!==this._uuids.indexOf(r));return-1===this._uuids.indexOf(r)&&this._uuids.push(r),r}}]),UUID}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.KinesisDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(169),o=r(365),a=r(18),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.KinesisDriver=function(e){function KinesisDriver(e){var t;_classCallCheck(this,KinesisDriver);for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=_possibleConstructorReturn(this,(t=KinesisDriver.__proto__||Object.getPrototypeOf(KinesisDriver)).call.apply(t,[this].concat(n)));return o._partitionKey=null,o._kinesisEventStream=o._normalizeStreamName(e),o._kinesis=new s.default.Kinesis(o._serviceOptionsFromStreamArn(e)),o}return _inherits(KinesisDriver,e),n(KinesisDriver,[{key:"_serviceOptionsFromStreamArn",value:function(e){const t=e.match(/^arn:aws:kinesis:([^:]+):([^:]+):stream\//i);return!t||t.length<3?{}:{region:t[1]}}},{key:"_normalizeStreamName",value:function(e){return e.replace(/^.+\/([^\/]+)$/i,"$1")}},{key:"_log",value:function(e,t,r){return this._push([{name:e,data:t,context:r}])}},{key:"_push",value:function(e){return e.length<=0?Promise.resolve():e.length>KinesisDriver.MAX_PUT_LENGTH?Promise.all(this._chunks(e,KinesisDriver.MAX_PUT_LENGTH).map(e=>this._push(e))):new Promise((t,r)=>{const n={StreamName:this.kinesisEventStream,Records:e.map(e=>({Data:JSON.stringify(e),PartitionKey:this.partitionKey}))};this.kinesis.putRecords(n,(e,n)=>{if(e)return r(e);t(n)})})}},{key:"_chunks",value:function(e,t){const r=e.length;let n=r/t,i=[],o=0;for(let a=0;a<t;a++){let s=o+n;!r%t>=a&&(s-=1),i.push(e.slice(o,s+1)||[]),o=s+1}return i}},{key:"kinesis",get:function(){return this._kinesis}},{key:"partitionKey",get:function(){return this._partitionKey=this._partitionKey||o.UUID.generate(),this._partitionKey}},{key:"kinesisEventStream",get:function(){return this._kinesisEventStream}}],[{key:"MAX_PUT_LENGTH",get:function(){return 500}}]),KinesisDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(364),s=r(366),c=r(168),u=r(363);t.Event=function(e){function Event(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,Event);var e=_possibleConstructorReturn(this,(Event.__proto__||Object.getPrototypeOf(Event)).call(this));return e._driver=null,e}return _inherits(Event,e),n(Event,[{key:"log",value:function(){var e;return(e=this.driver).log.apply(e,arguments)}},{key:"ensureKinesisDriver",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._driver&&this._driver instanceof s.KinesisDriver?this:(e=e||this.kernel.config.globals.kinesisEventStream,this._driver=new s.KinesisDriver(e,this._driver.context),this)}},{key:"boot",value:function(e,t){const r=e.config.globals.kinesisEventStream,n=(e.isFrontend?u.FrontendContext:c.BackendContext).fromKernel(e);e.env===o.default.PROD_ENVIRONMENT&&r?this._driver=new s.KinesisDriver(r,n):this._driver=new a.ConsoleDriver(n),t()}},{key:"driver",get:function(){return this._driver}}]),Event}(o.default.ContainerAware)},function(e,t,r){"use strict";var n=r(367);e.exports=n.Event},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ComplexDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(36);t.ComplexDriver=function(e){function ComplexDriver(){_classCallCheck(this,ComplexDriver);for(var e=_possibleConstructorReturn(this,(ComplexDriver.__proto__||Object.getPrototypeOf(ComplexDriver)).call(this)),t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._drivers=r,e}return _inherits(ComplexDriver,e),n(ComplexDriver,[{key:"add",value:function(e){return this._drivers.push(e),this}},{key:"_load",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._drivers=this._drivers.concat(t),this._loadDriversQueue([].concat(this._drivers))}},{key:"_loadDriversQueue",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length<=0)return void this.fail(`All drivers failed to load: ${t.join("; ")}`);let r=e.shift();r.onLoadedCb(e=>{this.loaded(e)}),r.onFailCb(r=>{t.push(r.toString());this._loadDriversQueue(e,t)}),r.load()}},{key:"drivers",get:function(){return this._drivers}}]),ComplexDriver}(i.AbstractDriver)},function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(36),o=r(369),a=r(371),s=r(171),c=r(172);t.KernelDriver=function(t){function KernelDriver(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KernelDriver.SCOPE_KEY,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KernelDriver.DEFAULT_CONFIG_FILE;_classCallCheck(this,KernelDriver);var n=_possibleConstructorReturn(this,(KernelDriver.__proto__||Object.getPrototypeOf(KernelDriver)).call(this));return n._kernel=e,n._scopeKey=t,n._configFile=r,n}return _inherits(KernelDriver,t),n(KernelDriver,[{key:"_load",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._scopeKey=e||this._scopeKey,this._configFile=t||this._configFile,(new o.ComplexDriver).inherit(this).add(new a.ScopeDriver(this._scopeKey).setScope(this._globalScope)).add(this._kernel.isBackend?new s.FsDriver(this._configFile):new c.HttpDriver(this._configFile,!0)).load()}},{key:"scopeKey",get:function(){return this._scopeKey}},{key:"configFile",get:function(){return this._configFile}},{key:"kernel",get:function(){return this._kernel}},{key:"_globalScope",get:function(){return this._kernel.isBackend?e:window||{}}}],[{key:"SCOPE_KEY",get:function(){return"__DEEP_CFG__"}},{key:"DEFAULT_CONFIG_FILE",get:function(){return"_config.json"}}]),KernelDriver}(i.AbstractDriver)}).call(t,r(4))},function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ScopeDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(36);t.ScopeDriver=function(t){function ScopeDriver(t){_classCallCheck(this,ScopeDriver);var r=_possibleConstructorReturn(this,(ScopeDriver.__proto__||Object.getPrototypeOf(ScopeDriver)).call(this));return r._scope=e||{},r._key=t,r}return _inherits(ScopeDriver,t),n(ScopeDriver,[{key:"setScope",value:function(e){return this._scope=e,this}},{key:"setKey",value:function(e){return this._key=e,this}},{key:"_load",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._key=e||this._key,this._scope.hasOwnProperty(this._key)?this.loaded(this._scope[this._key]):this.fail(`Unable to load configuration from scope: No such key '${this._key}' exists`)}},{key:"scope",get:function(){return this._scope}},{key:"key",get:function(){return this._key}}]),ScopeDriver}(i.AbstractDriver)}).call(t,r(4))},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(370),o=r(170);t.Loader=function(){function Loader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,Loader),this._driver=e}return n(Loader,[{key:"setDriver",value:function(e){return this._driver=e,this}},{key:"load",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};e&&this._driver.onLoadedCb(e),t&&this._driver.onFailCb(t),this._driver.load()}},{key:"driver",get:function(){return this._driver}}],[{key:"asyncConfigLoader",value:function(e){return new Loader(new o.AsyncConfig(e))}},{key:"kernelLoader",value:function(e){return new Loader(new i.KernelDriver(e))}}]),Loader}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerAware=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(91),a=r(374);t.ContainerAware=function(e){function ContainerAware(){_classCallCheck(this,ContainerAware);var e=_possibleConstructorReturn(this,(ContainerAware.__proto__||Object.getPrototypeOf(ContainerAware)).call(this));return e._kernel=null,e._localBackend=!1,e}return _inherits(ContainerAware,e),n(ContainerAware,[{key:"boot",value:function(e,t){t()}},{key:"cleanup",value:function(){}},{key:"bind",value:function(e){return"string"==typeof e&&(e=this.kernel.microservice(e)),i(ContainerAware.prototype.__proto__||Object.getPrototypeOf(ContainerAware.prototype),"bind",this).call(this,e)}},{key:"_resolveIdentifier",value:function(e){let t=/^@\s*([^:]+)\s*:\s*([^\s]+)\s*$/;if("string"==typeof e&&t.test(e)){let r=e.match(t);return this.bind(r[1]),r[2]}throw new a.InvalidDeepIdentifierException(e)}},{key:"get",value:function(){var e;return(e=this.container).get.apply(e,arguments)}},{key:"localBackend",get:function(){return this._localBackend},set:function(e){this._localBackend=e}},{key:"name",get:function(){return this.constructor.name.toLowerCase()}},{key:"service",get:function(){return this}},{key:"container",get:function(){return this._kernel?this._kernel.container:null}},{key:"kernel",set:function(e){this._kernel=e},get:function(){return this._kernel}}]),ContainerAware}(o.Injectable)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidDeepIdentifierException=void 0;var n=r(48);t.InvalidDeepIdentifierException=function(e){function InvalidDeepIdentifierException(e){return _classCallCheck(this,InvalidDeepIdentifierException),_possibleConstructorReturn(this,(InvalidDeepIdentifierException.__proto__||Object.getPrototypeOf(InvalidDeepIdentifierException)).call(this,`Invalid deep identifier "${e}". It should conform to the following format: @microservice_identifier:resource_identifier.`))}return _inherits(InvalidDeepIdentifierException,e),InvalidDeepIdentifierException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingMicroserviceException=void 0;var n=r(48);t.MissingMicroserviceException=function(e){function MissingMicroserviceException(e){return _classCallCheck(this,MissingMicroserviceException),_possibleConstructorReturn(this,(MissingMicroserviceException.__proto__||Object.getPrototypeOf(MissingMicroserviceException)).call(this,`Missing microservice ${e} in Kernel container`))}return _inherits(MissingMicroserviceException,e),MissingMicroserviceException}(n.Exception)},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Kernel=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=_interopRequireDefault(i),a=r(360),s=_interopRequireDefault(a),c=r(48),u=r(173),l=r(375),f=r(91),h=r(373),d=r(650),p=_interopRequireDefault(d),y=r(20),m=_interopRequireDefault(y),g=r(372),v=r(170);t.Kernel=function(){function Kernel(e,t){if(_classCallCheck(this,Kernel),-1===Kernel.ALL_CONTEXTS.indexOf(t))throw new c.Exception(`Undefined context "${t}"`);this._config={},this._services=e,this._context=t,this._runtimeContext={},this._contextProvider=null,this._env=null,this._container=new s.default,this._isLoaded=!1,this._asyncConfigCache=null}return n(Kernel,[{key:"microservice",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this._config.microserviceIdentifier);for(let t in this.microservices)if(this.microservices.hasOwnProperty(t)){let r=this.microservices[t];if(r.identifier===e)return r}throw new l.MissingMicroserviceException(e)}},{key:"loadAsyncConfig",value:function(e){if(this._asyncConfigCache)return e(this._asyncConfigCache),this;let t=this.get("cache").system,r=Kernel.ASYNC_CONFIG_CACHE_KEY;return t.has(r,(n,i)=>{this._logErrorIfExistsAndNotProd(n);if(i)return void t.get(r,(n,i)=>{this._logErrorIfExistsAndNotProd(n);if(i)try{return this._asyncConfigCache=JSON.parse(i),void e(this._asyncConfigCache)}catch(n){this._logErrorIfExistsAndNotProd(n)}this._loadAsyncConfig(t,r,e)});this._loadAsyncConfig(t,r,e)}),this}},{key:"_loadAsyncConfig",value:function(e,t,r){g.Loader.asyncConfigLoader(this).load(n=>{e.set(t,JSON.stringify(n),0,e=>{this._logErrorIfExistsAndNotProd(e);this._asyncConfigCache=n;r(n)})},e=>{this._logErrorIfExistsAndNotProd(e);r(null)})}},{key:"_logErrorIfExistsAndNotProd",value:function(e){e&&this.env!==Kernel.PROD_ENVIRONMENT&&console.error(e)}},{key:"bootstrap",value:function(e){let t={service:"deep-kernel",resourceType:"Lambda",eventName:"KernelLoad",time:(new Date).getTime()};return this._isLoaded?(this.isBackend&&(t.eventName="KernelLoadFromCache",t.resourceId=this.runtimeContext.invokedFunctionArn,t.payload=this.config,this.get("log").rumLog(t)),e(this),this):(g.Loader.kernelLoader(this).load(r=>{this.load(r,r=>{if(this.isBackend){t.resourceId=this.runtimeContext.invokedFunctionArn,this.get("log").rumLog(t);let e=m.default._extend({},t);e.payload=r.config,e.time=(new Date).getTime(),this.get("log").rumLog(e)}e(r)})},e=>{throw new c.Exception(`Error loading kernel: ${e}`)}),this)}},{key:"kernelCleanup",value:function(){let e=Object.keys(this.services);for(let t of e){let e=this.get(t.toLowerCase());e.cleanup()}return this}},{key:"load",value:function(e,t){if(this._isLoaded)return t(this),this;let r=t;return t=(e=>{this._isLoaded=!0;r(e)}),this._config=e,this._buildContainer(t),this}},{key:"get",value:function(){var e;return(e=this._container).get.apply(e,arguments)}},{key:"has",value:function(){var e;return(e=this._container).has.apply(e,arguments)}},{key:"getMsParam",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this._config.microservices.hasOwnProperty(e))throw new Error(`Unknown microservice identifier "${e}".`);return this._findParam(this._config.microservices[e].parameters,t,r)}},{key:"getParam",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._findParam(this._config.globals,e,t)}},{key:"_findParam",value:function(e,t,r){let n=t.split("|").map(e=>e.trim()),i=e;for(let e=0;e<n.length;e++){let t=n[e];if(!i||"object"!=typeof i&&!i.hasOwnProperty(t))return r;i=i[t]}return i}},{key:"_buildContainer",value:function(t){this._env=this._config.env,this._container.addParameter(Kernel.KERNEL,this),this._container.addParameter(Kernel.CONTEXT,{environment:this._env,isFrontend:this.isFrontend,isBackend:this.isBackend}),this._container.addParameter(Kernel.MICROSERVICES,u.Instance.createVector(this._config)),this._container.addParameter(Kernel.CONFIG,this._config),this._container.localBackend=o.default.IS_DEV_SERVER;let r=0;for(let e in this._services)if(this._services.hasOwnProperty(e)){let t=new this._services[e];r++,t.kernel=this,t.localBackend=o.default.IS_DEV_SERVER,t.boot(this,()=>{r--}),this._container.addService(t.name,Kernel._createProxyIfNeeded(t))}(0,p.default)().interval(10).times(999999).condition(t=>{e.nextTick(()=>{t(r<=0)})}).done(()=>{t(this)})}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"runtimeContext",get:function(){return this._runtimeContext},set:function(e){this._runtimeContext=e}},{key:"contextProvider",get:function(){return this._contextProvider},set:function(e){this._contextProvider=e}},{key:"rootMicroservice",get:function(){for(let e in this.microservices)if(this.microservices.hasOwnProperty(e)){let t=this.microservices[e];if(t.isRoot)return t}throw new l.MissingMicroserviceException("ROOT")}},{key:"accountMicroservice",get:function(){for(let e in this.microservices)if(this.microservices.hasOwnProperty(e)){let t=this.microservices[e];if(t.identifier===Kernel.ACCOUNT_MICROSERVICE_IDENTIFIER)return t}return null}},{key:"services",get:function(){return this._services}},{key:"container",get:function(){return this._container}},{key:"isRumEnabled",get:function(){return this.has("log")&&this.get("log").isRumEnabled()}},{key:"isFrontend",get:function(){return this._context===Kernel.FRONTEND_CONTEXT}},{key:"isLocalhost",get:function(){return this.isFrontend&&-1!==["localhost","127.0.0.1","0.0.0.0","::1"].indexOf(window.location.hostname)}},{key:"isBackend",get:function(){return this._context===Kernel.BACKEND_CONTEXT}},{key:"buildId",get:function(){return this._config.deployId||""}},{key:"context",get:function(){return this._context}},{key:"env",get:function(){return this._env}},{key:"config",get:function(){return this._config}},{key:"microservices",get:function(){return this._container.get(Kernel.MICROSERVICES)}}],[{key:"_createProxyIfNeeded",value:function(e){if(e===e.service)return e;if(!e.hasOwnProperty("apply"))return e.service;let t=new Proxy(e,e.service);return t.__proto__=this.__proto__,t.constructor.prototype=this.constructor.prototype,t}},{key:"MicroserviceInjectable",get:function(){return f.Injectable}},{key:"ContainerAware",get:function(){return h.ContainerAware}},{key:"FRONTEND_BOOTSTRAP_VECTOR",get:function(){return"deep_frontend_bootstrap_vector"}},{key:"CONFIG",get:function(){return"deep_config"}},{key:"KERNEL",get:function(){return"deep_kernel"}},{key:"CONTEXT",get:function(){return"deep_context"}},{key:"MICROSERVICES",get:function(){return"deep_microservices"}},{key:"FRONTEND_CONTEXT",get:function(){return"frontend-ctx"}},{key:"BACKEND_CONTEXT",get:function(){return"backend-ctx"}},{key:"ALL_CONTEXTS",get:function(){return[Kernel.FRONTEND_CONTEXT,Kernel.BACKEND_CONTEXT]}},{key:"PROD_ENVIRONMENT",get:function(){return"prod"}},{key:"STAGE_ENVIRONMENT",get:function(){return"stage"}},{key:"TEST_ENVIRONMENT",get:function(){return"test"}},{key:"DEV_ENVIRONMENT",get:function(){return"dev"}},{key:"ASYNC_CONFIG_FILE",get:function(){return v.AsyncConfig.DEFAULT_CONFIG_FILE}},{key:"ASYNC_CONFIG_CACHE_KEY",get:function(){return"asyncConfig"}},{key:"ACCOUNT_MICROSERVICE_IDENTIFIER",get:function(){return"deep-account"}},{key:"ALL_ENVIRONMENTS",get:function(){return[Kernel.PROD_ENVIRONMENT,Kernel.STAGE_ENVIRONMENT,Kernel.TEST_ENVIRONMENT,Kernel.DEV_ENVIRONMENT]}}]),Kernel}()}).call(t,r(7))},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingWorkingMicroserviceException=void 0;var n=r(48);t.MissingWorkingMicroserviceException=function(e){function MissingWorkingMicroserviceException(){return _classCallCheck(this,MissingWorkingMicroserviceException),_possibleConstructorReturn(this,(MissingWorkingMicroserviceException.__proto__||Object.getPrototypeOf(MissingWorkingMicroserviceException)).call(this,"Missing working microservice from Kernel.MicroserviceInjectable"))}return _inherits(MissingWorkingMicroserviceException,e),MissingWorkingMicroserviceException}(n.Exception)},function(e,t,r){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(49),o=r(66);t.ConsoleDriver=function(e){function ConsoleDriver(){_classCallCheck(this,ConsoleDriver);var e=_possibleConstructorReturn(this,(ConsoleDriver.__proto__||Object.getPrototypeOf(ConsoleDriver)).call(this));return e._console=ConsoleDriver._buildConsole(),e}return _inherits(ConsoleDriver,e),n(ConsoleDriver,[{key:"log",value:function(e,t,r){let n="log";switch(t){case o.Log.EMERGENCY:case o.Log.ERROR:case o.Log.CRITICAL:n="error";break;case o.Log.ALERT:case o.Log.WARNING:n="warn";break;case o.Log.NOTICE:n="log";break;case o.Log.INFO:n="info";break;case o.Log.DEBUG:n="debug"}if((this._console[n]||this._console.log).call(ConsoleDriver.nativeConsole,i.AbstractDriver.timeString,e),r){let e=this._console.debug||this._console.log;e.call(ConsoleDriver.nativeConsole,"[DEBUG]",r)}}},{key:"overrideNative",value:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t=this;let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=ConsoleDriver.nativeConsole;for(let a in ConsoleDriver.METHODS_TO_OVERRIDE)if(ConsoleDriver.METHODS_TO_OVERRIDE.hasOwnProperty(a)){let s=ConsoleDriver.METHODS_TO_OVERRIDE[a];ConsoleDriver._isLogLevelEnabled(s)?(this._console[s]=this._console[s]||this._console.log,o[s]=function(){for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];if(!n){var u;let n=a;r&&(n=ConsoleDriver._colorOutput(s,n)),e&&n.unshift(i.AbstractDriver.timeString),(u=t._console)[s].apply(u,_toConsumableArray(n))}}):o[s]=(()=>{})}return this}}],[{key:"_buildConsole",value:function(){let e=ConsoleDriver.nativeConsole,t={};for(let r in ConsoleDriver.METHODS_TO_OVERRIDE)if(ConsoleDriver.METHODS_TO_OVERRIDE.hasOwnProperty(r)){let n=ConsoleDriver.METHODS_TO_OVERRIDE[r];"debug"===n&&void 0===e[n]&&(n="log"),t[n]=e[n],t[n].bind(e)}return t}},{key:"_isLogLevelEnabled",value:function(e){return-1!==ConsoleDriver.ERROR_LEVELS_MAPPING[ConsoleDriver.ENV_LOG_LEVEL].indexOf(e)}},{key:"_colorOutput",value:function(e,t){let r=null;switch(e.toLowerCase()){case"error":r=31;break;case"warn":r=33;break;default:r=32}return t.unshift(`[${r}m`),t.push("[0m"),t}},{key:"ERROR_LEVELS_MAPPING",get:function(){return{silent:["log"],error:["error","log"],warn:["warn","log","error"],info:["warn","log","error","info"],debug:["debug","warn","log","info","error"]}}},{key:"ENV_LOG_LEVEL",get:function(){let e="undefined"==typeof window?r.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).DEEP_LOG_LEVEL:window.DEEP_LOG_LEVEL;return e=e||"info",e="undefined"===e?"info":e,e.toLowerCase()}},{key:"nativeConsole",get:function(){return"undefined"==typeof window?console:window.console}},{key:"METHODS_TO_OVERRIDE",get:function(){return["error","log","warn","info","debug"]}}]),ConsoleDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FailedToDeleteSqsMessagesException=void 0;var n=r(22);t.FailedToDeleteSqsMessagesException=function(e){function FailedToDeleteSqsMessagesException(e,t){return _classCallCheck(this,FailedToDeleteSqsMessagesException),_possibleConstructorReturn(this,(FailedToDeleteSqsMessagesException.__proto__||Object.getPrototypeOf(FailedToDeleteSqsMessagesException)).call(this,`Failed to delete batch messages from "${e}" SQS queue. ${t}`))}return _inherits(FailedToDeleteSqsMessagesException,e),FailedToDeleteSqsMessagesException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FailedToReceiveSqsMessageException=void 0;var n=r(22);t.FailedToReceiveSqsMessageException=function(e){function FailedToReceiveSqsMessageException(e,t){return _classCallCheck(this,FailedToReceiveSqsMessageException),_possibleConstructorReturn(this,(FailedToReceiveSqsMessageException.__proto__||Object.getPrototypeOf(FailedToReceiveSqsMessageException)).call(this,`Failed to receive messages from "${e}" SQS queue. ${t}`))}return _inherits(FailedToReceiveSqsMessageException,e),FailedToReceiveSqsMessageException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FailedToSendBatchSqsMessageException=void 0;var n=r(22);t.FailedToSendBatchSqsMessageException=function(e){function FailedToSendBatchSqsMessageException(e,t){return _classCallCheck(this,FailedToSendBatchSqsMessageException),_possibleConstructorReturn(this,(FailedToSendBatchSqsMessageException.__proto__||Object.getPrototypeOf(FailedToSendBatchSqsMessageException)).call(this,`Failed to send batch messages to ${e} SQS queue. ${t}`))}return _inherits(FailedToSendBatchSqsMessageException,e),FailedToSendBatchSqsMessageException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FailedToSendSqsMessageException=void 0;var n=r(22);t.FailedToSendSqsMessageException=function(e){function FailedToSendSqsMessageException(e,t,r){return _classCallCheck(this,FailedToSendSqsMessageException),_possibleConstructorReturn(this,(FailedToSendSqsMessageException.__proto__||Object.getPrototypeOf(FailedToSendSqsMessageException)).call(this,`Failed to send "${t}" message to ${e} SQS queue. ${r}`))}return _inherits(FailedToSendSqsMessageException,e),FailedToSendSqsMessageException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidSqsQueueUrlException=void 0;var n=r(22);t.InvalidSqsQueueUrlException=function(e){function InvalidSqsQueueUrlException(e,t){return _classCallCheck(this,InvalidSqsQueueUrlException),_possibleConstructorReturn(this,(InvalidSqsQueueUrlException.__proto__||Object.getPrototypeOf(InvalidSqsQueueUrlException)).call(this,`Invalid SQS queue url "${e}". ${t}`))}return _inherits(InvalidSqsQueueUrlException,e),InvalidSqsQueueUrlException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RumEventValidationException=void 0;var n=r(22);t.RumEventValidationException=function(e){function RumEventValidationException(e,t){return _classCallCheck(this,RumEventValidationException),_possibleConstructorReturn(this,(RumEventValidationException.__proto__||Object.getPrototypeOf(RumEventValidationException)).call(this,`Failed to validate "${e}" event: ${t}`))}return _inherits(RumEventValidationException,e),RumEventValidationException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownRumEventException=void 0;var n=r(22);t.UnknownRumEventException=function(e){function UnknownRumEventException(e){return _classCallCheck(this,UnknownRumEventException),_possibleConstructorReturn(this,(UnknownRumEventException.__proto__||Object.getPrototypeOf(UnknownRumEventException)).call(this,`Failed to 'guess' event type for ${JSON.stringify(e)} event.`))}return _inherits(UnknownRumEventException,e),UnknownRumEventException}(n.LogDriverException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EventFactory=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(387),o=r(388),a=r(92),s=r(385);t.EventFactory=function(){function EventFactory(){_classCallCheck(this,EventFactory)}return n(EventFactory,null,[{key:"create",value:function(e,t){let r=null;if(t.service&&-1!==a.AbstractEvent.SERVICES.indexOf(t.service))r=i.FrameworkEvent;else{if(!t.engine)throw new s.UnknownRumEventException(t);r=o.FrontendEvent}return new r(e,t)}}]),EventFactory}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FrameworkEvent=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(24),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(92);t.FrameworkEvent=function(e){function FrameworkEvent(){var e;_classCallCheck(this,FrameworkEvent);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=FrameworkEvent.__proto__||Object.getPrototypeOf(FrameworkEvent)).call.apply(e,[this].concat(r)))}return _inherits(FrameworkEvent,e),n(FrameworkEvent,[{key:"getEventLevel",value:function(){return a.AbstractEvent.FRAMEWORK_EVENT_LEVEL}},{key:"toJSON",value:function(){return this._data}},{key:"getValidationSchema",value:function(){return o.default.object().keys({depthLevel:o.default.number().integer().optional(),eventLevel:o.default.string().required().allow([a.AbstractEvent.FRAMEWORK_EVENT_LEVEL]),service:o.default.string().required().allow(a.AbstractEvent.SERVICES),resourceType:o.default.string().required().allow(a.AbstractEvent.RESOURCE_TYPES),resourceId:o.default.string().required(),eventName:o.default.string().required(),eventId:o.default.string().alphanum().optional(),time:o.default.number().integer().required(),context:o.default.string().required().allow(a.AbstractEvent.CONTEXTS),memoryUsage:o.default.object().unknown().optional().default({}),payload:o.default.object().unknown().optional().default({}),metadata:o.default.object().unknown().optional().default({}),environment:o.default.object().unknown().optional().default({}),requestId:o.default.string(),mainRequestId:o.default.string().optional(),identityId:o.default.string().required()})}}]),FrameworkEvent}(a.AbstractEvent)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FrontendEvent=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(24),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(92);t.FrontendEvent=function(e){function FrontendEvent(){var e;_classCallCheck(this,FrontendEvent);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=FrontendEvent.__proto__||Object.getPrototypeOf(FrontendEvent)).call.apply(e,[this].concat(r)))}return _inherits(FrontendEvent,e),n(FrontendEvent,[{key:"getEventLevel",value:function(){return s.AbstractEvent.FRONTEND_EVENT_LEVEL}},{key:"toJSON",value:function(){return this._data}},{key:"getValidationSchema",value:function(){return a.default.object().keys({eventLevel:a.default.string().required().allow([s.AbstractEvent.FRONTEND_EVENT_LEVEL]),engine:a.default.string().required().allow(FrontendEvent.ENGINES),time:a.default.number().integer().required(),context:a.default.string().required().allow([s.AbstractEvent.FRONTEND_CONTEXT]),environment:a.default.object().unknown().optional().default({}),identityId:a.default.string().required(),memoryUsage:a.default.object().unknown().optional().default({}),metadata:a.default.object().unknown().optional().default({}),location:a.default.string().optional()})}},{key:"_enrichWithContextData",value:function(e){return e=i(FrontendEvent.prototype.__proto__||Object.getPrototypeOf(FrontendEvent.prototype),"_enrichWithContextData",this).call(this,e),e.location="undefined"!=typeof window?`${window.location.pathname}${window.location.hash}`:null,e}}],[{key:"ENGINES",get:function(){return["angular","vanilla"]}}]),FrontendEvent}(s.AbstractEvent)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RavenBrowserDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(49),o=r(66),a=r(217),s=_interopRequireDefault(a),c=r(117),u=_interopRequireDefault(c),l=r(20),f=_interopRequireDefault(l);t.RavenBrowserDriver=function(e){function RavenBrowserDriver(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,RavenBrowserDriver);var r=_possibleConstructorReturn(this,(RavenBrowserDriver.__proto__||Object.getPrototypeOf(RavenBrowserDriver)).call(this));return t=f.default._extend(t,{maxMessageLength:256}),s.default.config(RavenBrowserDriver._prepareDsn(e),t).install(),r}return _inherits(RavenBrowserDriver,e),n(RavenBrowserDriver,[{key:"log",value:function(e,t,r){let n=RavenBrowserDriver._mapLevel(t);s.default.captureMessage(e,{level:n,extra:r,tags:{originalLevel:t}})}}],[{key:"_prepareDsn",value:function(e){let t=u.default.parse(e);return t.auth=t.auth.split(":")[0],u.default.format(t)}},{key:"_mapLevel",value:function(e){let t="info";switch(e){case o.Log.EMERGENCY:case o.Log.CRITICAL:t="fatal";break;case o.Log.ALERT:case o.Log.WARNING:case o.Log.NOTICE:t="warning";break;case o.Log.ERROR:t="error";break;case o.Log.INFO:t="info";break;case o.Log.DEBUG:t="debug"}return t}}]),RavenBrowserDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RavenDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(49),o=r(66),a=r(217),s=_interopRequireDefault(a),c=r(20),u=_interopRequireDefault(c);t.RavenDriver=function(e){function RavenDriver(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,RavenDriver);var r=_possibleConstructorReturn(this,(RavenDriver.__proto__||Object.getPrototypeOf(RavenDriver)).call(this));t=u.default._extend(t,{maxMessageLength:256}),r._clients={};for(let n in o.Log.LEVELS)if(o.Log.LEVELS.hasOwnProperty(n)){let i=RavenDriver._mapLevel(o.Log.LEVELS[n]);t.level=i,r._clients[i]=new s.default.Client(e,t)}return r}return _inherits(RavenDriver,e),n(RavenDriver,[{key:"log",value:function(e,t,r){let n=RavenDriver._mapLevel(t);this._clients[n].captureMessage(e,{extra:r,tags:{originalLevel:t}})}},{key:"clients",get:function(){return this._clients}}],[{key:"_mapLevel",value:function(e){let t="info";switch(e){case o.Log.EMERGENCY:case o.Log.CRITICAL:t="fatal";break;case o.Log.ALERT:case o.Log.WARNING:case o.Log.NOTICE:t="warning";break;case o.Log.ERROR:t="error";break;case o.Log.INFO:t="info";break;case o.Log.DEBUG:t="debug"}return t}}]),RavenDriver}(i.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RumSqsDriver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(49),s=r(382),c=r(381),u=r(380),l=r(379),f=r(383),h=r(384),d=r(386);t.RumSqsDriver=function(e){function RumSqsDriver(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,RumSqsDriver);var n=_possibleConstructorReturn(this,(RumSqsDriver.__proto__||Object.getPrototypeOf(RumSqsDriver)).call(this));return n._queueUrl=e,n._kernel=t,n._enabled=r,n._messagesBatch=[],n._runningBatches=0,n._sqs=null,n}return _inherits(RumSqsDriver,e),n(RumSqsDriver,[{key:"log",value:function(e,t){if(!this.enabled)return void t(null,null);let r=d.EventFactory.create(this.kernel,e);if(!r.isValid())return void t(new h.RumEventValidationException(r.getEventLevel(),r.validationError),null);if(this.kernel.isBackend)if(this._messagesBatch.length<RumSqsDriver.BATCH_SIZE&&this._messagesBatch.push(r),this._messagesBatch.length===RumSqsDriver.BATCH_SIZE){let e=this._messagesBatch.slice();this._messagesBatch=[],this._sendMessageBatch(e,t)}else t(null,null);else this._sendMessage(r,t)}},{key:"flush",value:function(e){if(!this.enabled||0===this._messagesBatch.length&&0===this._runningBatches)return void e(null,null);this._sendMessageBatch(this._messagesBatch,(t,r)=>{this._messagesBatch=[];if(this._runningBatches>0)var n=setInterval(()=>{if(0===this._runningBatches)return clearInterval(n),e(t,r)},50);else e(t,r)})}},{key:"_sendMessage",value:function(e,t){let r={MessageBody:JSON.stringify(e),QueueUrl:this.queueUrl};this.sqs.sendMessage(r,(e,n)=>{e&&(e=new s.FailedToSendSqsMessageException(r.QueueUrl,r.MessageBody,e));t(e,n)})}},{key:"_sendMessageBatch",value:function(e,t){if(0===e.length)return void t(null,null);this._runningBatches++;let r=[];e.forEach((e,t)=>{e=JSON.stringify(e);let n=`${a.AbstractDriver._md5(e)}-${(new Date).getTime()}-${t}`;r.push({Id:n,MessageBody:e})});var n={QueueUrl:this.queueUrl,Entries:r};this.sqs.sendMessageBatch(n,(e,r)=>{this._runningBatches--;e&&(e=new c.FailedToSendBatchSqsMessageException(n.QueueUrl,e));t(e,r)})}},{key:"receiveMessages",value:function(e){let t={QueueUrl:this.queueUrl,MaxNumberOfMessages:10,VisibilityTimeout:20,WaitTimeSeconds:0};this.sqs.receiveMessage(t,(r,n)=>{r&&(r=new u.FailedToReceiveSqsMessageException(t.QueueUrl,r));e(r,n)})}},{key:"deleteMessages",value:function(e,t){if(0===e.length)return void t(null,null);let r={QueueUrl:this.queueUrl,Entries:[]};e.forEach(e=>{r.Entries.push({Id:e.MessageId,ReceiptHandle:e.ReceiptHandle})}),this.sqs.deleteMessageBatch(r,(e,n)=>{e&&(e=new l.FailedToDeleteSqsMessagesException(r.QueueUrl,e));t(e,n)})}},{key:"getQueueAttributes",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=["ApproximateNumberOfMessages","ApproximateNumberOfMessagesNotVisible","ApproximateNumberOfMessagesDelayed"],n=r.concat(t.filter(e=>-1===r.indexOf(e))),i={QueueUrl:this.queueUrl,AttributeNames:n};this.sqs.getQueueAttributes(i,e)}},{key:"queueUrl",get:function(){return this._queueUrl}},{key:"kernel",get:function(){return this._kernel}},{key:"enabled",get:function(){return this._enabled}},{key:"sqs",get:function(){return this._sqs||(this._sqs=new o.default.SQS({region:RumSqsDriver.getRegionFromSqsQueueUrl(this.queueUrl)})),this._sqs}}],[{key:"getRegionFromSqsQueueUrl",value:function(e){let t=e.match(/\.([^\.]+)\.amazonaws\.com\/.*/i);if(!t||0===t.length)throw new f.InvalidSqsQueueUrlException(e,"Unable to extract AWS region.");return t[1]}},{key:"BATCH_SIZE",get:function(){return 10}},{key:"ES_LOGS_INDEX",get:function(){return"rum"}},{key:"ES_LOGS_TYPE",get:function(){return"logs"}}]),RumSqsDriver}(a.AbstractDriver)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.Exception=function(e){function Exception(){var e;_classCallCheck(this,Exception);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(e,[this].concat(r)))}return _inherits(Exception,e),Exception}(i.default.Exception.Exception)},function(e,t,r){"use strict";var n=r(66);e.exports=n.Log},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingResourceException=void 0;var n=r(8);t.MissingResourceException=function(e){function MissingResourceException(e,t){return _classCallCheck(this,MissingResourceException),_possibleConstructorReturn(this,(MissingResourceException.__proto__||Object.getPrototypeOf(MissingResourceException)).call(this,`Missing resource ${t} in ${e}`))}return _inherits(MissingResourceException,e),MissingResourceException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(409),s=r(394);t.Resource=function(e){function Resource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Resource);var t=_possibleConstructorReturn(this,(Resource.__proto__||Object.getPrototypeOf(Resource)).call(this));return t._resources=e,t._actionsConfig={},t._baseUrl=null,t}return _inherits(Resource,e),n(Resource,[{key:"baseUrl",value:function(e){return this._baseUrl=e,this}},{key:"getActionConfig",value:function(e){return this._actionsConfig.hasOwnProperty(e)?this._actionsConfig[e]:null}},{key:"has",value:function(e){return this._resources[this.microservice.identifier].hasOwnProperty(e)}},{key:"get",value:function(e){let t=this._parseResourceIdentifier(this._resolveIdentifier(e)),r=t.resource,n=t.action,i=this.microservice.identifier;if(!this.has(r))throw new s.MissingResourceException(i,r);let o=this._resources[i][r];return o.cache=this.container.get("cache"),o.security=this.container.get("security"),o.validation=this.container.get("validation"),o.log=this.container.get("log"),o.contextProvider=this.kernel.contextProvider,o.baseUrl=this._baseUrl,n?o.action(n):o}},{key:"_parseResourceIdentifier",value:function(e){let t=e.split(":").map(e=>e.trim());return{resource:t.shift(),action:t.length>0?t.join(":"):null}}},{key:"boot",value:function(e,t){let r=[];for(let t in e.microservices)if(e.microservices.hasOwnProperty(t)){let n=e.microservices[t];this._resources[n.identifier]={};for(let t in n.rawResources)if(n.rawResources.hasOwnProperty(t)){let i=new a.Instance(t,n);i.localBackend=this.localBackend,i.isBackend=e.isBackend,this._resources[n.identifier][t]=i,r.push(i);let o=i.actionsConfig;for(let e in o)o.hasOwnProperty(e)&&(this._actionsConfig[e]=o[e])}}t()}},{key:"actionsConfig",get:function(){return this._actionsConfig}},{key:"list",get:function(){let e={};for(let t in this._resources)this._resources.hasOwnProperty(t)&&(e[t]=Object.keys(this._resources[t]));return e}}]),Resource}(o.default.ContainerAware)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncCallNotAvailableException=void 0;var n=r(8);t.AsyncCallNotAvailableException=function(e){function AsyncCallNotAvailableException(e){return _classCallCheck(this,AsyncCallNotAvailableException),_possibleConstructorReturn(this,(AsyncCallNotAvailableException.__proto__||Object.getPrototypeOf(AsyncCallNotAvailableException)).call(this,`Async calls are available for lambdas only (${e} type provided)`))}return _inherits(AsyncCallNotAvailableException,e),AsyncCallNotAvailableException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CachedRequestException=void 0;var n=r(8);t.CachedRequestException=function(e){function CachedRequestException(e){return _classCallCheck(this,CachedRequestException),_possibleConstructorReturn(this,(CachedRequestException.__proto__||Object.getPrototypeOf(CachedRequestException)).call(this,`Error while working with cached response: ${e}`))}return _inherits(CachedRequestException,e),CachedRequestException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LambdaParamsCompatibilityException=void 0;var n=r(8);t.LambdaParamsCompatibilityException=function(e){function LambdaParamsCompatibilityException(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _classCallCheck(this,LambdaParamsCompatibilityException),_possibleConstructorReturn(this,(LambdaParamsCompatibilityException.__proto__||Object.getPrototypeOf(LambdaParamsCompatibilityException)).call(this,`Lambda parameters "${JSON.stringify(e)}" are incompatible. ${t}`))}return _inherits(LambdaParamsCompatibilityException,e),LambdaParamsCompatibilityException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadCredentialsException=void 0;var n=r(8);t.LoadCredentialsException=function(e){function LoadCredentialsException(e){return _classCallCheck(this,LoadCredentialsException),_possibleConstructorReturn(this,(LoadCredentialsException.__proto__||Object.getPrototypeOf(LoadCredentialsException)).call(this,`Error on loading security credentials in deep-resource -> request. ${e}`))}return _inherits(LoadCredentialsException,e),LoadCredentialsException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingActionException=void 0;var n=r(8);t.MissingActionException=function(e){function MissingActionException(e,t){return _classCallCheck(this,MissingActionException),_possibleConstructorReturn(this,(MissingActionException.__proto__||Object.getPrototypeOf(MissingActionException)).call(this,`Missing action ${t} in ${e} resource.`))}return _inherits(MissingActionException,e),MissingActionException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingCacheImplementationException=void 0;var n=r(8);t.MissingCacheImplementationException=function(e){function MissingCacheImplementationException(){return _classCallCheck(this,MissingCacheImplementationException),_possibleConstructorReturn(this,(MissingCacheImplementationException.__proto__||Object.getPrototypeOf(MissingCacheImplementationException)).call(this,"Missing cache implementation in Request object"))}return _inherits(MissingCacheImplementationException,e),MissingCacheImplementationException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingLambdaLocalPathException=void 0;var n=r(8);t.MissingLambdaLocalPathException=function(e){function MissingLambdaLocalPathException(e){return _classCallCheck(this,MissingLambdaLocalPathException),_possibleConstructorReturn(this,(MissingLambdaLocalPathException.__proto__||Object.getPrototypeOf(MissingLambdaLocalPathException)).call(this,`Missing local path for Lambda ${e}`))}return _inherits(MissingLambdaLocalPathException,e),MissingLambdaLocalPathException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingLocalLambdaExecWrapperException=void 0;var n=r(8);t.MissingLocalLambdaExecWrapperException=function(e){function MissingLocalLambdaExecWrapperException(e){return _classCallCheck(this,MissingLocalLambdaExecWrapperException),_possibleConstructorReturn(this,(MissingLocalLambdaExecWrapperException.__proto__||Object.getPrototypeOf(MissingLocalLambdaExecWrapperException)).call(this,`Missing local lambda execution wrapper in global.${e}`))}return _inherits(MissingLocalLambdaExecWrapperException,e),MissingLocalLambdaExecWrapperException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingSecurityServiceException=void 0;var n=r(8);t.MissingSecurityServiceException=function(e){function MissingSecurityServiceException(){return _classCallCheck(this,MissingSecurityServiceException),_possibleConstructorReturn(this,(MissingSecurityServiceException.__proto__||Object.getPrototypeOf(MissingSecurityServiceException)).call(this,"Missing security service in Request instance."))}return _inherits(MissingSecurityServiceException,e),MissingSecurityServiceException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotAuthenticatedException=void 0;var n=r(8);t.NotAuthenticatedException=function(e){function NotAuthenticatedException(){return _classCallCheck(this,NotAuthenticatedException),_possibleConstructorReturn(this,(NotAuthenticatedException.__proto__||Object.getPrototypeOf(NotAuthenticatedException)).call(this,"Missing authentication token! You may want to authenticate the user first(ex. security.anonymousLogin())."))}return _inherits(NotAuthenticatedException,e),NotAuthenticatedException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SourceNotAvailableException=void 0;var n=r(8);t.SourceNotAvailableException=function(e){function SourceNotAvailableException(e,t){return _classCallCheck(this,SourceNotAvailableException),_possibleConstructorReturn(this,(SourceNotAvailableException.__proto__||Object.getPrototypeOf(SourceNotAvailableException)).call(this,`The ${e} source is not available for the resource '${t.fullName}'`))}return _inherits(SourceNotAvailableException,e),SourceNotAvailableException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownMethodException=void 0;var n=r(8);t.UnknownMethodException=function(e){function UnknownMethodException(e,t){_classCallCheck(this,UnknownMethodException);let r=t.join(", ");return _possibleConstructorReturn(this,(UnknownMethodException.__proto__||Object.getPrototypeOf(UnknownMethodException)).call(this,`Requested method ${e} must be one of ${r}`))}return _inherits(UnknownMethodException,e),UnknownMethodException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(8);t.ValidationError=function(e){function ValidationError(e,t){_classCallCheck(this,ValidationError);var r=_possibleConstructorReturn(this,(ValidationError.__proto__||Object.getPrototypeOf(ValidationError)).call(this,`Payload validation failed: ${e}`));return r._validationErrors=t,r}return _inherits(ValidationError,e),n(ValidationError,[{key:"validationErrors",get:function(){return this._validationErrors}}]),ValidationError}(i.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Instance=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(400),o=r(93);t.Instance=function(){function Instance(e,t){_classCallCheck(this,Instance),this._name=e,this._microservice=t,this._rawActions=t.rawResources[e],this._actions=null,this._localBackend=!1,this._isBackend=!1,this._cache=null,this._security=null,this._validation=null,this._contextProvider=null,this._log=null,this._baseUrl=null,this._fillActions()}return n(Instance,[{key:"_fillActions",value:function(){this._actions={};for(let e in this._rawActions)if(this._rawActions.hasOwnProperty(e)){let t=this._rawActions[e],r=new o.Action(this,e,t.type,t.methods,t.source,t.region,t.forceUserIdentity,t.apiCache,t.scope,t.api);t.validationSchema&&(r.validationSchemaName=t.validationSchema),r.baseUrl=this._baseUrl,this._actions[e]=r}}},{key:"has",value:function(e){return this.actions.hasOwnProperty(e)}},{key:"action",value:function(e){if(!this.has(e))throw new i.MissingActionException(this.name,e);var t=this.actions[e];return t.baseUrl=this._baseUrl,t}},{key:"request",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this.action(e)).request.apply(t,n)}},{key:"baseUrl",set:function(e){this._baseUrl=e}},{key:"actionsConfig",get:function(){let e={};for(let t in this.actions)if(this.actions.hasOwnProperty(t)){let r=this.actions[t];e[r.sourceId]={resource:this._name,name:r.name,type:r.type,methods:r.methods,source:r.source,region:r.region,forceUserIdentity:r.forceUserIdentity,validationSchema:r.validationSchemaName}}return e}},{key:"microservice",get:function(){return this._microservice}},{key:"validation",get:function(){return this._validation},set:function(e){this._validation=e}},{key:"security",get:function(){return this._security},set:function(e){this._security=e}},{key:"name",get:function(){return this._name}},{key:"cache",get:function(){return this._cache},set:function(e){this._cache=e}},{key:"log",get:function(){return this._log},set:function(e){this._log=e}},{key:"localBackend",get:function(){return this._localBackend},set:function(e){this._localBackend=e}},{key:"isBackend",get:function(){return this._isBackend},set:function(e){this._isBackend=e}},{key:"actions",get:function(){return this._actions}},{key:"contextProvider",set:function(e){this._contextProvider=e},get:function(){return this._contextProvider}}]),Instance}()},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRequest=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(175),o=r(94),a=r(174),s=r(93),c=r(224),u=_interopRequireDefault(c),l=r(403),f=r(402),h=r(124),d=_interopRequireDefault(h);t.LocalRequest=function(t){function LocalRequest(){var e;_classCallCheck(this,LocalRequest);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=LocalRequest.__proto__||Object.getPrototypeOf(LocalRequest)).call.apply(e,[this].concat(r)))}return _inherits(LocalRequest,t),n(LocalRequest,[{key:"_buildEndpointUrl",value:function(){let e=this._async?LocalRequest.LOCAL_LAMBDA_ASYNC_ENDPOINT:LocalRequest.LOCAL_LAMBDA_ENDPOINT;if(this.baseUrl){let t=(0,d.default)(this.baseUrl),r=t.protocol||"http:",n=`${r}//${t.host}`;e=n+e}return e}},{key:"_send",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},r=this._action.type,n=this._action.resource.security;if(r!==s.Action.LAMBDA){var a;return(a=this.constructor.useNative())._send.apply(a,arguments)}{let r={lambda:this._action.source.original,payload:this.payload,method:this._method,context:{identity:{cognitoIdentityPoolId:n.token?n.token.identityPoolId:null,cognitoIdentityId:n.token?n.token.identityId:null,isAnonymous:!n.token||n.token.isAnonymous}}};if("undefined"==typeof window){if(!e.hasOwnProperty(LocalRequest.LAMBDA_EXEC_WRAPPER_KEY))throw new l.MissingLocalLambdaExecWrapperException(LocalRequest.LAMBDA_EXEC_WRAPPER_KEY);let n=this._action.source._localPath;if(!n)throw new f.MissingLambdaLocalPathException(r.lambda);let i=e[LocalRequest.LAMBDA_EXEC_WRAPPER_KEY];i[this._async?"invokeAsync":"invoke"](n,r,(e,r)=>{let n={};this._async?n.Status=202:n.Payload=r;t(new o.LambdaResponse(this,e?null:n,e))})}else u.default.post(this._buildEndpointUrl()).send(r).end((e,r)=>{t(new i.SuperagentResponse(this,r,e))})}return this}}],[{key:"LOCAL_LAMBDA_ENDPOINT",get:function(){return"/_/lambda"}},{key:"LOCAL_LAMBDA_ASYNC_ENDPOINT",get:function(){return"/_/lambda-async"}},{key:"LAMBDA_EXEC_WRAPPER_KEY",get:function(){return"_deep_lambda_exec_"}}]),LocalRequest}(a.Request)}).call(t,r(4))},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RetryManager=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(98);t.RetryManager=function(){function RetryManager(e){_classCallCheck(this,RetryManager),this._strategies=e.map(i.StrategyFactory.create),this._count=0}return n(RetryManager,[{key:"addStrategy",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this._strategies.push(i.StrategyFactory.create.apply(i.StrategyFactory,[e].concat(r))),this}},{key:"isRetryable",value:function(e){return this._strategies.reduce((t,r)=>t||r.decide(e),!1)&&--this._count>0}},{key:"count",set:function(e){this._count=e},get:function(){return this._count}}]),RetryManager}()},function(e,t,r){function webpackContext(e){return r(webpackContextResolve(e))}function webpackContextResolve(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./AbstractStrategy":67,"./AbstractStrategy.js":67,"./CustomStrategy":96,"./CustomStrategy.js":96,"./InternalErrorStrategy":97,"./InternalErrorStrategy.js":97,"./StrategyFactory":98,"./StrategyFactory.js":98};webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=412},function(e,t,r){"use strict";var n=r(395);e.exports=n.Resource},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BackendUserProvider=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(176);t.BackendUserProvider=function(e){function BackendUserProvider(e,t){_classCallCheck(this,BackendUserProvider);var r=_possibleConstructorReturn(this,(BackendUserProvider.__proto__||Object.getPrototypeOf(BackendUserProvider)).call(this));return r.userModelName=e,r.deepDb=t,r}return _inherits(BackendUserProvider,e),n(BackendUserProvider,[{key:"loadUserByIdentityId",value:function(e,t){let r=null;if(this.deepDb.has(this.userModelName)&&(r=this.deepDb.get(this.userModelName)),!r)return void t(null,null);r.findOneById(e,(e,r)=>{t(e,r&&r.get())})}}]),BackendUserProvider}(i.AbstractUserProvider)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsManager=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(179),o=r(18),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(99),c=r(416);t.CredentialsManager=function(){function CredentialsManager(e){_classCallCheck(this,CredentialsManager),this._token=e,this._systemCredentials=null,this._rolesCredentials={}}return n(CredentialsManager,[{key:"validCredentials",value:function(e){return e&&this.getCredentialsExpireDateTime(e)>new Date}},{key:"getCredentialsExpireDateTime",value:function(e){let t=null;return e&&e.hasOwnProperty("expireTime")&&(t=e.expireTime instanceof Date?e.expireTime:new Date(e.expireTime)),t}},{key:"getCredentials",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e?this._rolesCredentials[this.roleSessionKey(e)]:this._systemCredentials;return r=r||this._createCognitoIdentityCredentials(e),!this.validCredentials(r)&&t?this.refreshIdentityProviderIfNeeded().then(()=>{r=this._createCognitoIdentityCredentials(e);e?this._rolesCredentials[this.roleSessionKey(e)]=r:this.systemCredentials=r;return this._refreshCredentials(r)}):Promise.resolve(r)}},{key:"refreshIdentityProviderIfNeeded",value:function(){return this.identityProvider&&!this.identityProvider.isTokenValid()?this.identityProvider.refresh():Promise.resolve()}},{key:"_refreshCredentials",value:function(e){if(!(e instanceof a.default.CognitoIdentityCredentials||e instanceof a.default.Credentials)){let e=new c.AuthException("Invalid credentials instance. Passed credentials must be an instance of AWS.CognitoIdentityCredentials.");return Promise.reject(e)}if(this.identityProvider&&!this.identityProvider.isTokenValid()){let e=new s.IdentityProviderTokenExpiredException(this.identityProvider.domain,this.identityProvider.tokenExpirationTime);return Promise.reject(e)}return new Promise((t,r)=>{e.refresh(n=>{if(n)return r(new c.AuthException(n));return t(e)})})}},{key:"roleSessionKey",value:function(e){let t=e?e.Id:"default";return`${i.TokenManager.RECORD_NAME}-${t}`}},{key:"_createCognitoIdentityCredentials",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={IdentityPoolId:this.identityPoolId};this.identityProvider&&(t.Logins={},t.Logins[this.identityProvider.domain]=this.identityProvider.userToken,t.LoginId=this.identityProvider.userId,e&&(t.RoleArn=e.IamRole.Arn,t.RoleSessionName=this.roleSessionKey(e)));let r=new a.default.CognitoIdentityCredentials(t);return r.toJSON=function(){return{expired:this.expired,expireTime:this.expireTime,accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey,sessionToken:this.sessionToken}},r}},{key:"clearCache",value:function(){this._systemCredentials instanceof a.default.CognitoIdentityCredentials||(this.systemCredentials=this._createCognitoIdentityCredentials()),this._systemCredentials.clearCachedId();for(let e in this._rolesCredentials)this._rolesCredentials.hasOwnProperty(e)&&this._rolesCredentials[e]instanceof a.default.CognitoIdentityCredentials&&this._rolesCredentials[e].clearCachedId();return this}},{key:"overwriteAWSCredentials",value:function(e){return a.default.config.credentials=e,this._token&&(this._token._sts.credentials=e,this._token._tokenManager&&(this._token._tokenManager._cognitoSyncClient=null)),this}},{key:"token",get:function(){return this._token}},{key:"identityPoolId",get:function(){return this.token._identityPoolId}},{key:"identityProvider",get:function(){return this.token.identityProvider}},{key:"rolesCredentials",get:function(){return this._rolesCredentials},set:function(e){this._rolesCredentials=e}},{key:"systemCredentials",set:function(e){this._systemCredentials=e,this.token.lambdaContext||this.overwriteAWSCredentials(e)},get:function(){return this._systemCredentials}}]),CredentialsManager}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthException=void 0;var n=r(12);t.AuthException=function(e){function AuthException(e){return _classCallCheck(this,AuthException),_possibleConstructorReturn(this,(AuthException.__proto__||Object.getPrototypeOf(AuthException)).call(this,`Error on authentication. ${e}`))}return _inherits(AuthException,e),AuthException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CreateCognitoDatasetException=void 0;var n=r(12);t.CreateCognitoDatasetException=function(e){function CreateCognitoDatasetException(e,t){return _classCallCheck(this,CreateCognitoDatasetException),_possibleConstructorReturn(this,(CreateCognitoDatasetException.__proto__||Object.getPrototypeOf(CreateCognitoDatasetException)).call(this,`Error on opening or creating "${e}" Cognito dataset. ${t}`))}return _inherits(CreateCognitoDatasetException,e),CreateCognitoDatasetException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DescribeIdentityException=void 0;var n=r(12);t.DescribeIdentityException=function(e){function DescribeIdentityException(e,t){return _classCallCheck(this,DescribeIdentityException),_possibleConstructorReturn(this,(DescribeIdentityException.__proto__||Object.getPrototypeOf(DescribeIdentityException)).call(this,`Error on describing cognito identity ${e}. ${t}`))}return _inherits(DescribeIdentityException,e),DescribeIdentityException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityProviderMismatchException=void 0;var n=r(12);t.IdentityProviderMismatchException=function(e){function IdentityProviderMismatchException(e,t){return _classCallCheck(this,IdentityProviderMismatchException),_possibleConstructorReturn(this,(IdentityProviderMismatchException.__proto__||Object.getPrototypeOf(IdentityProviderMismatchException)).call(this,`Provider "${e}" does not match with identityMetadataProvider "${t}".`))}return _inherits(IdentityProviderMismatchException,e),IdentityProviderMismatchException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidProviderIdentityException=void 0;var n=r(12);t.InvalidProviderIdentityException=function(e){function InvalidProviderIdentityException(e){return _classCallCheck(this,InvalidProviderIdentityException),_possibleConstructorReturn(this,(InvalidProviderIdentityException.__proto__||Object.getPrototypeOf(InvalidProviderIdentityException)).call(this,`Passed "${e}" identity does not contain mandatory access_token or tokenExpirationTime fields.`))}return _inherits(InvalidProviderIdentityException,e),InvalidProviderIdentityException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadUserException=void 0;var n=r(12);t.LoadUserException=function(e){function LoadUserException(e,t){return _classCallCheck(this,LoadUserException),_possibleConstructorReturn(this,(LoadUserException.__proto__||Object.getPrototypeOf(LoadUserException)).call(this,`Error on loading user ${e} from db. ${t}`))}return _inherits(LoadUserException,e),LoadUserException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingIdentityImplementationException=void 0;var n=r(12);t.MissingIdentityImplementationException=function(e){function MissingIdentityImplementationException(e){return _classCallCheck(this,MissingIdentityImplementationException),_possibleConstructorReturn(this,(MissingIdentityImplementationException.__proto__||Object.getPrototypeOf(MissingIdentityImplementationException)).call(this,`Missing identity implementation for "${e}"`))}return _inherits(MissingIdentityImplementationException,e),MissingIdentityImplementationException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingLoginProviderException=void 0;var n=r(12);t.MissingLoginProviderException=function(e){function MissingLoginProviderException(e){return _classCallCheck(this,MissingLoginProviderException),_possibleConstructorReturn(this,(MissingLoginProviderException.__proto__||Object.getPrototypeOf(MissingLoginProviderException)).call(this,`Missing login provider "${e}" in deep-security.`))}return _inherits(MissingLoginProviderException,e),MissingLoginProviderException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefreshTokenException=void 0;var n=r(99);t.MissingRefreshTokenException=function(e){function MissingRefreshTokenException(){return _classCallCheck(this,MissingRefreshTokenException),_possibleConstructorReturn(this,(MissingRefreshTokenException.__proto__||Object.getPrototypeOf(MissingRefreshTokenException)).call(this,"Missing refresh token"))}return _inherits(MissingRefreshTokenException,e),MissingRefreshTokenException}(n.IdentityProviderTokenExpiredException)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PutCognitoRecordException=void 0;var n=r(12);t.PutCognitoRecordException=function(e){function PutCognitoRecordException(e,t,r){return _classCallCheck(this,PutCognitoRecordException),_possibleConstructorReturn(this,(PutCognitoRecordException.__proto__||Object.getPrototypeOf(PutCognitoRecordException)).call(this,`Error on putting "${t}" record into "${e}" dataset. ${r}`))}return _inherits(PutCognitoRecordException,e),PutCognitoRecordException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronizeCognitoDatasetException=void 0;var n=r(12);t.SynchronizeCognitoDatasetException=function(e){function SynchronizeCognitoDatasetException(e,t){return _classCallCheck(this,SynchronizeCognitoDatasetException),_possibleConstructorReturn(this,(SynchronizeCognitoDatasetException.__proto__||Object.getPrototypeOf(SynchronizeCognitoDatasetException)).call(this,`Error on synchronizing "${e}" Cognito dataset. ${t}`))}return _inherits(SynchronizeCognitoDatasetException,e),SynchronizeCognitoDatasetException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FrontendUserProvider=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(421),o=r(176);t.FrontendUserProvider=function(e){function FrontendUserProvider(e,t){_classCallCheck(this,FrontendUserProvider);var r=_possibleConstructorReturn(this,(FrontendUserProvider.__proto__||Object.getPrototypeOf(FrontendUserProvider)).call(this));return r._retrieveUserResource=e,r._deepResource=t,r}return _inherits(FrontendUserProvider,e),n(FrontendUserProvider,[{key:"loadUserByIdentityId",value:function(e,t){if(!this._retrieveUserResource)return void t(null,null);this._deepResource.get(this._retrieveUserResource).request({Id:e}).authScope(null).retry(3).disableCache().send(r=>{if(r.error)return void t(new i.LoadUserException(e,r.error),null);return t(null,r.data)})}}]),FrontendUserProvider}(o.AbstractUserProvider)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractImplementation=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.AbstractImplementation=function(e){function AbstractImplementation(e){_classCallCheck(this,AbstractImplementation);var t=_possibleConstructorReturn(this,(AbstractImplementation.__proto__||Object.getPrototypeOf(AbstractImplementation)).call(this,["refreshIdentity"]));return t._identityProvider=e,t}return _inherits(AbstractImplementation,e),n(AbstractImplementation,[{key:"refreshToken",get:function(){return this._identityProvider.refreshToken}},{key:"clientName",get:function(){return this._identityProvider.clientName}},{key:"identityProvider",get:function(){return this._identityProvider}}]),AbstractImplementation}(o.default.OOP.Interface)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserPoolImplementation=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(428);t.UserPoolImplementation=function(e){function UserPoolImplementation(){var e;_classCallCheck(this,UserPoolImplementation);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=UserPoolImplementation.__proto__||Object.getPrototypeOf(UserPoolImplementation)).call.apply(e,[this].concat(r)))}return _inherits(UserPoolImplementation,e),n(UserPoolImplementation,[{key:"refreshIdentity",value:function(){let e={AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:{REFRESH_TOKEN:this.refreshToken,ClientId:this.clientName}};return this.cognitoIdentityServiceProvider.makeUnauthenticatedRequest("initiateAuth",e).promise().then(e=>{let t=e.AuthenticationResult;this.identityProvider.tokenExpirationTime=Date.now()+1e3*t.ExpiresIn;this.identityProvider.userToken=t.IdToken})}},{key:"cognitoIdentityServiceProvider",get:function(){if(o.default.hasOwnProperty("CognitoIdentityServiceProvider"))return new o.default.CognitoIdentityServiceProvider;throw new Error(`Missing CognitoIdentityServiceProvider in aws-sdk@${o.default.VERSION}`)}}]),UserPoolImplementation}(a.AbstractImplementation)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalIdentityProvider=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},o=r(100);t.LocalIdentityProvider=function(e){function LocalIdentityProvider(){var e;_classCallCheck(this,LocalIdentityProvider);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=LocalIdentityProvider.__proto__||Object.getPrototypeOf(LocalIdentityProvider)).call.apply(e,[this].concat(r)))}return _inherits(LocalIdentityProvider,e),n(LocalIdentityProvider,[{key:"getProviderDomain",value:function(e,t){return i(LocalIdentityProvider.prototype.__proto__||Object.getPrototypeOf(LocalIdentityProvider.prototype),"getProviderDomain",this).call(this,e,t)||e}}]),LocalIdentityProvider}(o.IdentityProvider)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalToken=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(178);t.LocalToken=function(e){function LocalToken(){var e;_classCallCheck(this,LocalToken);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _possibleConstructorReturn(this,(e=LocalToken.__proto__||Object.getPrototypeOf(LocalToken)).call.apply(e,[this].concat(r)))}return _inherits(LocalToken,e),n(LocalToken,[{key:"loadCredentials",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this._credentialsManager.systemCredentials={expireTime:Date.now()+864e5,identityId:this.identityProvider&&this.identityProvider.userId?this.identityProvider.userId:"us-east-1:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"},e(null,this._credentials)}},{key:"getUser",value:function(e){let t=(t,r)=>{if(1===e.length){if(t)throw t;return e(r)}e(t,r)};this._loadUser(t)}},{key:"destroy",value:function(){this._credentials=null,this._credsManager=null}},{key:"isAnonymous",get:function(){return this.lambdaContext?this.lambdaContext.identity.isAnonymous:!this.identityProvider}}]),LocalToken}(i.Token)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.RoleProvider=function(){function RoleProvider(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,RoleProvider),this._retrieveRoleResource=t,this._deepResource=e,this._getRolesPromise=null}return n(RoleProvider,[{key:"getRoles",value:function(){return this._retrieveRoleResource?(this._getRolesPromise||(this._getRolesPromise=new Promise((e,t)=>{let r=this._deepResource.get(this._retrieveRoleResource);r.request({}).authScope(null).disableCache().send(r=>{if(r.error)return t(r.error);e(r.data)})})),this._getRolesPromise):Promise.resolve([])}},{key:"invalidateCache",value:function(){return this._getRolesPromise=null,this}}]),RoleProvider}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RoleResolver=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(435);t.RoleResolver=function(){function RoleResolver(e){_classCallCheck(this,RoleResolver),this._roleProvider=e}return n(RoleResolver,[{key:"resolve",value:function(e){return this.getContextVoters().then(t=>{for(let r of t)if(r.vote(e))return r.role;return null})}},{key:"getContextVoters",value:function(){return this._roleProvider.getRoles().then(e=>e.map(e=>new i.RoleVoter(e)))}}]),RoleResolver}()},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseVoter=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(180);t.BaseVoter=function(e){function BaseVoter(e){_classCallCheck(this,BaseVoter);var t=_possibleConstructorReturn(this,(BaseVoter.__proto__||Object.getPrototypeOf(BaseVoter)).call(this));return t._validateExpression=e,t}return _inherits(BaseVoter,e),n(BaseVoter,[{key:"vote",value:function(e){if("string"==typeof this._validateExpression)return this._validateExpression===e;if(this._validateExpression instanceof RegExp)return this._validateExpression.test(e);if(this._validateExpression instanceof Function)return this._validateExpression(e);if(this._validateExpression instanceof a.VoterInterface)return this._validateExpression.vote(e);throw new o.default.Exception.InvalidArgumentException(this._validateExpression,"String, Number, Function, BaseVoter")}}],[{key:"createFromAction",value:function(e){let t=e.split(":"),r=e=>e&&"*"!==e?e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):"[a-zA-Z\\d+\\-_\\.]+",n=r(t[0]),i=r(t[1]),o=r(t[2]);return new BaseVoter(new RegExp(`^\\s*${n}:${i}:${o}\\s*$`))}}]),BaseVoter}(a.VoterInterface)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RoleVoter=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(180),o=r(434);t.RoleVoter=function(e){function RoleVoter(e){_classCallCheck(this,RoleVoter);var t=_possibleConstructorReturn(this,(RoleVoter.__proto__||Object.getPrototypeOf(RoleVoter)).call(this));return t._role=e,t}return _inherits(RoleVoter,e),n(RoleVoter,[{key:"vote",value:function(e){for(let t of this._negativeVoters)if(t.vote(e))return!1;for(let t of this._positiveVoters)if(t.vote(e))return!0;return!1}},{key:"_positiveVoters",get:function(){return this._role.Policy.Statement.filter(e=>e.Effect===i.VoterInterface.ALLOW).reduce((e,t)=>e.concat(t.Action.map(o.BaseVoter.createFromAction)),[])}},{key:"_negativeVoters",get:function(){return this._role.Policy.Statement.filter(e=>e.Effect===i.VoterInterface.DENY).reduce((e,t)=>e.concat(t.Action.map(o.BaseVoter.createFromAction)),[])}},{key:"role",get:function(){return this._role}}]),RoleVoter}(i.VoterInterface)},function(e,t,r){"use strict";var n=r(177);e.exports=n.Security},function(e,t){function webpackEmptyContext(e){throw new Error("Cannot find module '"+e+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,e.exports=webpackEmptyContext,webpackEmptyContext.id=437},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidJoiSchemaException=void 0;var n=r(68);t.InvalidJoiSchemaException=function(e){function InvalidJoiSchemaException(e){return _classCallCheck(this,InvalidJoiSchemaException),_possibleConstructorReturn(this,(InvalidJoiSchemaException.__proto__||Object.getPrototypeOf(InvalidJoiSchemaException)).call(this,`Invalid validation schema ${e}. Object must be a Joi instance!`))}return _inherits(InvalidJoiSchemaException,e),InvalidJoiSchemaException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidSchemaException=void 0;var n=r(68);t.InvalidSchemaException=function(e){function InvalidSchemaException(e,t){return _classCallCheck(this,InvalidSchemaException),_possibleConstructorReturn(this,(InvalidSchemaException.__proto__||Object.getPrototypeOf(InvalidSchemaException)).call(this,`deep-db model ${JSON.stringify(e)} validation schema fails: ${t}`))}return _inherits(InvalidSchemaException,e),InvalidSchemaException}(n.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectValidationFailedException=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(68);t.ObjectValidationFailedException=function(e){function ObjectValidationFailedException(e,t){_classCallCheck(this,ObjectValidationFailedException);var r=_possibleConstructorReturn(this,(ObjectValidationFailedException.__proto__||Object.getPrototypeOf(ObjectValidationFailedException)).call(this,`Object validation failed on schema ${e}: ${t}`));return r._originalError=t,r}return _inherits(ObjectValidationFailedException,e),n(ObjectValidationFailedException,[{key:"originalError",get:function(){return this._originalError}}]),ObjectValidationFailedException}(i.Exception)},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSchemaNotFoundException=void 0;var n=r(68);t.ValidationSchemaNotFoundException=function(e){function ValidationSchemaNotFoundException(e){return _classCallCheck(this,ValidationSchemaNotFoundException),_possibleConstructorReturn(this,(ValidationSchemaNotFoundException.__proto__||Object.getPrototypeOf(ValidationSchemaNotFoundException)).call(this,`Missing validation schema '${e}'`))}return _inherits(ValidationSchemaNotFoundException,e),ValidationSchemaNotFoundException}(n.Exception)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Joi=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(24),o=_interopRequireDefault(i),a=r(445),s=_interopRequireDefault(a),c=r(444),u=_interopRequireDefault(c);t.Joi=function(){function Joi(){_classCallCheck(this,Joi)}return n(Joi,null,[{key:"uuid",get:function(){return s.default.types.uuid()}},{key:"timeUUID",get:function(){return s.default.types.timeUUID()}},{key:"stringSet",get:function(){return s.default.types.stringSet()}},{key:"numberSet",get:function(){return s.default.types.numberSet()}},{key:"binarySet",get:function(){return s.default.types.binarySet()}},{key:"binary",get:function(){return o.default.binary()}},{key:"number",get:function(){return o.default.number()}},{key:"string",get:function(){return o.default.string()}},{key:"boolean",get:function(){return o.default.boolean()}},{key:"email",get:function(){return o.default.string().email()}},{key:"website",get:function(){let e=o.default.string();return e.hasOwnProperty("uri")?e.uri():e.regex(u.default.createUriRegex())}},{key:"map",get:function(){return o.default.object()}},{key:"mapSet",get:function(){let e=o.default.array();return e.includes?e.includes(o.default.object()):e.items(o.default.object())}}]),Joi}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n={rfc3986:{}};n.generate=function(){const e="|";n.rfc3986.cidr="[0-9]|[1-2][0-9]|3[0-2]";const t="!\\$&'\\(\\)\\*\\+,;=",r="a-zA-Z0-9-\\._~%0-9A-Fa-f"+t+":@",i="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+i+"\\.){3}"+i;const o="[0-9A-Fa-f]{1,4}",a="(?:"+o+":"+o+"|"+n.rfc3986.IPv4address+")",s="(?:"+o+":){6}"+a,c="::(?:"+o+":){5}"+a,u=o+"::(?:"+o+":){4}"+a,l="(?:"+o+":){0,1}"+o+"::(?:"+o+":){3}"+a,f="(?:"+o+":){0,2}"+o+"::(?:"+o+":){2}"+a,h="(?:"+o+":){0,3}"+o+"::"+o+":"+a,d="(?:"+o+":){0,4}"+o+"::"+a;n.rfc3986.IPv6address="(?:"+s+e+c+e+u+e+l+e+f+e+h+e+d+e+"(?:"+o+":){0,5}"+o+"::"+o+e+"(?:"+o+":){0,6}"+o+"::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.[a-zA-Z0-9-\\._~"+t+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const p="\\[(?:"+n.rfc3986.IPv6address+e+n.rfc3986.IPvFuture+")\\]",y="(?:"+p+e+n.rfc3986.IPv4address+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f"+t+"]{0,255})",m="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f"+t+":]*@)?"+y+"(?::[0-9]*)?";n.rfc3986.hierPart="(?:\\/\\/"+m+"(?:\\/["+r+"]*)*"+e+"\\/(?:["+r+"]+(?:\\/["+r+"]*)*)?"+e+"["+r+"]+(?:\\/["+r+"]*)*)",n.rfc3986.query="["+r+"\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+r+"\\/\\?]*"},n.generate(),t.default=n.rfc3986,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(443),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={createUriRegex:e=>{let t=i.default.scheme;e&&(t="(?:"+e+")");return new RegExp(`^${t}:${i.default.hierPart}(?:\\?${i.default.query})?(?:#${i.default.fragment})?$`)}},e.exports=t.default},function(e,t,r){"use strict";function _joiVector(e){let t=i.default.array();return t.includes?t.includes(e):t.items(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=function(e){return e&&e.__esModule?e:{default:e}}(n);let o=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;t.default="undefined"!=typeof window?{types:{uuid:function(){return i.default.string().regex(o)},timeUUID:function(){return i.default.string().regex(o)},stringSet:function(){return _joiVector(i.default.string())},numberSet:function(){return _joiVector(i.default.number())},binarySet:function(){return _joiVector(i.default.string())}}}:r(664),e.exports=t.default},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectToJoi=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(442),o=r(24),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(439);t.ObjectToJoi=function(){function ObjectToJoi(e){_classCallCheck(this,ObjectToJoi),this._baseObject=e}return n(ObjectToJoi,[{key:"transform",value:function(){try{return ObjectToJoi._transform(this._baseObject)}catch(e){throw new s.InvalidSchemaException(this._baseObject,e)}}},{key:"baseObject",get:function(){return this._baseObject}}],[{key:"_transform",value:function(e){let t={};for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];if("object"==typeof n)t[r]=ObjectToJoi._transform(n);else{let o=i.Joi[n];if(void 0===o)throw new s.InvalidSchemaException(e,`Unknown field type ${n}`);t[r]=o}}return a.default.object().keys(t)}}]),ObjectToJoi}()},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Validation=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(21),o=_interopRequireDefault(i),a=r(446),s=r(441),c=r(438),u=r(24),l=_interopRequireDefault(u),f=r(440),h=r(57),d=_interopRequireDefault(h),p=r(3),y=_interopRequireDefault(p);t.Validation=function(t){function Validation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,Validation);var n=_possibleConstructorReturn(this,(Validation.__proto__||Object.getPrototypeOf(Validation)).call(this));return n._forcePartitionField=t,n._nonPartitionedModels=r||[],n._schemas=n._rawModelsToSchemas(e),n}return _inherits(Validation,t),n(Validation,[{key:"validateRuntimeInput",value:function(e,t,r){if(!this.hasSchema(t))return e.createError(new s.ValidationSchemaNotFoundException(t)).send(),this;let n=this.validate(t,e.request.data,!0);return n.error?(e.createError(n.error).send(),this):(r(n.value),this)}},{key:"validate",value:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getSchema(e),i=l.default.validate(t,n,{stripUnknown:!0,convert:!0,abortEarly:!1});if(r)return i;if(i.error)throw new f.ObjectValidationFailedException(e,i.error);return i.value}},{key:"schemaFromValidationCb",value:function(e){return e(l.default)}},{key:"setSchemaRaw",value:function(e,t){return this._schemas[e]=Validation.normalizeSchema(t),this}},{key:"setSchema",value:function(e,t){if(!t.isJoi)throw new c.InvalidJoiSchemaException(e);return this._schemas[e]=t,this}},{key:"setGuessSchema",value:function(e,t){return"function"==typeof t&&(t=this.schemaFromValidationCb(t)),this[t.isJoi?"setSchema":"setSchemaRaw"](e,t)}},{key:"hasSchema",value:function(e){return void 0!==this._schemas[e]}},{key:"getSchema",value:function(e){if(!this.hasSchema(e))throw new s.ValidationSchemaNotFoundException(e);let t=this._schemas[e];return"string"==typeof t?this.setGuessSchema(e,!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()).getSchema(e):t}},{key:"boot",value:function(t,r){this._nonPartitionedModels=t.config.nonPartitionedModels||[],this._schemas=this._rawModelsToSchemas(t.config.models);let n=new y.default.Generic.UniversalRequire,i=t.config.validationSchemas.length;t.config.validationSchemas.forEach(r=>{let o=d.default.join(y.default.AWS.Lambda.Runtime.VALIDATION_SCHEMAS_DIR,`${r}.js`);if(t.isBackend)this._schemas[r]=d.default.join(e.cwd(),o),i--;else{let e=d.default.join(d.default.sep,o);n.require(e,(e,t)=>{e?console.error(`Error while loading schema ${r}: ${e}`):this.setGuessSchema(r,t);i--})}});let o=e=>{i<=0?r():setTimeout(()=>{e(e)},50)};o(o)}},{key:"_rawModelsToSchemas",value:function(e){let t={};for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];for(let e in n)if(n.hasOwnProperty(e)){let r=n[e];r.Id=r.Id||"timeUUID",t[e]=Validation.normalizeSchema(r),!r.AccountId&&this._usePartitionField&&this.isPartitionedModel(e)&&(t[e]=t[e].keys({AccountId:l.default.string().default("anonymous")}))}}return t}},{key:"isPartitionedModel",value:function(e){return-1===this._nonPartitionedModels.indexOf(e)}},{key:"schemas",get:function(){return this._schemas}},{key:"schemasNames",get:function(){return Object.keys(this._schemas)}},{key:"_usePartitionField",get:function(){return this._forcePartitionField||this.kernel&&this.kernel.accountMicroservice}}],[{key:"normalizeSchema",value:function(e){return new a.ObjectToJoi(e).transform()}}]),Validation}(o.default.ContainerAware)}).call(t,r(7))},function(e,t,r){"use strict";var n=r(447);e.exports=n.Validation},function(e,t,r){"use strict";function CBCState(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function instantiate(e){function CBC(t){e.call(this,t),this._cbcInit()}i(CBC,e);for(var t=Object.keys(o),r=0;r<t.length;r++){var n=t[r];CBC.prototype[n]=o[n]}return CBC.create=function(e){return new CBC(e)},CBC}var n=r(26),i=r(2),o={};t.instantiate=instantiate,o._cbcInit=function(){var e=new CBCState(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,r,n);for(var s=0;s<this.blockSize;s++)a[s]=r[n+s]}else{o._update.call(this,e,t,r,n);for(var s=0;s<this.blockSize;s++)r[n+s]^=a[s];for(var s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,r){"use strict";function Cipher(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var n=r(26);e.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},Cipher.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},Cipher.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},Cipher.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},Cipher.prototype.final=function(e){var t;e&&(t=this.update(e));var r;return r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},Cipher.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},Cipher.prototype._unpad=function(e){return e},Cipher.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,r){"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(e){s.call(this,e);var t=new DESState;this._desState=t,this.deriveKeys(t,e.key)}var n=r(26),i=r(2),o=r(101),a=o.utils,s=o.Cipher;i(DES,s),e.exports=DES,DES.create=function(e){return new DES(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=a.readUInt32BE(t,0),i=a.readUInt32BE(t,4);a.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=c[o>>>1];r=a.r28shl(r,s),i=a.r28shl(i,s),a.pc2(r,i,e.keys,o)}},DES.prototype._update=function(e,t,r,n){var i=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],a.writeUInt32BE(r,o,n),a.writeUInt32BE(r,s,n+4)},DES.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},DES.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},DES.prototype._encrypt=function(e,t,r,n,i){for(var o=t,s=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];a.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=a.substitute(u,l),h=a.permute(f),d=s;s=(o^h)>>>0,o=d}a.rip(s,o,n,i)},DES.prototype._decrypt=function(e,t,r,n,i){for(var o=r,s=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];a.expand(o,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=a.substitute(u,l),h=a.permute(f),d=o;o=(s^h)>>>0,s=d}a.rip(o,s,n,i)}},function(e,t,r){"use strict";function EDEState(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r})]}function EDE(e){a.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}var n=r(26),i=r(2),o=r(101),a=o.Cipher,s=o.DES;i(EDE,a),e.exports=EDE,EDE.create=function(e){return new EDE(e)},EDE.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},EDE.prototype._pad=s.prototype._pad,EDE.prototype._unpad=s.prototype._unpad},function(e,t,r){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(var a=6;a>=0;a-=2){for(var s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(var s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},t.rip=function(e,t,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(var a=4;a<8;a++)for(var s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.pc1=function(e,t,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(var a=1;a<=3;a++){for(var s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,i){for(var o=0,a=0,s=n.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>n[c]&1;for(var c=s;c<n.length;c++)a<<=1,a|=t>>>n[c]&1;r[i+0]=o>>>0,r[i+1]=a>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(var o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++){var o=e>>>18-6*n&63,a=i[64*n+o];r<<=4,r|=a}for(var n=0;n<4;n++){var o=t>>>18-6*n&63,a=i[256+64*n+o];r<<=4,r|=a}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<o.length;r++)t<<=1,t|=e>>>o[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},function(e,t,r){(function(e){function getDiffieHellman(t){var r=new e(i[t].prime,"hex"),n=new e(i[t].gen,"hex");return new o(r,n)}function createDiffieHellman(t,r,i,s){return e.isBuffer(r)||void 0===a[r]?createDiffieHellman(t,"binary",r,i):(r=r||"binary",s=s||"binary",i=i||new e([2]),e.isBuffer(i)||(i=new e(i,s)),"number"==typeof t?new o(n(t,i),i,!0):(e.isBuffer(t)||(t=new e(t,r)),new o(t,i,!0)))}var n=r(181),i=r(456),o=r(455),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=getDiffieHellman,t.createDiffieHellman=t.DiffieHellman=createDiffieHellman}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function setPublicKey(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._pub=new n(e),this}function setPrivateKey(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._priv=new n(e),this}function checkPrime(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in d)return d[n];var i=0;if(e.isEven()||!f.simpleSieve||!f.fermatTest(e)||!o.test(e))return i+=1,i+="02"===r||"05"===r?8:4,d[n]=i,i;o.test(e.shrn(1))||(i+=2);var h;switch(r){case"02":e.mod(a).cmp(s)&&(i+=8);break;case"05":h=e.mod(c),h.cmp(u)&&h.cmp(l)&&(i+=8);break;default:i+=4}return d[n]=i,i}function DH(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(e,r){var n=new t(e.toArray());return r?n.toString(r):n}var n=r(6),i=r(203),o=new i,a=new n(24),s=new n(11),c=new n(10),u=new n(3),l=new n(7),f=r(181),h=r(58);e.exports=DH;var d={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(e){e=new n(e),e=e.toRed(this._prime);var r=e.redPow(this._priv).fromRed(),i=new t(r.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},DH.prototype.getPublicKey=function(e){return formatReturnValue(this._pub,e)},DH.prototype.getPrivateKey=function(e){return formatReturnValue(this._priv,e)},DH.prototype.getPrime=function(e){return formatReturnValue(this.__prime,e)},DH.prototype.getGenerator=function(e){return formatReturnValue(this._gen,e)},DH.prototype.setGenerator=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.__gen=e,this._gen=new n(e),this}}).call(t,r(0).Buffer)},function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,r){"use strict";e.exports=function(){var e=r(50),t={};return t.createDomain=t.create=function(){function emitError(e){t.emit("error",e)}var t=new e.EventEmitter;return t.add=function(e){e.on("error",emitError)},t.remove=function(e){e.removeListener("error",emitError)},t.bind=function(e){return function(){var t=Array.prototype.slice.call(arguments);try{e.apply(null,t)}catch(e){emitError(e)}}},t.intercept=function(e){return function(t){if(t)emitError(t);else{var r=Array.prototype.slice.call(arguments,1);try{e.apply(null,r)}catch(t){emitError(t)}}}},t.run=function(e){try{e()}catch(e){emitError(e)}return this},t.dispose=function(){return this.removeAllListeners(),this},t.enter=t.exit=function(){return this},t},t}.call(this)},function(e,t,r){var n=r(210),i=r(625),o=r(615),a=function(e){return e.timeout=e.timeout||3e3,e.minTimeout=e.minTimeout||1e3,e.maxTimeout=e.maxTimeout||2e3,e.retries=e.retries||0,e.endpoints=Array.isArray(e.endpoints)?e.endpoints:[e.endpoints],this.config=e,this};a.prototype.fetch=function(e){var t=this,r=this.config,n=[],a=function(e,n){var i=o.operation({retries:r.retries,minTimout:r.minTimeout,maxTimeout:r.maxTimeout});i.attempt(function(r){t._fetch(e,function(e,t){if(!i.retry(e))return e?n(i.mainError(),r):n(null,t)})})};i(function(){var e=this.group();r.endpoints.forEach(function(t){a(t,e())})},function(t,r){if(t)return e(t,r);n=n.concat.apply(n,r),e(null,n)})},a.prototype._fetch=function(e,t){var r=this,i=this.config,o=[];if(!~e.indexOf(":"))return t(new Error("Not a valid Elasticache endpoint. Endpoint: "+e));var a=e.split(":"),s=n.connect({host:a[0],port:a[1]},function(){s.write("config get cluster\r\n")});s.setTimeout(i.timeout),s.setEncoding("utf8"),s.on("data",function(e){o.push(e),~e.indexOf("END")&&s.end()}),s.on("end",function(){var n=r._parse(o);return n instanceof Error?t(new Error(n.message+" Endpoint: "+e)):t(null,n)}),s.on("timeout",function(){return s.removeAllListeners(),s.end(),s.destroy(),t(new Error("Elasticache auto-discovery request timed out. Endpoint: "+e))}),s.on("error",function(r){return t(new Error("Elasticache auto-discovery request error: "+r+" Endpoint: "+e))})},a.prototype._parse=function(e){var t=[],r=e.join(""),n=r.split("\n");if(!n[2])return new Error("Bad response from Elasticache.");var i=n[2].split(" ");return i.length?(i.forEach(function(e){var r=e.split("|");if(r.length<2)return new Error("Malformed host list from Elasticache.");t.push(r[0]+":"+r[2])}),t):new Error("No Elasticache hosts found.")},e.exports=a},function(e,t,r){"use strict";function BaseCurve(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}var n=r(6),i=r(10),o=i.utils,a=o.getNAF,s=o.getJSF,c=o.assert;e.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){c(e.precomputed);var r=e._getDoubles(),n=a(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var o=[],s=0;s<n.length;s+=r.step){for(var u=0,t=s+r.step-1;t>=s;t--)u=(u<<1)+n[t];o.push(u)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(var s=0;s<o.length;s++){var u=o[s];u===h?f=f.mixedAdd(r.points[s]):u===-h&&(f=f.mixedAdd(r.points[s].neg()))}l=l.add(f)}return l.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=a(t,r),s=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var t=0;u>=0&&0===o[u];u--)t++;if(u>=0&&t++,s=s.dblp(t),u<0)break;var l=o[u];c(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},BaseCurve.prototype._wnafMulAdd=function(e,t,r,n,i){for(var o=this._wnafT1,c=this._wnafT2,u=this._wnafT3,l=0,f=0;f<n;f++){var h=t[f],d=h._getNAFPoints(e);o[f]=d.wnd,c[f]=d.points}for(var f=n-1;f>=1;f-=2){var p=f-1,y=f;if(1===o[p]&&1===o[y]){var m=[t[p],null,null,t[y]];0===t[p].y.cmp(t[y].y)?(m[1]=t[p].add(t[y]),m[2]=t[p].toJ().mixedAdd(t[y].neg())):0===t[p].y.cmp(t[y].y.redNeg())?(m[1]=t[p].toJ().mixedAdd(t[y]),m[2]=t[p].add(t[y].neg())):(m[1]=t[p].toJ().mixedAdd(t[y]),m[2]=t[p].toJ().mixedAdd(t[y].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[p],r[y]);l=Math.max(v[0].length,l),u[p]=new Array(l),u[y]=new Array(l);for(var b=0;b<l;b++){var _=0|v[0][b],w=0|v[1][b];u[p][b]=g[3*(_+1)+(w+1)],u[y][b]=0,c[p]=m}}else u[p]=a(r[p],o[p]),u[y]=a(r[y],o[y]),l=Math.max(u[p].length,l),l=Math.max(u[y].length,l)}for(var E=this.jpoint(null,null,null),S=this._wnafT4,f=l;f>=0;f--){for(var k=0;f>=0;){for(var C=!0,b=0;b<n;b++)S[b]=0|u[b][f],0!==S[b]&&(C=!1);if(!C)break;k++,f--}if(f>=0&&k++,E=E.dblp(k),f<0)break;for(var b=0;b<n;b++){var h,x=S[b];0!==x&&(x>0?h=c[b][x-1>>1]:x<0&&(h=c[b][-x-1>>1].neg()),E="affine"===h.type?E.mixedAdd(h):E.add(h))}}for(var f=0;f<n;f++)c[f]=null;return i?E:E.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=o.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r){6===e[0]?c(e[e.length-1]%2==0):7===e[0]&&c(e[e.length-1]%2==1);return this.point(e.slice(1,1+r),e.slice(1+r,1+2*r))}if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return o.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},function(e,t,r){"use strict";function EdwardsCurve(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new o(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function Point(e,t,r,n,i){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(t,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var n=r(69),i=r(10),o=r(6),a=r(2),s=n.base,c=i.utils.assert;a(EdwardsCurve,s),e.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},EdwardsCurve.prototype.pointFromX=function(e,t){e=new o(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},EdwardsCurve.prototype.pointFromY=function(e,t){e=new o(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},a(Point,s.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,r,n){return new Point(this,e,t,r,n)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(c,u,f,l)},Point.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=this.curve._mulA(i),s=a.redAdd(o);if(this.zOne)e=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),t=s.redMul(a.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var c=this.z.redSqr(),u=s.redSub(c).redISub(c);e=n.redSub(i).redISub(o).redMul(u),t=s.redMul(a.redSub(o)),r=s.redMul(u)}}else{var a=i.redAdd(o),c=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=a.redSub(c).redSub(c);e=this.curve._mulC(n.redISub(a)).redMul(u),t=this.curve._mulC(a).redMul(i.redISub(o)),r=a.redMul(u)}return this.curve.point(e,t,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),l=s.redMul(c),f=o.redMul(c),h=a.redMul(s);return this.curve.point(u,l,h,f)},Point.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Point.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},function(e,t,r){"use strict";function MontCurve(e){a.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(e,t,r){a.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var n=r(69),i=r(6),o=r(2),a=n.base,s=r(10),c=s.utils;o(MontCurve,a),e.exports=MontCurve,MontCurve.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},o(Point,a.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(c.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1]||e.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),r=this.x.redSub(this.z),n=r.redSqr(),i=t.redSub(n),o=t.redMul(n),a=i.redMul(n.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,a)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(r),s=i.redMul(n),c=t.z.redMul(a.redAdd(s).redSqr()),u=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(c,u)},Point.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=this,o=[];0!==t.cmpn(0);t.iushrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)0===o[a]?(r=r.diffAdd(n,i),n=n.dbl()):(n=r.diffAdd(n,i),r=r.dbl());return n},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,r){"use strict";function ShortCurve(e){s.call(this,"short",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(t,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(t,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var n=r(69),i=r(10),o=r(6),a=r(2),s=n.base,c=i.utils.assert;a(ShortCurve,s),e.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new o(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)r=new o(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],c(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}var a;return a=e.basis?e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:o.mont(e),r=new o(2).toRed(t).redInvm(),n=r.redNeg(),i=new o(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new o(1),y=new o(0),m=new o(0),g=new o(1),v=0;0!==h.cmpn(0);){var b=d.div(h);u=d.sub(b.mul(h)),l=m.sub(b.mul(p));var _=g.sub(b.mul(y));if(!n&&u.cmp(f)<0)t=c.neg(),r=p,n=u.neg(),i=l;else if(n&&2==++v)break;c=u,d=h,h=u,m=p,p=l,g=y,y=_}a=u.neg(),s=l;var w=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a:a,b:s}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},ShortCurve.prototype.pointFromX=function(e,t){e=new o(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},a(Point,s.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point.fromJSON(this,e,t)},Point.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(e,t,r){function obj2point(t){return e.point(t[0],t[1],r)}"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(obj2point))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(obj2point))}},n},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(e){return e=new o(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(JPoint,s.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(f).redISub(f),d=c.redMul(f.redISub(h)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=r.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(a);return this.curve.jpoint(f,h,d)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}for(var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a),r=0;r<e;r++){var l=o.redSqr(),f=u.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=o.redMul(f),y=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),g=d.redMul(m);g=g.redIAdd(g).redISub(h);var v=u.redMul(s);r+1<e&&(c=c.redMul(h)),o=y,s=v,u=g}return this.curve.jpoint(o,u.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),m=h.redIAdd(h);m=m.redIAdd(m),m=m.redIAdd(m),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h);p=p.redIAdd(p);var y=p.redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t);c=c.redIAdd(c);var u=c.redMul(a),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=s.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var s=a.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var f=this.x.redMul(s).redISub(l);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,d)},JPoint.prototype.mul=function(e,t){return e=new o(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,r){"use strict";function PresetCurve(e){"short"===e.type?this.curve=new o.curve.short(e):"edwards"===e.type?this.curve=new o.curve.edwards(e):this.curve=new o.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new PresetCurve(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}var n=t,i=r(23),o=r(10),a=o.utils.assert;n.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=r(470)}catch(e){s=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},function(e,t,r){"use strict";function EC(e){if(!(this instanceof EC))return new EC(e);"string"==typeof e&&(s(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var n=r(6),i=r(478),o=r(10),a=o.utils,s=a.assert,c=r(465),u=r(466);e.exports=EC,EC.prototype.keyPair=function(e){return new c(this,e)},EC.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},EC.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),a=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},EC.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),l=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new n(1)),h=0;!0;h++){var d=o.k?o.k(h):new n(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var g=d.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(g=g.umod(this.n),0!==g.cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new u({r:m,s:g,recoveryParam:v})}}}}}},EC.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i),t=new u(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),c=s.mul(e).umod(this.n),l=s.mul(o).umod(this.n);if(!this.curve._maxwellTrick){var f=this.g.mulAdd(c,r.getPublic(),l);return!f.isInfinity()&&0===f.getX().umod(this.n).cmp(o)}var f=this.g.jmulAdd(c,r.getPublic(),l);return!f.isInfinity()&&f.eqXToP(o)},EC.prototype.recoverPubKey=function(e,t,r,i){s((3&r)===r,"The recovery param is more than two bits"),t=new u(t,i);var o=this.n,a=new n(e),c=t.r,l=t.s,f=1&r,h=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");c=h?this.curve.pointFromX(c.add(this.curve.n),f):this.curve.pointFromX(c,f);var d=t.r.invm(o),p=o.sub(a).mul(d).umod(o),y=l.mul(d).umod(o);return this.g.mulAdd(p,c,y)},EC.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new u(t,n),null!==t.recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,r){"use strict";function KeyPair(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var n=r(6),i=r(10),o=i.utils,a=o.assert;e.exports=KeyPair,KeyPair.fromPublic=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{priv:t,privEnc:r})},KeyPair.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair.prototype.derive=function(e){return e.mul(this.priv).getX()},KeyPair.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,r){"use strict";function Signature(e,t){if(e instanceof Signature)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a];return t.place=a,i}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}var n=r(6),i=r(10),o=i.utils,a=o.assert;e.exports=Signature,Signature.prototype._importDER=function(e,t){e=o.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;if(getLength(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength(e,r),a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=getLength(e,r);if(e.length!==s+r.place)return!1;var c=e.slice(r.place,s+r.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new n(a),this.s=new n(c),this.recoveryParam=null,!0},Signature.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength(n,t.length),n=n.concat(t),n.push(2),constructLength(n,r.length);var i=n.concat(r),a=[48];return constructLength(a,i.length),a=a.concat(i),o.encode(a,e)}},function(e,t,r){"use strict";function EDDSA(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);var e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}var n=r(23),i=r(10),o=i.utils,a=o.assert,s=o.parseBytes,c=r(468),u=r(469);e.exports=EDDSA,EDDSA.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},EDDSA.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},EDDSA.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},EDDSA.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},EDDSA.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function(e){e=o.parseBytes(e);var t=e.length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(e){return o.intFromLE(e)},EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,r){"use strict";function KeyPair(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}var n=r(10),i=n.utils,o=i.assert,a=i.parseBytes,s=i.cachedProperty;KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},s(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(KeyPair,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),s(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(e){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=KeyPair},function(e,t,r){"use strict";function Signature(e,t){this.eddsa=e,"object"!=typeof t&&(t=c(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var n=r(6),i=r(10),o=i.utils,a=o.assert,s=o.cachedProperty,c=o.parseBytes;s(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=Signature},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,r){"use strict";function getNAF(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(n-1);o=a>(n>>1)-1?(n>>1)-a:a,i.isubn(o)}else o=0;r.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,c=1;c<s;c++)r.push(0);i.iushrn(s)}return r}function getJSF(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o=e.andln(3)+n&3,a=t.andln(3)+i&3;3===o&&(o=-1),3===a&&(a=-1);var s;if(0==(1&o))s=0;else{var c=e.andln(7)+n&7;s=3!==c&&5!==c||2!==a?o:-o}r[0].push(s);var u;if(0==(1&a))u=0;else{var c=t.andln(7)+i&7;u=3!==c&&5!==c||2!==o?a:-a}r[1].push(u),2*n===s+1&&(n=1-n),2*i===u+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}function cachedProperty(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}}function parseBytes(e){return"string"==typeof e?n.toArray(e,"hex"):e}function intFromLE(e){return new i(e,"hex","le")}var n=t,i=r(6),o=r(26),a=r(204);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=getNAF,n.getJSF=getJSF,n.cachedProperty=cachedProperty,n.parseBytes=parseBytes,n.intFromLE=intFromLE},function(e,t){e.exports={_args:[[{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},"/Users/mgoria/Documents/workspace/MitocGroup/deep-framework/src/deep-framework/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.4.0",_inCache:!0,_location:"/elliptic",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"},_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/Users/mgoria/Documents/workspace/MitocGroup/deep-framework/src/deep-framework/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"},files:["lib"],gitHead:"6b0d2b76caae91471649c8e21f0b1d3ba0f96090",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},function(e,t,r){function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var n=r(23),i=n.utils,o=i.assert;t.BlockHash=BlockHash,BlockHash.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},BlockHash.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else{n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;for(var o=8;o<this.padLength;o++)n[i++]=0}return n}},function(e,t,r){function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}var n=r(23),i=n.utils,o=i.assert;e.exports=Hmac,Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(var t=0;t<e.length;t++)e[t]^=54;this.inner=(new this.Hash).update(e);for(var t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,r){function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var n=r(23),i=n.utils,o=i.rotl32,a=i.sum32,s=i.sum32_3,c=i.sum32_4,u=n.common.BlockHash;i.inherits(RIPEMD160,u),t.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],y=this.h[4],m=r,g=n,v=i,b=u,_=y,w=0;w<80;w++){var E=a(o(c(r,f(w,n,i,u),e[l[w]+t],K(w)),d[w]),y);r=y,y=u,u=o(i,10),i=n,n=E,E=a(o(c(m,f(79-w,g,v,b),e[h[w]+t],Kh(w)),p[w]),_),m=_,_=b,b=o(v,10),v=g,g=E}E=s(this.h[1],i,b),this.h[1]=s(this.h[2],u,_),this.h[2]=s(this.h[3],y,m),this.h[3]=s(this.h[4],r,g),this.h[4]=s(this.h[0],n,v),this.h[0]=E},RIPEMD160.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){function SHA256(){if(!(this instanceof SHA256))return new SHA256;E.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}function SHA512(){if(!(this instanceof SHA512))return new SHA512;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}function SHA1(){if(!(this instanceof SHA1))return new SHA1;E.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}function ch32(e,t,r){return e&t^~e&r}function maj32(e,t,r){return e&t^e&r^t&r}function p32(e,t,r){return e^t^r}function s0_256(e){return a(e,2)^a(e,13)^a(e,22)}function s1_256(e){return a(e,6)^a(e,11)^a(e,25)}function g0_256(e){return a(e,7)^a(e,18)^e>>>3}function g1_256(e){return a(e,17)^a(e,19)^e>>>10}function ft_1(e,t,r,n){return 0===e?ch32(t,r,n):1===e||3===e?p32(t,r,n):2===e?maj32(t,r,n):void 0}function ch64_hi(e,t,r,n,i,o){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function ch64_lo(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function maj64_hi(e,t,r,n,i,o){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function maj64_lo(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function s0_512_hi(e,t){var r=f(e,t,28),n=f(t,e,2),i=f(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function s0_512_lo(e,t){var r=h(e,t,28),n=h(t,e,2),i=h(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function s1_512_hi(e,t){var r=f(e,t,14),n=f(e,t,18),i=f(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function s1_512_lo(e,t){var r=h(e,t,14),n=h(e,t,18),i=h(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function g0_512_hi(e,t){var r=f(e,t,1),n=f(e,t,8),i=d(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function g0_512_lo(e,t){var r=h(e,t,1),n=h(e,t,8),i=p(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function g1_512_hi(e,t){var r=f(e,t,19),n=f(t,e,29),i=d(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}function g1_512_lo(e,t){var r=h(e,t,19),n=h(t,e,29),i=p(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}var n=r(23),i=n.utils,o=i.assert,a=i.rotr32,s=i.rotl32,c=i.sum32,u=i.sum32_4,l=i.sum32_5,f=i.rotr64_hi,h=i.rotr64_lo,d=i.shr64_hi,p=i.shr64_lo,y=i.sum64,m=i.sum64_hi,g=i.sum64_lo,v=i.sum64_4_hi,b=i.sum64_4_lo,_=i.sum64_5_hi,w=i.sum64_5_lo,E=n.common.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],C=[1518500249,1859775393,2400959708,3395469782];i.inherits(SHA256,E),t.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(g1_256(r[n-2]),r[n-7],g0_256(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],s=this.h[2],f=this.h[3],h=this.h[4],d=this.h[5],p=this.h[6],y=this.h[7];o(this.k.length===r.length);for(var n=0;n<r.length;n++){var m=l(y,s1_256(h),ch32(h,d,p),this.k[n],r[n]),g=c(s0_256(i),maj32(i,a,s));y=p,p=d,d=h,h=c(f,m),f=s,s=a,a=i,i=c(m,g)}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],a),this.h[2]=c(this.h[2],s),this.h[3]=c(this.h[3],f),this.h[4]=c(this.h[4],h),this.h[5]=c(this.h[5],d),this.h[6]=c(this.h[6],p),this.h[7]=c(this.h[7],y)},SHA256.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")},i.inherits(SHA224,SHA256),t.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")},i.inherits(SHA512,E),t.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi(r[n-4],r[n-3]),o=g1_512_lo(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=g0_512_hi(r[n-30],r[n-29]),u=g0_512_lo(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=v(i,o,a,s,c,u,l,f),r[n+1]=b(i,o,a,s,c,u,l,f)}},SHA512.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],f=this.h[7],h=this.h[8],d=this.h[9],p=this.h[10],v=this.h[11],b=this.h[12],E=this.h[13],S=this.h[14],k=this.h[15];o(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var x=S,P=k,R=s1_512_hi(h,d),O=s1_512_lo(h,d),A=ch64_hi(h,d,p,v,b,E),M=ch64_lo(h,d,p,v,b,E),I=this.k[C],T=this.k[C+1],D=r[C],j=r[C+1],N=_(x,P,R,O,A,M,I,T,D,j),L=w(x,P,R,O,A,M,I,T,D,j),x=s0_512_hi(n,i),P=s0_512_lo(n,i),R=maj64_hi(n,i,a,s,c,u),O=maj64_lo(n,i,a,s,c,u),B=m(x,P,R,O),F=g(x,P,R,O);S=b,k=E,b=p,E=v,p=h,v=d,h=m(l,f,N,L),d=g(f,f,N,L),l=c,f=u,c=a,u=s,a=n,s=i,n=m(N,L,B,F),i=g(N,L,B,F)}y(this.h,0,n,i),y(this.h,2,a,s),y(this.h,4,c,u),y(this.h,6,l,f),y(this.h,8,h,d),y(this.h,10,p,v),y(this.h,12,b,E),y(this.h,14,S,k)},SHA512.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")},i.inherits(SHA384,SHA512),t.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")},i.inherits(SHA1,E),t.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);for(var i=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],f=this.h[4],n=0;n<r.length;n++){var h=~~(n/20),d=l(s(i,5),ft_1(h,o,a,u),f,r[n],C[h]);f=u,u=a,a=s(o,30),o=i,i=d}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],o),this.h[2]=c(this.h[2],a),this.h[3]=c(this.h[3],u),this.h[4]=c(this.h[4],f)},SHA1.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,r){function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}else for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function toHex32(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl(i)),r+=zero8(i.toString(16))}return r}function zero2(e){return 1===e.length?"0"+e:e}function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function join32(e,t,r,n){var i=r-t;assert(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var c;c="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=c>>>0}return o}function split32(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function rotr32(e,t){return e>>>t|e<<32-t}function rotl32(e,t){return e<<t|e>>>32-t}function sum32(e,t){return e+t>>>0}function sum32_3(e,t,r){return e+t+r>>>0}function sum32_4(e,t,r,n){return e+t+r+n>>>0}function sum32_5(e,t,r,n,i){return e+t+r+n+i>>>0}function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function sum64(e,t,r,n){var i=e[t],o=e[t+1],a=n+o>>>0,s=(a<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=a}function sum64_hi(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function sum64_lo(e,t,r,n){return t+n>>>0}function sum64_4_hi(e,t,r,n,i,o,a,s){var c=0,u=t;return u=u+n>>>0,c+=u<t?1:0,u=u+o>>>0,c+=u<o?1:0,u=u+s>>>0,c+=u<s?1:0,e+r+i+a+c>>>0}function sum64_4_lo(e,t,r,n,i,o,a,s){return t+n+o+s>>>0}function sum64_5_hi(e,t,r,n,i,o,a,s,c,u){var l=0,f=t;return f=f+n>>>0,l+=f<t?1:0,f=f+o>>>0,l+=f<o?1:0,f=f+s>>>0,l+=f<s?1:0,f=f+u>>>0,l+=f<u?1:0,e+r+i+a+c+l>>>0}function sum64_5_lo(e,t,r,n,i,o,a,s,c,u){return t+n+o+s+u>>>0}function rotr64_hi(e,t,r){return(t<<32-r|e>>>r)>>>0}function rotr64_lo(e,t,r){return(e<<32-r|t>>>r)>>>0}function shr64_hi(e,t,r){return e>>>r}function shr64_lo(e,t,r){return(e<<32-r|t>>>r)>>>0}var n=t,i=r(2);n.toArray=toArray,n.toHex=toHex,n.htonl=htonl,n.toHex32=toHex32,n.zero2=zero2,n.zero8=zero8,n.join32=join32,n.split32=split32,n.rotr32=rotr32,n.rotl32=rotl32,n.sum32=sum32,n.sum32_3=sum32_3,n.sum32_4=sum32_4,n.sum32_5=sum32_5,n.assert=assert,n.inherits=i,t.sum64=sum64,t.sum64_hi=sum64_hi,t.sum64_lo=sum64_lo,t.sum64_4_hi=sum64_4_hi,t.sum64_4_lo=sum64_4_lo,t.sum64_5_hi=sum64_5_hi,t.sum64_5_lo=sum64_5_lo,t.rotr64_hi=rotr64_hi,t.rotr64_lo=rotr64_lo,t.shr64_hi=shr64_hi,t.shr64_lo=shr64_lo},function(e,t,r){"use strict";function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var n=r(23),i=r(204),o=r(26);e.exports=HmacDRBG,HmacDRBG.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},function(e,t,r){(function(e){var r={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",n=0,i=e.length;n<i;++n){var o=e.charCodeAt(n);r.isSafe(o)?t+=e[n]:t+=r.escapeJavaScriptChar(o)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",n=0,i=e.length;n<i;++n){var o=e.charCodeAt(n);r.isSafe(o)?t+=e[n]:t+=r.escapeHtmlChar(o)}return t},r.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+r.padLeft(""+t,4);var n=new e(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+r.padLeft(n,2)},r.escapeHtmlChar=function(t){var n=r.namedHtml[t];if(void 0!==n)return n;if(t>=256)return"&#"+t+";";var i=new e(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+r.padLeft(i,2)+";"},r.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},r.isSafe=function(e){return void 0!==r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){for(var e={},t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,r(0).Buffer)},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+f>=1?h/c:h*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+d]=255&a,d+=p,a/=256,u-=8);e[r+d-p]|=128*y}},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,r){e.exports=r(483)},function(e,t,r){(function(t){var n=r(586),i={defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,dnsWarnNoMXRecord:5,dnsWarnNoRecord:6,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.defer=void 0!==t&&t&&"function"==typeof t.nextTick?t.nextTick.bind(t):function(e){return setTimeout(e,0)};var o=function(e){for(var t=new Array(256),r=255;r>=0;--r)t[r]=!1;for(var n=e.length;r<n;++r)t[e.charCodeAt(r)]=!0;var i="return function (code) {\n";return i+="  return lookup[code];\n",i+="}",new Function("lookup",i)(t)}('()<>[]:;@\\,."'),a=/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,s=/^[a-fA-F\d]{0,4}$/,c=s.test.bind(s),u=Object.prototype.hasOwnProperty,l=function(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),"function"!=typeof r){if(t.checkDNS)throw new TypeError("expected callback function for checkDNS option");r=null}var s,l;if("number"==typeof t.errorLevel?(s=!0,l=t.errorLevel):(s=!!t.errorLevel,l=i.diagnoses.valid),t.tldWhitelist)if("string"==typeof t.tldWhitelist)t.tldWhitelist=[t.tldWhitelist];else if("object"!=typeof t.tldWhitelist)throw new TypeError("expected array or object tldWhitelist");if(t.minDomainAtoms&&(t.minDomainAtoms!==(0|+t.minDomainAtoms)||t.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");for(var f,h=i.diagnoses.valid,d=function(e){e>h&&(h=e)},p={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]},y="",m=0,g={local:"",domain:""},v={locals:[""],domains:[""]},b=0,_=0,w=0,E=!1,S=!1,k=e.length,C=0,x=k;C<x;++C){switch(f=e[C],p.now){case i.components.localpart:switch(f){case"(":0===_?d(0===b?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(d(i.diagnoses.cfwsComment),S=!0),p.stack.push(p.now),p.now=i.components.contextComment;break;case".":0===_?d(0===b?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(S&&d(i.diagnoses.deprecatedLocalPart),S=!1,_=0,++b,g.local+=f,v.locals[b]="");break;case'"':0===_?(d(0===b?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),g.local+=f,v.locals[b]+=f,++_,S=!0,p.stack.push(p.now),p.now=i.components.contextQuotedString):d(i.diagnoses.errExpectingATEXT);break;case"\r":if(k===++C||"\n"!==e[C]){d(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===_?d(0===b?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):S=!0,p.stack.push(p.now),p.now=i.components.contextFWS,y=f;break;case"@":if(1!==p.stack.length)throw new Error("unexpected item on context stack");0===g.local.length?d(i.diagnoses.errNoLocalPart):0===_?d(i.diagnoses.errDotEnd):g.local.length>64?d(i.diagnoses.rfc5322LocalTooLong):p.prev!==i.components.contextComment&&p.prev!==i.components.contextFWS||d(i.diagnoses.deprecatedCFWSNearAt),p.now=i.components.domain,p.stack[0]=i.components.domain,b=0,_=0,S=!1;break;default:if(S)switch(p.prev){case i.components.contextComment:case i.components.contextFWS:d(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:d(i.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+p.prev)}else p.prev=p.now,m=f.charCodeAt(0),(m<33||m>126||o(m))&&d(i.diagnoses.errExpectingATEXT),g.local+=f,v.locals[b]+=f,++_}break;case i.components.domain:switch(f){case"(":0===_?d(0===b?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(S=!0,d(i.diagnoses.cfwsComment)),p.stack.push(p.now),p.now=i.components.contextComment;break;case".":0===_?d(0===b?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):E?d(i.diagnoses.errDomainHyphenEnd):_>63&&d(i.diagnoses.rfc5322LabelTooLong),S=!1,_=0,++b,v.domains[b]="",g.domain+=f;break;case"[":0===g.domain.length?(S=!0,++_,p.stack.push(p.now),p.now=i.components.literal,g.domain+=f,v.domains[b]+=f,g.literal=""):d(i.diagnoses.errExpectingATEXT);break;case"\r":if(k===++C||"\n"!==e[C]){d(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===_?d(0===b?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(d(i.diagnoses.cfwsFWS),S=!0),p.stack.push(p.now),p.now=i.components.contextFWS,y=f;break;default:if(S)switch(p.prev){case i.components.contextComment:case i.components.contextFWS:d(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:d(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+p.prev)}m=f.charCodeAt(0),E=!1,m<33||m>126||o(m)?d(i.diagnoses.errExpectingATEXT):"-"===f?(0===_&&d(i.diagnoses.errDomainHyphenStart),E=!0):(m<48||m>122||m>57&&m<65||m>90&&m<97)&&d(i.diagnoses.rfc5322Domain),g.domain+=f,v.domains[b]+=f,++_}break;case i.components.literal:switch(f){case"]":if(h<i.categories.deprecated){var P=-1,R=g.literal,O=a.exec(R);if(O&&0!==(P=O.index)&&(R=R.slice(0,P)+"0:0"),0===P)d(i.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==R.slice(0,5).toLowerCase())d(i.diagnoses.rfc5322DomainLiteral);else{var A=R.slice(5),M=i.maxIPv6Groups,I=A.split(":");P=A.indexOf("::"),~P?P!==A.lastIndexOf("::")?d(i.diagnoses.rfc5322IPv62x2xColon):(0!==P&&P!==A.length-2||++M,I.length>M?d(i.diagnoses.rfc5322IPv6MaxGroups):I.length===M&&d(i.diagnoses.deprecatedIPv6)):I.length!==M&&d(i.diagnoses.rfc5322IPv6GroupCount),d(":"===A[0]&&":"!==A[1]?i.diagnoses.rfc5322IPv6ColonStart:":"===A[A.length-1]&&":"!==A[A.length-2]?i.diagnoses.rfc5322IPv6ColonEnd:I.every(c)?i.diagnoses.rfc5321AddressLiteral:i.diagnoses.rfc5322IPv6BadCharacter)}}else d(i.diagnoses.rfc5322DomainLiteral);g.domain+=f,v.domains[b]+=f,++_,p.prev=p.now,p.now=p.stack.pop();break;case"\\":d(i.diagnoses.rfc5322DomainLiteralOBSDText),p.stack.push(p.now),p.now=i.components.contextQuotedPair;break;case"\r":if(k===++C||"\n"!==e[C]){d(i.diagnoses.errCRNoLF);break}case" ":case"\t":d(i.diagnoses.cfwsFWS),p.stack.push(p.now),p.now=i.components.contextFWS,y=f;break;default:if((m=f.charCodeAt(0))>127||0===m||"["===f){d(i.diagnoses.errExpectingDTEXT);break}(m<33||127===m)&&d(i.diagnoses.rfc5322DomainLiteralOBSDText),g.literal+=f,g.domain+=f,v.domains[b]+=f,++_}break;case i.components.contextQuotedString:switch(f){case"\\":p.stack.push(p.now),p.now=i.components.contextQuotedPair;break;case"\r":if(k===++C||"\n"!==e[C]){d(i.diagnoses.errCRNoLF);break}case"\t":g.local+=" ",v.locals[b]+=" ",++_,d(i.diagnoses.cfwsFWS),p.stack.push(p.now),p.now=i.components.contextFWS,y=f;break;case'"':g.local+=f,v.locals[b]+=f,++_,p.prev=p.now,p.now=p.stack.pop();break;default:m=f.charCodeAt(0),m>127||0===m||10===m?d(i.diagnoses.errExpectingQTEXT):(m<32||127===m)&&d(i.diagnoses.deprecatedQTEXT),g.local+=f,v.locals[b]+=f,++_}break;case i.components.contextQuotedPair:switch(m=f.charCodeAt(0),m>127?d(i.diagnoses.errExpectingQPair):(m<31&&9!==m||127===m)&&d(i.diagnoses.deprecatedQP),p.prev=p.now,p.now=p.stack.pop(),f="\\"+f,p.now){case i.components.contextComment:break;case i.components.contextQuotedString:g.local+=f,v.locals[b]+=f,_+=2;break;case i.components.literal:g.domain+=f,v.domains[b]+=f,_+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+p.now)}break;case i.components.contextComment:switch(f){case"(":p.stack.push(p.now),p.now=i.components.contextComment;break;case")":p.prev=p.now,p.now=p.stack.pop();break;case"\\":p.stack.push(p.now),p.now=i.components.contextQuotedPair;break;case"\r":if(k===++C||"\n"!==e[C]){d(i.diagnoses.errCRNoLF);break}case" ":case"\t":d(i.diagnoses.cfwsFWS),p.stack.push(p.now),p.now=i.components.contextFWS,y=f;break;default:if((m=f.charCodeAt(0))>127||0===m||10===m){d(i.diagnoses.errExpectingCTEXT);break}(m<32||127===m)&&d(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if("\r"===y){if("\r"===f){d(i.diagnoses.errFWSCRLFx2);break}++w>1?d(i.diagnoses.deprecatedFWS):w=1}switch(f){case"\r":k!==++C&&"\n"===e[C]||d(i.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===y&&d(i.diagnoses.errFWSCRLFEnd),w=0,p.prev=p.now,p.now=p.stack.pop(),--C}y=f;break;default:throw new Error("unknown context: "+p.now)}if(h>i.categories.rfc5322)break}if(h<i.categories.rfc5322)if(p.now===i.components.contextQuotedString)d(i.diagnoses.errUnclosedQuotedString);else if(p.now===i.components.contextQuotedPair)d(i.diagnoses.errBackslashEnd);else if(p.now===i.components.contextComment)d(i.diagnoses.errUnclosedComment);else if(p.now===i.components.literal)d(i.diagnoses.errUnclosedDomainLiteral);else if("\r"===f)d(i.diagnoses.errFWSCRLFEnd);else if(0===g.domain.length)d(i.diagnoses.errNoDomain);else if(0===_)d(i.diagnoses.errDotEnd);else if(E)d(i.diagnoses.errDomainHyphenEnd);else if(g.domain.length>255)d(i.diagnoses.rfc5322DomainTooLong);else if(g.local.length+g.domain.length+1>254)d(i.diagnoses.rfc5322TooLong);else if(_>63)d(i.diagnoses.rfc5322LabelTooLong);else if(t.minDomainAtoms&&v.domains.length<t.minDomainAtoms)d(i.diagnoses.errDomainTooShort);else if(t.tldWhitelist){var T=v.domains[b];if(Array.isArray(t.tldWhitelist)){var D=!1;for(C=0,x=t.tldWhitelist.length;C<x;++C)if(T===t.tldWhitelist[C]){D=!0;break}D||d(i.diagnoses.errUnknownTLD)}else u.call(t.tldWhitelist,T)||d(i.diagnoses.errUnknownTLD)}var j=!1,N=!1,L=function(){if(!j&&h<i.categories.dnsWarn){v.domains[b].charCodeAt(0)<=57?d(i.diagnoses.rfc5321TLDNumeric):0===b&&d(i.diagnoses.rfc5321TLD)}h<l&&(h=i.diagnoses.valid);var e=s?h:h<i.defaultThreshold;return r&&(N?r(e):i.defer(r.bind(null,e))),e};if(!(t.checkDNS&&h<i.categories.dnsWarn)){var B=L();return N=!0,B}0===b&&(g.domain+=".");var F=g.domain;n.resolveMx(F,function(e,t){if(e&&e.code!==n.NODATA)return d(i.diagnoses.dnsWarnNoRecord),L();if(t&&t.length)return j=!0,L();var r=3,o=!1;d(i.diagnoses.dnsWarnNoMXRecord);var a=function(e,t){if(!o){if(--r,t&&t.length)return o=!0,L();0===r&&(d(i.diagnoses.dnsWarnNoRecord),o=!0,L())}};n.resolveCname(F,a),n.resolve4(F,a),n.resolve6(F,a)}),N=!0};l.diagnoses=function(){var e={};for(var t in i.diagnoses)e[t]=i.diagnoses[t];return e}(),e.exports=l}).call(t,r(7))},function(e,t,r){var n=r(13),i=r(51),o=r(15),a=r(9),s={};s.Array=function(){n.call(this),this._type="array",this._inner.inclusions=[],this._inner.exclusions=[],this._flags.sparse=!1},a.inherits(s.Array,n),s.Array.prototype._base=function(e,t,r){var n={value:e};if("string"==typeof e&&r.convert)try{var i=JSON.parse(e);Array.isArray(i)&&(n.value=i)}catch(e){}var a=Array.isArray(n.value),s=a;if(r.convert&&this._flags.single&&!a&&(n.value=[n.value],a=!0),!a)return n.errors=o.create("array.base",null,t,r),n;if(this._inner.inclusions.length||this._inner.exclusions.length||!this._flags.sparse){s&&(n.value=n.value.slice(0));var c=function(){for(var e=0,i=n.value.length;e<i;++e){var a=n.value[e],c=!1,u={key:e,path:(t.path?t.path+".":"")+e,parent:n.value,reference:t.reference};if(!this._flags.sparse&&void 0===a)return n.errors=o.create("array.sparse",null,{key:t.key,path:u.path},r),n;for(var l=0,f=this._inner.exclusions.length;l<f;++l){var h=this._inner.exclusions[l]._validate(a,u,{});if(!h.errors)return n.errors=o.create(s?"array.excludes":"array.excludesSingle",{pos:e},{key:t.key,path:u.path},r),n}for(l=0,f=this._inner.inclusions.length;l<f;++l){var h=this._inner.inclusions[l]._validate(a,u,r);if(!h.errors){n.value[e]=h.value,c=!0;break}if(1===f)return n.errors=o.create(s?"array.includesOne":"array.includesOneSingle",{pos:e,reason:h.errors},{key:t.key,path:u.path},r),n}if(this._inner.inclusions.length&&!c)return n.errors=o.create(s?"array.includes":"array.includesSingle",{pos:e},{key:t.key,path:u.path},r),n}return n};if(c.call(this).errors&&s&&r.convert&&this._flags.single){var u=n.errors;delete n.errors,n.value=[n.value],c.call(this).errors&&(n.errors=u,n.value=n.value[0])}}return n},s.Array.prototype.describe=function(){var e=n.prototype.describe.call(this);if(this._inner.inclusions.length){e.includes=[];for(var t=0,r=this._inner.inclusions.length;t<r;++t)e.includes.push(this._inner.inclusions[t].describe())}if(this._inner.exclusions.length){e.excludes=[];for(var t=0,r=this._inner.exclusions.length;t<r;++t)e.excludes.push(this._inner.exclusions[t].describe())}return e},s.Array.prototype.includes=function(){var e=a.flatten(Array.prototype.slice.call(arguments)).map(function(e){return i.schema(e)}),t=this.clone();return t._inner.inclusions=t._inner.inclusions.concat(e),t},s.Array.prototype.excludes=function(){var e=a.flatten(Array.prototype.slice.call(arguments)).map(function(e){return i.schema(e)}),t=this.clone();return t._inner.exclusions=t._inner.exclusions.concat(e),t},s.Array.prototype.min=function(e){return a.assert(a.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,r,n){return t.length>=e?null:o.create("array.min",{limit:e},r,n)})},s.Array.prototype.max=function(e){return a.assert(a.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,r,n){return t.length<=e?null:o.create("array.max",{limit:e},r,n)})},s.Array.prototype.length=function(e){return a.assert(a.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,r,n){return t.length===e?null:o.create("array.length",{limit:e},r,n)})},s.Array.prototype.unique=function(){return this._test("unique",void 0,function(e,t,r){for(var n={string:{},number:{},undefined:{},boolean:{},object:[],function:[]},i=0,s=e.length;i<s;++i){var c=e[i],u=typeof c,l=n[u];if(l)if(Array.isArray(l)){for(var f=0,h=l.length;f<h;++f)if(a.deepEqual(l[f],c))return o.create("array.unique",{pos:i},t,r);l.push(c)}else{if(l[c])return o.create("array.unique",{pos:i},t,r);l[c]=!0}}})},s.Array.prototype.sparse=function(e){var t=this.clone();return t._flags.sparse=void 0===e||!!e,t},s.Array.prototype.single=function(e){var t=this.clone();return t._flags.single=void 0===e||!!e,t},e.exports=new s.Array},function(e,t,r){(function(t){var n=r(13),i=r(15),o=r(9),a={};a.Binary=function(){n.call(this),this._type="binary"},o.inherits(a.Binary,n),a.Binary.prototype._base=function(e,r,n){var o={value:e};if("string"==typeof e&&n.convert)try{var a=new t(e,this._flags.encoding);o.value=a}catch(e){}return o.errors=t.isBuffer(o.value)?null:i.create("binary.base",null,r,n),o},a.Binary.prototype.encoding=function(e){o.assert(t.isEncoding(e),"Invalid encoding:",e);var r=this.clone();return r._flags.encoding=e,r},a.Binary.prototype.min=function(e){return o.assert(o.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,r,n){return t.length>=e?null:i.create("binary.min",{limit:e},r,n)})},a.Binary.prototype.max=function(e){return o.assert(o.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,r,n){return t.length<=e?null:i.create("binary.max",{limit:e},r,n)})},a.Binary.prototype.length=function(e){return o.assert(o.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,r,n){return t.length===e?null:i.create("binary.length",{limit:e},r,n)})},e.exports=new a.Binary}).call(t,r(0).Buffer)},function(e,t,r){var n=r(13),i=r(15),o=r(9),a={};a.Function=function(){n.call(this),this._type="func"},o.inherits(a.Function,n),a.Function.prototype._base=function(e,t,r){return{value:e,errors:"function"==typeof e?null:i.create("function.base",null,t,r)}},e.exports=new a.Function},function(e,t,r){var n=(r(9),r(13)),i=r(51),o=r(52),a={alternatives:r(103),array:r(484),boolean:r(183),binary:r(485),date:r(104),func:r(486),number:r(184),object:r(185),string:r(186)};a.root=function(){var e=new n,t=e.clone();return t.any=function(){return e},t.alternatives=t.alt=function(){return arguments.length?a.alternatives.try.apply(a.alternatives,arguments):a.alternatives},t.array=function(){return a.array},t.boolean=t.bool=function(){return a.boolean},t.binary=function(){return a.binary},t.date=function(){return a.date},t.func=function(){return a.func},t.number=function(){return a.number},t.object=function(){return arguments.length?a.object.keys.apply(a.object,arguments):a.object},t.string=function(){return a.string},t.ref=function(){return o.create.apply(null,arguments)},t.isRef=function(e){return o.isRef(e)},t.validate=function(t){var r=arguments[arguments.length-1],n="function"==typeof r?r:null,o=arguments.length-(n?1:0);if(1===o)return e.validate(t,n);var a=3===o?arguments[2]:{};return i.schema(arguments[1])._validateWithOptions(t,a,n)},t.describe=function(){return(arguments.length?i.schema(arguments[0]):e).describe()},t.compile=function(e){return i.schema(e)},t.assert=function(e,r,n){n=n?n+" ":"";var i=t.validate(e,r).error;if(i)throw new Error(n+i.annotate())},t},e.exports=a.root()},function(e,t){t.errors={root:"value",any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}"},alternatives:{base:"not matching any of the allowed alternatives"},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:"single value of {{!key}} does not match any of the allowed types",includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:"single value of {{!key}} fails because {{reason}}",excludes:"at position {{pos}} contains an excluded value",excludesSingle:"single value of {{!key}} contains an excluded value",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",isoDate:"must be a valid ISO 8601 date",ref:"references {{ref}} which is not a date"},function:{base:"must be a Function"},object:{base:"must be an object",min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:"is not allowed",with:"missing required peer {{peer}}",without:"conflict with forbidden peer {{peer}}",missing:"must contain at least one of {{peers}}",xor:"contains a conflict between exclusive peers {{peers}}",or:"must contain at least one of {{peers}}",and:"contains {{present}} without its required peers {{missing}}",nand:"{{main}} must not exist simultaneously with {{peers}}",assert:"validation failed because {{ref}} failed to {{message}}",rename:{multiple:"cannot rename child {{from}} because multiple renames are disabled and another key was already renamed to {{to}}",override:"cannot rename child {{from}} because override is disabled and target {{to}} exists"},type:"must be an instance of {{type}}"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:"fails to match the required pattern",name:"fails to match the {{name}} pattern"},email:"must be a valid email",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hostname:"must be a valid hostname",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card"}}},function(e,t,r){var n=r(25),i=r(19),o=n(i,"DataView");e.exports=o},function(e,t,r){function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var n=r(539),i=r(540),o=r(541),a=r(542),s=r(543);Hash.prototype.clear=n,Hash.prototype.delete=i,Hash.prototype.get=o,Hash.prototype.has=a,Hash.prototype.set=s,e.exports=Hash},function(e,t,r){var n=r(25),i=r(19),o=n(i,"Promise");e.exports=o},function(e,t,r){var n=r(25),i=r(19),o=n(i,"Set");e.exports=o},function(e,t,r){function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}var n=r(106),i=r(563),o=r(564);SetCache.prototype.add=SetCache.prototype.push=i,SetCache.prototype.has=o,e.exports=SetCache},function(e,t,r){var n=r(19),i=n.Uint8Array;e.exports=i},function(e,t,r){var n=r(25),i=r(19),o=n(i,"WeakMap");e.exports=o},function(e,t){function apply(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=apply},function(e,t){function arrayEvery(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}e.exports=arrayEvery},function(e,t){function arrayFilter(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}e.exports=arrayFilter},function(e,t,r){function arrayLikeKeys(e,t){var r=o(e),u=!r&&i(e),f=!r&&!u&&a(e),h=!r&&!u&&!f&&c(e),d=r||u||f||h,p=d?n(e.length,String):[],y=p.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,y))||p.push(m);return p}var n=r(523),i=r(111),o=r(16),a=r(112),s=r(107),c=r(115),u=Object.prototype,l=u.hasOwnProperty;e.exports=arrayLikeKeys},function(e,t){function arrayMap(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}e.exports=arrayMap},function(e,t){function arrayPush(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}e.exports=arrayPush},function(e,t){function arraySome(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=arraySome},function(e,t,r){function baseAssign(e,t){return e&&n(t,i(t),e)}var n=r(194),i=r(56);e.exports=baseAssign},function(e,t,r){var n=r(17),i=Object.create,o=function(){function object(){}return function(e){if(!n(e))return{};if(i)return i(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();e.exports=o},function(e,t,r){var n=r(508),i=r(529),o=i(n);e.exports=o},function(e,t,r){function baseEvery(e,t){var r=!0;return n(e,function(e,n,i){return r=!!t(e,n,i)}),r}var n=r(505);e.exports=baseEvery},function(e,t,r){var n=r(530),i=n();e.exports=i},function(e,t,r){function baseForOwn(e,t){return e&&n(e,t,i)}var n=r(507),i=r(56);e.exports=baseForOwn},function(e,t,r){function baseGetAllKeys(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}var n=r(501),i=r(16);e.exports=baseGetAllKeys},function(e,t){function baseHasIn(e,t){return null!=e&&t in Object(e)}e.exports=baseHasIn},function(e,t,r){function baseIsArguments(e){return i(e)&&n(e)==o}var n=r(53),i=r(55),o="[object Arguments]";e.exports=baseIsArguments},function(e,t,r){function baseIsEqualDeep(e,t,r,y,g,v){var b=c(e),_=c(t),w=b?d:s(e),E=_?d:s(t);w=w==h?p:w,E=E==h?p:E;var S=w==p,k=E==p,C=w==E;if(C&&u(e)){if(!u(t))return!1;b=!0,S=!1}if(C&&!S)return v||(v=new n),b||l(e)?i(e,t,r,y,g,v):o(e,t,w,r,y,g,v);if(!(r&f)){var x=S&&m.call(e,"__wrapped__"),P=k&&m.call(t,"__wrapped__");if(x||P){var R=x?e.value():e,O=P?t.value():t;return v||(v=new n),g(R,O,r,y,v)}}return!!C&&(v||(v=new n),a(e,t,r,y,g,v))}var n=r(187),i=r(196),o=r(531),a=r(532),s=r(198),c=r(16),u=r(112),l=r(115),f=1,h="[object Arguments]",d="[object Array]",p="[object Object]",y=Object.prototype,m=y.hasOwnProperty;e.exports=baseIsEqualDeep},function(e,t,r){function baseIsMatch(e,t,r,s){var c=r.length,u=c,l=!s;if(null==e)return!u;for(e=Object(e);c--;){var f=r[c];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++c<u;){f=r[c];var h=f[0],d=e[h],p=f[1];if(l&&f[2]){if(void 0===d&&!(h in e))return!1}else{var y=new n;if(s)var m=s(d,p,h,e,t,y);if(!(void 0===m?i(p,d,o|a,s,y):m))return!1}}return!0}var n=r(187),i=r(191),o=1,a=2;e.exports=baseIsMatch},function(e,t,r){function baseIsNative(e){return!(!o(e)||i(e))&&(n(e)?h:s).test(a(e))}var n=r(78),i=r(545),o=r(17),a=r(202),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=baseIsNative},function(e,t,r){function baseIsTypedArray(e){return o(e)&&i(e.length)&&!!a[n(e)]}var n=r(53),i=r(113),o=r(55),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=baseIsTypedArray},function(e,t,r){function baseIteratee(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}var n=r(517),i=r(518),o=r(110),a=r(16),s=r(581);e.exports=baseIteratee},function(e,t,r){function baseMatches(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}var n=r(513),i=r(534),o=r(201);e.exports=baseMatches},function(e,t,r){function baseMatchesProperty(e,t){return a(e)&&s(t)?c(u(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,l|f)}}var n=r(191),i=r(577),o=r(578),a=r(108),s=r(200),c=r(201),u=r(76),l=1,f=2;e.exports=baseMatchesProperty},function(e,t){function baseProperty(e){return function(t){return null==t?void 0:t[e]}}e.exports=baseProperty},function(e,t,r){function basePropertyDeep(e){return function(t){return n(t,e)}}var n=r(190);e.exports=basePropertyDeep},function(e,t,r){function baseRest(e,t){return o(i(e,t,n),e+"")}var n=r(110),i=r(562),o=r(566);e.exports=baseRest},function(e,t,r){var n=r(575),i=r(195),o=r(110),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},function(e,t){function baseTimes(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=baseTimes},function(e,t,r){function baseToString(e){if("string"==typeof e)return e;if(o(e))return i(e,baseToString)+"";if(a(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var n=r(72),i=r(500),o=r(16),a=r(114),s=1/0,c=n?n.prototype:void 0,u=c?c.toString:void 0;e.exports=baseToString},function(e,t){function baseUnary(e){return function(t){return e(t)}}e.exports=baseUnary},function(e,t){function cacheHas(e,t){return e.has(t)}e.exports=cacheHas},function(e,t,r){var n=r(19),i=n["__core-js_shared__"];e.exports=i},function(e,t,r){function createAssigner(e){return n(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t})}var n=r(521),i=r(199);e.exports=createAssigner},function(e,t,r){function createBaseEach(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,s=Object(r);(t?a--:++a<o)&&!1!==i(s[a],a,s););return r}}var n=r(54);e.exports=createBaseEach},function(e,t){function createBaseFor(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}e.exports=createBaseFor},function(e,t,r){function equalByTag(e,t,r,n,E,k,C){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!k(new i(e),new i(t)));case f:case h:case y:return o(+e,+t);case d:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case p:var x=s;case g:var P=n&u;if(x||(x=c),e.size!=t.size&&!P)return!1;var R=C.get(e);if(R)return R==t;n|=l,C.set(e,t);var O=a(x(e),x(t),n,E,k,C);return C.delete(e),O;case b:if(S)return S.call(e)==S.call(t)}return!1}var n=r(72),i=r(494),o=r(77),a=r(196),s=r(556),c=r(565),u=1,l=2,f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Map]",y="[object Number]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",E=n?n.prototype:void 0,S=E?E.valueOf:void 0;e.exports=equalByTag},function(e,t,r){function equalObjects(e,t,r,o,s,c){var u=r&i,l=n(e),f=l.length;if(f!=n(t).length&&!u)return!1;for(var h=f;h--;){var d=l[h];if(!(u?d in t:a.call(t,d)))return!1}var p=c.get(e);if(p&&c.get(t))return p==t;var y=!0;c.set(e,t),c.set(t,e);for(var m=u;++h<f;){d=l[h];var g=e[d],v=t[d];if(o)var b=u?o(v,g,d,t,e,c):o(g,v,d,e,t,c);if(!(void 0===b?g===v||s(g,v,r,o,c):b)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(y=!1)}return c.delete(e),c.delete(t),y}var n=r(533),i=1,o=Object.prototype,a=o.hasOwnProperty;e.exports=equalObjects},function(e,t,r){function getAllKeys(e){return n(e,o,i)}var n=r(509),i=r(536),o=r(56);e.exports=getAllKeys},function(e,t,r){function getMatchData(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}var n=r(200),i=r(56);e.exports=getMatchData},function(e,t,r){function getRawTag(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0}catch(e){}var n=a.call(e);return t?e[s]=r:delete e[s],n}var n=r(72),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=getRawTag},function(e,t,r){var n=r(498),i=r(582),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,c=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return a.call(e,t)}))}:i;e.exports=c},function(e,t){function getValue(e,t){return null==e?void 0:e[t]}e.exports=getValue},function(e,t,r){function hasPath(e,t,r){t=n(t,e);for(var u=-1,l=t.length,f=!1;++u<l;){var h=c(t[u]);if(!(f=null!=e&&r(e,h)))break;e=e[h]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(o(e)||i(e))}var n=r(193),i=r(111),o=r(16),a=r(107),s=r(113),c=r(76);e.exports=hasPath},function(e,t,r){function hashClear(){this.__data__=n?n(null):{},this.size=0}var n=r(75);e.exports=hashClear},function(e,t){function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=hashDelete},function(e,t,r){function hashGet(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return a.call(t,e)?t[e]:void 0}var n=r(75),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;e.exports=hashGet},function(e,t,r){function hashHas(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}var n=r(75),i=Object.prototype,o=i.hasOwnProperty;e.exports=hashHas},function(e,t,r){function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}var n=r(75),i="__lodash_hash_undefined__";e.exports=hashSet},function(e,t){function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=isKeyable},function(e,t,r){function isMasked(e){return!!i&&i in e}var n=r(527),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=isMasked},function(e,t){function listCacheClear(){this.__data__=[],this.size=0}e.exports=listCacheClear},function(e,t,r){function listCacheDelete(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}var n=r(73),i=Array.prototype,o=i.splice;e.exports=listCacheDelete},function(e,t,r){function listCacheGet(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}var n=r(73);e.exports=listCacheGet},function(e,t,r){function listCacheHas(e){return n(this.__data__,e)>-1}var n=r(73);e.exports=listCacheHas},function(e,t,r){function listCacheSet(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var n=r(73);e.exports=listCacheSet},function(e,t,r){function mapCacheClear(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}var n=r(490),i=r(71),o=r(105);e.exports=mapCacheClear},function(e,t,r){function mapCacheDelete(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}var n=r(74);e.exports=mapCacheDelete},function(e,t,r){function mapCacheGet(e){return n(this,e).get(e)}var n=r(74);e.exports=mapCacheGet},function(e,t,r){function mapCacheHas(e){return n(this,e).has(e)}var n=r(74);e.exports=mapCacheHas},function(e,t,r){function mapCacheSet(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var n=r(74);e.exports=mapCacheSet},function(e,t){function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}e.exports=mapToArray},function(e,t,r){function memoizeCapped(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}var n=r(580),i=500;e.exports=memoizeCapped},function(e,t,r){var n=r(561),i=n(Object.keys,Object);e.exports=i},function(e,t,r){(function(e){var n=r(197),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&n.process,c=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=c}).call(t,r(29)(e))},function(e,t){function objectToString(e){return n.call(e)}var r=Object.prototype,n=r.toString;e.exports=objectToString},function(e,t){function overArg(e,t){return function(r){return e(t(r))}}e.exports=overArg},function(e,t,r){function overRest(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=r(c),n(e,this,u)}}var n=r(496),i=Math.max;e.exports=overRest},function(e,t){function setCacheAdd(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=setCacheAdd},function(e,t){function setCacheHas(e){return this.__data__.has(e)}e.exports=setCacheHas},function(e,t){function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}e.exports=setToArray},function(e,t,r){var n=r(522),i=r(567),o=i(n);e.exports=o},function(e,t){function shortOut(e){var t=0,o=0;return function(){var a=i(),s=n-(a-o);if(o=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,n=16,i=Date.now;e.exports=shortOut},function(e,t,r){function stackClear(){this.__data__=new n,this.size=0}var n=r(71);e.exports=stackClear},function(e,t){function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=stackDelete},function(e,t){function stackGet(e){return this.__data__.get(e)}e.exports=stackGet},function(e,t){function stackHas(e){return this.__data__.has(e)}e.exports=stackHas},function(e,t,r){function stackSet(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}var n=r(71),i=r(105),o=r(106),a=200;e.exports=stackSet},function(e,t,r){var n=r(557),i=/^\./,o=n(function(e){var t=[];return i.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,r,n,i){t.push(n?i.replace(/\\(\\)?/g,"$1"):r||e)}),t});e.exports=o},function(e,t,r){var n=r(188),i=r(194),o=r(528),a=r(54),s=r(109),c=r(56),u=Object.prototype,l=u.hasOwnProperty,f=o(function(e,t){if(s(t)||a(t))return void i(t,c(t),e);for(var r in t)l.call(t,r)&&n(e,r,t[r])});e.exports=f},function(e,t){function constant(e){return function(){return e}}e.exports=constant},function(e,t,r){function every(e,t,r){var c=a(e)?n:i;return r&&s(e,t,r)&&(t=void 0),c(e,o(t,3))}var n=r(497),i=r(506),o=r(516),a=r(16),s=r(199);e.exports=every},function(e,t,r){function get(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}var n=r(190);e.exports=get},function(e,t,r){function hasIn(e,t){return null!=e&&i(e,t,n)}var n=r(510),i=r(538);e.exports=hasIn},function(e,t,r){function isEmpty(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||o(e)))return!e.length;var t=i(e);if(t==f||t==h)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(p.call(e,r))return!1;return!0}var n=r(192),i=r(198),o=r(111),a=r(16),s=r(54),c=r(112),u=r(109),l=r(115),f="[object Map]",h="[object Set]",d=Object.prototype,p=d.hasOwnProperty;e.exports=isEmpty},function(e,t,r){function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(memoize.Cache||n),r}var n=r(106),i="Expected a function";memoize.Cache=n,e.exports=memoize},function(e,t,r){function property(e){return o(e)?n(a(e)):i(e)}var n=r(519),i=r(520),o=r(108),a=r(76);e.exports=property},function(e,t){function stubArray(){return[]}e.exports=stubArray},function(e,t){function stubFalse(){return!1}e.exports=stubFalse},function(e,t,r){function toString(e){return null==e?"":n(e)}var n=r(524);e.exports=toString},function(e,t,r){function webpackContext(e){return r(webpackContextResolve(e))}function webpackContextResolve(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./en-au":205,"./en-au.js":205,"./en-ca":206,"./en-ca.js":206,"./en-gb":207,"./en-gb.js":207,"./en-ie":208,"./en-ie.js":208,"./en-nz":209,"./en-nz.js":209};webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=585},function(e,t){t.lookup=t.resolve4=t.resolve6=t.resolveCname=t.resolveMx=t.resolveNs=t.resolveTxt=t.resolveSrv=t.resolveNaptr=t.reverse=t.resolve=function(){if(arguments.length){var e=arguments[arguments.length-1];e&&"function"==typeof e&&e(null,"0.0.0.0")}}},function(e,t){},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,r){"use strict";var n=r(41);t.certificate=r(591);var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var o=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=u;var l=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",function(){this.int()});var f=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var h=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,r){"use strict";var n=r(41),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(o)}),u=n.define("RDNSequence",function(){this.seqof(c)}),l=n.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),f=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},function(e,t,r){(function(t){var n=r(70),i=r(83);e.exports=function(e,r){var o,a=e.toString(),s=a.match(/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m);if(s){var c="aes"+s[1],u=new t(s[2],"hex"),l=new t(s[3].replace(/\r?\n/g,""),"base64"),f=n(r,u.slice(0,8),parseInt(s[1],10)).key,h=[],d=i.createDecipheriv(c,f,u);h.push(d.update(l)),h.push(d.final()),o=t.concat(h)}else{var p=a.match(/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m);o=new t(p[2].replace(/\r?\n/g,""),"base64")}return{tag:a.match(/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m)[1],data:o}}}).call(t,r(0).Buffer)},function(e,t){var r=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!==t)throw new TypeError("Bad key length")}},function(e,t,r){t.publicEncrypt=r(596),t.privateDecrypt=r(595),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},function(e,t,r){(function(t){function oaep(e,r){var n=(e.modulus,e.modulus.byteLength()),a=(r.length,c("sha1").update(new t("")).digest()),s=a.length;if(0!==r[0])throw new Error("decryption error");var u=r.slice(1,s+1),l=r.slice(s+1),f=o(u,i(l,s)),h=o(l,i(f,n-s-1));if(compare(a,h.slice(0,s)))throw new Error("decryption error");for(var d=s;0===h[d];)d++;if(1!==h[d++])throw new Error("decryption error");return h.slice(d)}function pkcs1(e,t,r){for(var n=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);t.slice(i-1,i);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}function compare(e,r){e=new t(e),r=new t(r);var n=0,i=e.length;e.length!==r.length&&(n++,i=Math.min(e.length,r.length));for(var o=-1;++o<i;)n+=e[o]^r[o];return n}var n=r(79),i=r(212),o=r(214),a=r(6),s=r(84),c=r(34),u=r(213);e.exports=function(e,r,i){var o;o=e.padding?e.padding:i?1:4;var c=n(e),l=c.modulus.byteLength();if(r.length>l||new a(r).cmp(c.modulus)>=0)throw new Error("decryption error");var f;f=i?u(new a(r),c):s(r,c);var h=new t(l-f.length);if(h.fill(0),f=t.concat([h,f],l),4===o)return oaep(c,f);if(1===o)return pkcs1(c,f,i);if(3===o)return f;throw new Error("unknown padding")}}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function oaep(e,r){var n=e.modulus.byteLength(),u=r.length,l=o("sha1").update(new t("")).digest(),f=l.length,h=2*f;if(u>n-h-2)throw new Error("message too long");var d=new t(n-u-h-2);d.fill(0);var p=n-f-1,y=i(f),m=s(t.concat([l,d,new t([1]),r],p),a(y,p)),g=s(y,a(m,f));return new c(t.concat([new t([0]),g,m],n))}function pkcs1(e,r,n){var i=r.length,o=e.modulus.byteLength();if(i>o-11)throw new Error("message too long");var a;return n?(a=new t(o-i-3),a.fill(255)):a=nonZero(o-i-3),new c(t.concat([new t([0,n?1:2]),a,new t([0]),r],o))}function nonZero(e,r){for(var n,o=new t(e),a=0,s=i(2*e),c=0;a<e;)c===s.length&&(s=i(2*e),c=0),(n=s[c++])&&(o[a++]=n);return o}var n=r(79),i=r(58),o=r(34),a=r(212),s=r(214),c=r(6),u=r(213),l=r(84);e.exports=function(e,t,r){var i;i=e.padding?e.padding:r?1:4;var o,a=n(e);if(4===i)o=oaep(a,t);else if(1===i)o=pkcs1(a,t,r);else{if(3!==i)throw new Error("unknown padding");if(o=new c(t),o.cmp(a.modulus)>=0)throw new Error("data too long for modulus")}return r?l(o,a):u(o,a)}}).call(t,r(0).Buffer)},function(e,t,r){(function(e,n){var i;!function(o){function error(e){throw RangeError(_[e])}function map(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function mapDomain(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(b,"."),n+map(e.split("."),t).join(".")}function ucs2decode(e){for(var t,r,n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function ucs2encode(e){return map(e,function(e){var t="";return e>65535&&(e-=65536,t+=S(e>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function basicToDigit(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,r){var n=0;for(e=r?E(e/d):e>>1,e+=E(e/t);e>w*f>>1;n+=u)e=E(e/w);return E(n+(w+1)*e/(e+h))}function decode(e){var t,r,n,i,o,a,s,h,d,g,v=[],b=e.length,_=0,w=y,S=p;for(r=e.lastIndexOf(m),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&error("not-basic"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=_,a=1,s=u;i>=b&&error("invalid-input"),h=basicToDigit(e.charCodeAt(i++)),(h>=u||h>E((c-_)/a))&&error("overflow"),_+=h*a,d=s<=S?l:s>=S+f?f:s-S,!(h<d);s+=u)g=u-d,a>E(c/g)&&error("overflow"),a*=g;t=v.length+1,S=adapt(_-o,t,0==o),E(_/t)>c-w&&error("overflow"),w+=E(_/t),_%=t,v.splice(_++,0,w)}return ucs2encode(v)}function encode(e){var t,r,n,i,o,a,s,h,d,g,v,b,_,w,k,C=[];for(e=ucs2decode(e),b=e.length,t=y,r=0,o=p,a=0;a<b;++a)(v=e[a])<128&&C.push(S(v));for(n=i=C.length,i&&C.push(m);n<b;){for(s=c,a=0;a<b;++a)(v=e[a])>=t&&v<s&&(s=v);for(_=n+1,s-t>E((c-r)/_)&&error("overflow"),r+=(s-t)*_,t=s,a=0;a<b;++a)if(v=e[a],v<t&&++r>c&&error("overflow"),v==t){for(h=r,d=u;g=d<=o?l:d>=o+f?f:d-o,!(h<g);d+=u)k=h-g,w=u-g,C.push(S(digitToBasic(g+k%w,0))),h=E(k/w);C.push(S(digitToBasic(h,0))),o=adapt(r,_,n==i),r=0,++n}++r,++t}return C.join("")}function toUnicode(e){return mapDomain(e,function(e){return g.test(e)?decode(e.slice(4).toLowerCase()):e})}function toASCII(e){return mapDomain(e,function(e){return v.test(e)?"xn--"+encode(e):e})}var a=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof n&&n);var s,c=2147483647,u=36,l=1,f=26,h=38,d=700,p=72,y=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-l,E=Math.floor,S=String.fromCharCode;s={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},void 0!==(i=function(){return s}.call(t,r,t,e))&&(e.exports=i)}()}).call(t,r(29)(e),r(4))},function(e,t,r){var n=r(216),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};i.parseValues=function(e,t){for(var r={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0,a=i.length;o<a;++o){var s,c,u=i[o],l=-1===u.indexOf("]=")?u.indexOf("="):u.indexOf("]=")+1;-1===l?(s=n.decode(u),c=t.strictNullHandling?null:""):(s=n.decode(u.slice(0,l)),c=n.decode(u.slice(l+1))),Object.prototype.hasOwnProperty.call(r,s)?r[s]=[].concat(r[s]).concat(c):r[s]=c}return r},i.parseObject=function(e,t,r){if(!e.length)return t;var n,o=e.shift();if("[]"===o)n=[],n=n.concat(i.parseObject(e,t,r));else{n=r.plainObjects?Object.create(null):{};var a="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,s=parseInt(a,10),c=""+s;!isNaN(s)&&o!==a&&c===a&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(n=[],n[s]=i.parseObject(e,t,r)):n[a]=i.parseObject(e,t,r)}return n},i.parseKeys=function(e,t,r){if(e){r.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var n=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,a=n.exec(e),s=[];if(a[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(a[1])&&!r.allowPrototypes)return;s.push(a[1])}for(var c=0;null!==(a=o.exec(e))&&c<r.depth;)++c,(r.plainObjects||!Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&s.push(a[1]);return a&&s.push("["+e.slice(a.index)+"]"),i.parseObject(s,t,r)}},e.exports=function(e,t){if(t=t||{},t.delimiter="string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:i.delimiter,t.depth="number"==typeof t.depth?t.depth:i.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:i.arrayLimit,t.parseArrays=!1!==t.parseArrays,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:i.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:i.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:i.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:i.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling,""===e||null===e||void 0===e)return t.plainObjects?Object.create(null):{};for(var r="string"==typeof e?i.parseValues(e,t):e,o=t.plainObjects?Object.create(null):{},a=Object.keys(r),s=0,c=a.length;s<c;++s){var u=a[s],l=i.parseKeys(u,r[u],t);o=n.merge(o,l,t)}return n.compact(o)}},function(e,t,r){var n=r(216),i={delimiter:"&",arrayPrefixGenerators:{brackets:function(e,t){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e,t){return e}},strictNullHandling:!1,skipNulls:!1,encode:!0};i.stringify=function(e,t,r,o,a,s,c,u){if("function"==typeof c)e=c(t,e);else if(n.isBuffer(e))e=e.toString();else if(e instanceof Date)e=e.toISOString();else if(null===e){if(o)return s?n.encode(t):t;e=""}if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return s?[n.encode(t)+"="+n.encode(e)]:[t+"="+e];var l=[];if(void 0===e)return l;var f;if(Array.isArray(c))f=c;else{var h=Object.keys(e);f=u?h.sort(u):h}for(var d=0,p=f.length;d<p;++d){var y=f[d];a&&null===e[y]||(l=Array.isArray(e)?l.concat(i.stringify(e[y],r(t,y),r,o,a,s,c)):l.concat(i.stringify(e[y],t+"["+y+"]",r,o,a,s,c)))}return l},e.exports=function(e,t){t=t||{};var r,n,o=void 0===t.delimiter?i.delimiter:t.delimiter,a="boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling,s="boolean"==typeof t.skipNulls?t.skipNulls:i.skipNulls,c="boolean"==typeof t.encode?t.encode:i.encode,u="function"==typeof t.sort?t.sort:null;"function"==typeof t.filter?(n=t.filter,e=n("",e)):Array.isArray(t.filter)&&(r=n=t.filter);var l=[];if("object"!=typeof e||null===e)return"";var f;f=t.arrayFormat in i.arrayPrefixGenerators?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":"indices";var h=i.arrayPrefixGenerators[f];r||(r=Object.keys(e)),u&&r.sort(u);for(var d=0,p=r.length;d<p;++d){var y=r[d];s&&null===e[y]||(l=l.concat(i.stringify(e[y],y,h,a,s,c,n,u)))}return l.join(o)}},function(e,t,r){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var u,l,f,h,d=e[c].replace(/\+/g,"%20"),p=d.indexOf(r);p>=0?(u=d.substr(0,p),l=d.substr(p+1)):(u=d,l=""),f=decodeURIComponent(u),h=decodeURIComponent(l),hasOwnProperty(o,f)?n(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function map(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?map(o(e),function(o){var a=encodeURIComponent(n(o))+r;return i(e[o])?map(e[o],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[o]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";function querystring(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return n}function querystringify(e,t){t=t||"";var r=[];"string"!=typeof t&&(t="?");for(var i in e)n.call(e,i)&&r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?t+r.join("&"):""}var n=Object.prototype.hasOwnProperty;t.stringify=querystringify,t.parse=querystring},function(e,t,r){"use strict";function RavenConfigError(e){this.name="RavenConfigError",this.message=e}RavenConfigError.prototype=new Error,RavenConfigError.prototype.constructor=RavenConfigError,e.exports=RavenConfigError},function(e,t,r){"use strict";var n=function(e,t,r){var n=e[t],i=e;if(t in e){var o="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),t=""+e.join(" "),a={level:o,logger:"console",extra:{arguments:e}};r&&r(t,a),n&&Function.prototype.apply.call(n,i,e)}}};e.exports={wrapMethod:n}},function(e,t,r){"use strict";(function(t){function now(){return+new Date}function Raven(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!isUndefined(d),this._hasNavigator=!isUndefined(p),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=h.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=now(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=h.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}function isUndefined(e){return void 0===e}function isFunction(e){return"function"==typeof e}function isString(e){return"[object String]"===y.toString.call(e)}function isEmptyObject(e){for(var t in e)return!1;return!0}function each(e,t){var r,n;if(isUndefined(e.length))for(r in e)hasKey(e,r)&&t.call(null,r,e[r]);else if(n=e.length)for(r=0;r<n;r++)t.call(null,r,e[r])}function objectMerge(e,t){return t?(each(t,function(t,r){e[t]=r}),e):e}function truncate(e,t){return!t||e.length<=t?e:e.substr(0,t)+"…"}function hasKey(e,t){return y.hasOwnProperty.call(e,t)}function joinRegExp(e){for(var t,r=[],n=0,i=e.length;n<i;n++)t=e[n],isString(t)?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")}function urlencode(e){var t=[];return each(e,function(e,r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}),t.join("&")}function parseUrl(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+r+n}}function uuid4(){var e=h.crypto||h.msCrypto;if(!isUndefined(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function htmlTreeAsString(e){for(var t,r=[],n=0,i=0,o=" > ".length;e&&n++<5&&!("html"===(t=htmlElementAsString(e))||n>1&&i+r.length*o+t.length>=80);)r.push(t),i+=t.length,e=e.parentNode;return r.reverse().join(" > ")}function htmlElementAsString(e){var t,r,n,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&isString(t))for(r=t.split(/\s+/),o=0;o<r.length;o++)a.push("."+r[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)n=s[o],(i=e.getAttribute(n))&&a.push("["+n+'="'+i+'"]');return a.join("")}function isOnlyOneTruthy(e,t){return!!(!!e^!!t)}function isSameException(e,t){return!isOnlyOneTruthy(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&isSameStacktrace(e.stacktrace,t.stacktrace))}function isSameStacktrace(e,t){if(isOnlyOneTruthy(e,t))return!1;var r=e.frames,n=t.frames;if(r.length!==n.length)return!1;for(var i,o,a=0;a<r.length;a++)if(i=r[a],o=n[a],i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1;return!0}function fill(e,t,r,n){var i=e[t];e[t]=r(i),n&&n.push([e,t,i])}var n=r(606),i=r(607),o=r(603),a=r(218),s=a.isError,c=a.isObject,u=r(604).wrapMethod,l="source protocol user pass host port path".split(" "),f=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,h="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},d=h.document,p=h.navigator;Raven.prototype={VERSION:"3.14.2",debug:!1,TraceKit:n,config:function(e,t){var r=this;if(r._globalServer)return this._logDebug("error","Error: Raven has already been configured"),r;if(!e)return r;var i=r._globalOptions;t&&each(t,function(e,t){"tags"===e||"extra"===e||"user"===e?r._globalContext[e]=t:i[e]=t}),r.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=joinRegExp(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&joinRegExp(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&joinRegExp(i.whitelistUrls),i.includePaths=joinRegExp(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0},a=i.autoBreadcrumbs;return"[object Object]"==={}.toString.call(a)?a=objectMerge(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a,n.collectWindowErrors=!!i.collectWindowErrors,r},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(n.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,r=t._parseDSN(e),n=r.path.lastIndexOf("/"),i=r.path.substr(1,n);t._dsn=e,t._globalKey=r.user,t._globalSecret=r.pass&&r.pass.substr(1),t._globalProject=r.path.substr(n+1),t._globalServer=t._getGlobalServer(r),t._globalEndpoint=t._globalServer+"/"+i+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,r){return isFunction(e)&&(r=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,r)},wrap:function(e,t,r){function wrapped(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(r&&isFunction(r)&&r.apply(this,arguments);o--;)i[o]=a?n.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw n._ignoreNextOnError(),n.captureException(t,e),t}}var n=this;if(isUndefined(t)&&!isFunction(e))return e;if(isFunction(e)&&(t=e,e=void 0),!isFunction(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}for(var i in t)hasKey(t,i)&&(wrapped[i]=t[i]);return wrapped.prototype=t.prototype,t.__raven_wrapper__=wrapped,wrapped.__raven__=!0,wrapped.__inner__=t,wrapped},uninstall:function(){return n.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!s(e))return this.captureMessage(e,objectMerge({trimHeadFrames:1,stacktrace:!0},t));this._lastCapturedException=e;try{var r=n.computeStackTrace(e);this._handleStackInfo(r,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){t=t||{};var r=objectMerge({message:e+""},t);if(this._globalOptions.stacktrace||t&&t.stacktrace){var i;try{throw new Error(e)}catch(e){i=e}i.name=null,t=objectMerge({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var o=n.computeStackTrace(i),a=this._prepareFrames(o,t);r.stacktrace={frames:a.reverse()}}return this._send(r),this}},captureBreadcrumb:function(e){var t=objectMerge({timestamp:now()/1e3},e);if(isFunction(this._globalOptions.breadcrumbCallback)){var r=this._globalOptions.breadcrumbCallback(t);if(c(r)&&!isEmptyObject(r))t=r;else if(!1===r)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=isFunction(e)?function(r){return e(r,t)}:e,this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=isFunction(e)?function(r){return e(r,t)}:e,this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=isFunction(e)?function(r){return e(r,t)}:e,this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=h.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(d){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new o("Missing eventId");var r=e.dsn||this._dsn;if(!r)throw new o("Missing DSN");var n=encodeURIComponent,i="";i+="?eventId="+n(t),i+="&dsn="+n(r);var a=e.user||this._globalContext.user;a&&(a.name&&(i+="&name="+n(a.name)),a.email&&(i+="&email="+n(a.email)));var s=this._getGlobalServer(this._parseDSN(r)),c=d.createElement("script");c.async=!0,c.src=s+"/api/embed/error-page/"+i,(d.head||d.body).appendChild(c)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var r,n;if(this._hasDocument){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),d.createEvent?(r=d.createEvent("HTMLEvents"),r.initEvent(e,!0,!0)):(r=d.createEventObject(),r.eventType=e);for(n in t)hasKey(t,n)&&(r[n]=t[n]);if(d.createEvent)d.dispatchEvent(r);else try{d.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(r){if(t._keypressTimeout=null,t._lastCapturedEvent!==r){t._lastCapturedEvent=r;var n;try{n=htmlTreeAsString(r.target)}catch(e){n="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:n})}}},_keypressEventHandler:function(){var e=this;return function(t){var r;try{r=t.target}catch(e){return}var n=r&&r.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var r=parseUrl(this._location.href),n=parseUrl(t),i=parseUrl(e);this._lastHref=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.relative),r.protocol===i.protocol&&r.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_instrumentTryCatch:function(){function wrapTimeFn(t){return function(r,n){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return isFunction(a)&&(i[0]=e.wrap(a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var e=this,t=e._wrappedBuiltIns,r=this._globalOptions.autoBreadcrumbs;fill(h,"setTimeout",wrapTimeFn,t),fill(h,"setInterval",wrapTimeFn,t),h.requestAnimationFrame&&fill(h,"requestAnimationFrame",function(t){return function(r){return t(e.wrap(r))}},t);for(var n=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<n.length;i++)!function(n){var i=h[n]&&h[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(fill(i,"addEventListener",function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap(o.handleEvent))}catch(e){}var c,u,l;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(u=e._breadcrumbEventHandler("click"),l=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?u(e):"keypress"===t?l(e):void 0}}),t.call(this,i,e.wrap(o,void 0,c),a,s)}},t),fill(i,"removeEventListener",function(e){return function(t,r,n,i){try{r=r&&(r.__raven_wrapper__?r.__raven_wrapper__:r)}catch(e){}return e.call(this,t,r,n,i)}},t))}(n[i])},_instrumentBreadcrumbs:function(){function wrapProp(t,r){t in r&&isFunction(r[t])&&fill(r,t,function(t){return e.wrap(t)})}var e=this,t=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;if(t.xhr&&"XMLHttpRequest"in h){var n=XMLHttpRequest.prototype;fill(n,"open",function(t){return function(r,n){return isString(n)&&-1===n.indexOf(e._globalKey)&&(this.__raven_xhr={method:r,url:n,status_code:null}),t.apply(this,arguments)}},r),fill(n,"send",function(t){return function(r){function onreadystatechangeHandler(){if(n.__raven_xhr&&(1===n.readyState||4===n.readyState)){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var n=this,i=["onload","onerror","onprogress"],o=0;o<i.length;o++)wrapProp(i[o],n);return"onreadystatechange"in n&&isFunction(n.onreadystatechange)?fill(n,"onreadystatechange",function(t){return e.wrap(t,void 0,onreadystatechangeHandler)}):n.onreadystatechange=onreadystatechangeHandler,t.apply(this,arguments)}},r)}t.xhr&&"fetch"in h&&fill(h,"fetch",function(t){return function(r,n){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a,s=i[0],c="GET";"string"==typeof s?a=s:(a=s.url,s.method&&(c=s.method)),i[1]&&i[1].method&&(c=i[1].method);var u={method:c,url:a,status_code:null};return e.captureBreadcrumb({type:"http",category:"fetch",data:u}),t.apply(this,i).then(function(e){return u.status_code=e.status,e})}},r),t.dom&&this._hasDocument&&(d.addEventListener?(d.addEventListener("click",e._breadcrumbEventHandler("click"),!1),d.addEventListener("keypress",e._keypressEventHandler(),!1)):(d.attachEvent("onclick",e._breadcrumbEventHandler("click")),d.attachEvent("onkeypress",e._keypressEventHandler())));var i=h.chrome,o=i&&i.app&&i.app.runtime,a=!o&&h.history&&history.pushState;if(t.location&&a){var s=h.onpopstate;h.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)},fill(history,"pushState",function(t){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&e._captureUrlChange(e._lastHref,r+""),t.apply(this,arguments)}},r)}if(t.console&&"console"in h&&console.log){var c=function(t,r){e.captureBreadcrumb({message:t,level:r.level,category:"console"})};each(["debug","info","warn","error","log"],function(e,t){u(console,t,c)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){e=this._wrappedBuiltIns.shift();var t=e[0],r=e[1],n=e[2];t[r]=n}},_drainPlugins:function(){var e=this;each(this._plugins,function(t,r){var n=r[0],i=r[1];n.apply(e,[e].concat(i))})},_parseDSN:function(e){var t=f.exec(e),r={},n=7;try{for(;n--;)r[l[n]]=t[n]||""}catch(t){throw new o("Invalid DSN: "+e)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new o("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var r=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,r,t)},_prepareFrames:function(e,t){var r=this,n=[];if(e.stack&&e.stack.length&&(each(e.stack,function(e,t){var i=r._normalizeFrame(t);i&&n.push(i)}),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<n.length;i++)n[i].in_app=!1;return n=n.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e){if(e.url){var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return t.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t.function)||/raven\.(min\.)?js$/.test(t.filename)),t}},_processException:function(e,t,r,n,i,o){var a;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t))&&(t+="",i&&i.length?(r=i[0].filename||r,i.reverse(),a={frames:i}):r&&(a={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(r))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(r)))){var s=objectMerge({exception:{values:[{type:e,value:t,stacktrace:a}]},culprit:r},o);this._send(s)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=truncate(e.message,t)),e.exception){var r=e.exception.values[0];r.value=truncate(r.value,t)}var n=e.request;return n&&(n.url&&(n.url=truncate(n.url,this._globalOptions.maxUrlLength)),n.Referer&&(n.Referer=truncate(n.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,r,n,i=["to","from","url"],o=0;o<e.values.length;++o)if(r=e.values[o],r.hasOwnProperty("data")&&c(r.data)){n=r.data;for(var a=0;a<i.length;++a)t=i[a],n.hasOwnProperty(t)&&(n[t]=truncate(n[t],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&p.userAgent&&(e.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(d.location&&d.location.href&&(e.url=d.location.href),d.referrer&&(e.headers||(e.headers={}),e.headers.Referer=d.referrer)),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&now()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.culprit!==t.culprit)&&(e.stacktrace||t.stacktrace?isSameStacktrace(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||isSameException(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var r;try{r=e.getResponseHeader("Retry-After"),r=1e3*parseInt(r,10)}catch(e){}this._backoffDuration=r||(2*this._backoffDuration||1e3),this._backoffStart=now()}}},_send:function(e){var t=this._globalOptions,r={project:this._globalProject,logger:t.logger,platform:"javascript"},n=this._getHttpData();if(n&&(r.request=n),e.trimHeadFrames&&delete e.trimHeadFrames,e=objectMerge(r,e),e.tags=objectMerge(objectMerge({},this._globalContext.tags),e.tags),e.extra=objectMerge(objectMerge({},this._globalContext.extra),e.extra),e.extra["session:duration"]=now()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),isEmptyObject(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),isFunction(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!isEmptyObject(e)&&(!isFunction(t.shouldSendCallback)||t.shouldSendCallback(e)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",e):void("number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e))},_getUuid:function(){return uuid4()},_sendProcessedPayload:function(e,t){var r=this,n=this._globalOptions;if(this.isSetup()){if(this._lastEventId=e.event_id||(e.event_id=this._getUuid()),e=this._trimPacket(e),!this._globalOptions.allowDuplicates&&this._isRepeatData(e))return void this._logDebug("warn","Raven dropped repeat event: ",e);this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:n,onSuccess:function(){r._resetBackoff(),r._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(n){r._logDebug("error","Raven transport failed to send: ",n),n.request&&r._setBackoffState(n.request),r._triggerEvent("failure",{data:e,src:a}),n=n||new Error("Raven send failed (no additional details provided)"),t&&t(n)}})}},_makeRequest:function(e){var t=new XMLHttpRequest;if("withCredentials"in t||"undefined"!=typeof XDomainRequest){var r=e.url;"withCredentials"in t?t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)e.onSuccess&&e.onSuccess();else if(e.onError){var r=new Error("Sentry error code: "+t.status);r.request=t,e.onError(r)}}:(t=new XDomainRequest,r=r.replace(/^https?:/,""),e.onSuccess&&(t.onload=e.onSuccess),e.onError&&(t.onerror=function(){var r=new Error("Sentry error code: XDomainRequest");r.request=t,e.onError(r)})),t.open("POST",r+"?"+urlencode(e.auth)),t.send(i(e.data))}},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){isUndefined(t)?delete this._globalContext[e]:this._globalContext[e]=objectMerge(this._globalContext[e]||{},t)}};var y=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(Raven.utils={isUndefined:isUndefined,isFunction:isFunction,isString:isString,isObject:c,isEmptyObject:isEmptyObject,isError:s,each:each,objectMerge:objectMerge,truncate:truncate,hasKey:hasKey,joinRegExp:joinRegExp,urlencode:urlencode,uuid4:uuid4,htmlTreeAsString:htmlTreeAsString,htmlElementAsString:htmlElementAsString,parseUrl:parseUrl,fill:fill}),Raven.prototype.setUser=Raven.prototype.setUserContext,Raven.prototype.setReleaseContext=Raven.prototype.setRelease,e.exports=Raven}).call(t,r(4))},function(e,t,r){"use strict";(function(t){function getLocationHref(){return"undefined"==typeof document||void 0===document.location?"":document.location.href}var n=r(218),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;i.report=function(){function subscribe(e){installGlobalHandler(),r.push(e)}function unsubscribe(e){for(var t=r.length-1;t>=0;--t)r[t]===e&&r.splice(t,1)}function unsubscribeAll(){uninstallGlobalHandler(),r=[]}function notifyHandlers(e,t){var n=null;if(!t||i.collectWindowErrors){for(var o in r)if(r.hasOwnProperty(o))try{r[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function traceKitWindowOnError(t,r,o,a,u){var l=null;if(f)i.computeStackTrace.augmentStackTraceWithInitialElement(f,r,o,t),processLastException();else if(u&&n.isError(u))l=i.computeStackTrace(u),notifyHandlers(l,!0);else{var h,d={url:r,line:o,column:a},p=void 0,y=t;if("[object String]"==={}.toString.call(t)){var h=t.match(c);h&&(p=h[1],y=h[2])}d.func=s,l={name:p,message:y,url:getLocationHref(),stack:[d]},notifyHandlers(l,!0)}return!!e&&e.apply(this,arguments)}function installGlobalHandler(){t||(e=o.onerror,o.onerror=traceKitWindowOnError,t=!0)}function uninstallGlobalHandler(){t&&(o.onerror=e,t=!1,e=void 0)}function processLastException(){var e=f,t=u;u=null,f=null,l=null,notifyHandlers.apply(null,[e,!1].concat(t))}function report(e,t){var r=a.call(arguments,1);if(f){if(l===e)return;processLastException()}var n=i.computeStackTrace(e);if(f=n,l=e,u=r,setTimeout(function(){l===e&&processLastException()},n.incomplete?2e3:0),!1!==t)throw e}var e,t,r=[],u=null,l=null,f=null;return report.subscribe=subscribe,report.unsubscribe=unsubscribe,report.uninstall=unsubscribeAll,report}(),i.computeStackTrace=function(){function computeStackTraceFromStackProp(e){if(void 0!==e.stack&&e.stack){for(var t,r,n,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=e.stack.split("\n"),f=[],h=(/^(.*) is undefined$/.exec(e.message),0),d=l.length;h<d;++h){if(r=i.exec(l[h])){var p=r[2]&&0===r[2].indexOf("native"),y=r[2]&&0===r[2].indexOf("eval");y&&(t=u.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),n={url:p?null:r[2],func:r[1]||s,args:p?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=a.exec(l[h]))n={url:r[2],func:r[1]||s,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=o.exec(l[h])))continue;var y=r[3]&&r[3].indexOf(" > eval")>-1;y&&(t=c.exec(r[3]))?(r[3]=t[1],r[4]=t[2],r[5]=null):0!==h||r[5]||void 0===e.columnNumber||(f[0].column=e.columnNumber+1),n={url:r[3],func:r[1]||s,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}!n.func&&n.line&&(n.func=s),f.push(n)}return f.length?{name:e.name,message:e.message,url:getLocationHref(),stack:f}:null}}function augmentStackTraceWithInitialElement(e,t,r,n){var i={url:t,line:r};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(e,t){for(var r,n,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],c={},u=!1,l=computeStackTraceByWalkingCallerChain.caller;l&&!u;l=l.caller)if(l!==computeStackTrace&&l!==i.report){if(n={url:null,func:s,line:null,column:null},l.name?n.func=l.name:(r=o.exec(l.toString()))&&(n.func=r[1]),void 0===n.func)try{n.func=r.input.substring(0,r.input.indexOf("{"))}catch(e){}c[""+l]?u=!0:c[""+l]=!0,a.push(n)}t&&a.splice(0,t);var f={name:e.name,message:e.message,url:getLocationHref(),stack:a};return augmentStackTraceWithInitialElement(f,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),f}function computeStackTrace(e,t){var r=null;t=null==t?0:+t;try{if(r=computeStackTraceFromStackProp(e))return r}catch(e){if(i.debug)throw e}try{if(r=computeStackTraceByWalkingCallerChain(e,t+1))return r}catch(e){if(i.debug)throw e}return{name:e.name,message:e.message,url:getLocationHref()}}return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace}(),e.exports=i}).call(t,r(4))},function(e,t,r){"use strict";function indexOf(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function stringify(e,t,r,n){return JSON.stringify(e,serializer(t,n),r)}function serializer(e,t){var r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,indexOf(r,t)).join(".")+"]"}),function(i,o){if(r.length>0){var a=indexOf(r,this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,i):n.push(i),~indexOf(r,o)&&(o=t.call(this,i,o))}else r.push(o);return null==e?o:e.call(this,i,o)}}t=e.exports=stringify,t.getSerialize=serializer},function(e,t,r){e.exports=r(28)},function(e,t,r){"use strict";function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);n.call(this,e)}e.exports=PassThrough;var n=r(220),i=r(45);i.inherits=r(2),i.inherits(PassThrough,n),PassThrough.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}var n=(r(0).Buffer,r(85));e.exports=BufferList,BufferList.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},BufferList.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)r.data.copy(t,i),i+=r.data.length,r=r.next;return t}},function(e,t,r){e.exports=r(121).PassThrough},function(e,t,r){e.exports=r(121).Transform},function(e,t,r){e.exports=r(120)},function(e,t,r){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){e.exports=r(616)},function(e,t,r){var n=r(617);t.operation=function(e){var r=t.timeouts(e);return new n(r)},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this._createTimeout(i,t));return n.sort(function(e,t){return e-t}),n},t._createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)}},function(e,t){function RetryOperation(e){this._timeouts=e,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null}e.exports=RetryOperation,RetryOperation.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t)return!1;this._attempts++;var r=this;return setTimeout(function(){r._fn(r._attempts),r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout))},t),!0},RetryOperation.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb)),this._fn(this._attempts);var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout))},RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=r&&(t=i,r=a)}return t}},function(e,t,r){(function(t){function bytesToWords(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}function wordsToBytes(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}function processBlock(e,t,c){for(var u=0;u<16;u++){var l=c+u,f=t[l];t[l]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}var h,d,p,y,m,g,v,b,_,w;g=h=e[0],v=d=e[1],b=p=e[2],_=y=e[3],w=m=e[4];var E;for(u=0;u<80;u+=1)E=h+t[c+r[u]]|0,E+=u<16?f1(d,p,y)+a[0]:u<32?f2(d,p,y)+a[1]:u<48?f3(d,p,y)+a[2]:u<64?f4(d,p,y)+a[3]:f5(d,p,y)+a[4],E|=0,E=rotl(E,i[u]),E=E+m|0,h=m,m=y,y=rotl(p,10),p=d,d=E,E=g+t[c+n[u]]|0,E+=u<16?f5(v,b,_)+s[0]:u<32?f4(v,b,_)+s[1]:u<48?f3(v,b,_)+s[2]:u<64?f2(v,b,_)+s[3]:f1(v,b,_)+s[4],E|=0,E=rotl(E,o[u]),E=E+w|0,g=w,w=_,_=rotl(b,10),b=v,v=E;E=e[1]+p+_|0,e[1]=e[2]+y+w|0,e[2]=e[3]+m+g|0,e[3]=e[4]+h+v|0,e[4]=e[0]+d+b|0,e[0]=E}function f1(e,t,r){return e^t^r}function f2(e,t,r){return e&t|~e&r}function f3(e,t,r){return(e|~t)^r}function f4(e,t,r){return e&r|t&~r}function f5(e,t,r){return e^(t|~r)}function rotl(e,t){return e<<t|e>>>32-t}function ripemd160(e){var r=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof e&&(e=new t(e,"utf8"));var n=bytesToWords(e),i=8*e.length,o=8*e.length;n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var a=0;a<n.length;a+=16)processBlock(r,n,a);for(a=0;a<5;a++){var s=r[a];r[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var c=wordsToBytes(r);return new t(c)}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],i=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],a=[0,1518500249,1859775393,2400959708,2840853838],s=[1352829926,1548603684,1836072691,2053994217,0];e.exports=ripemd160}).call(t,r(0).Buffer)},function(e,t,r){(function(e,t){!function(e,r){"use strict";function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[i]=a,n(i),i++}function clearImmediate(e){delete o[e]}function run(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{run(t)}finally{clearImmediate(e),a=!1}}}}if(!e.setImmediate){var n,i=1,o={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?function(){n=function(e){t.nextTick(function(){runIfPresent(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&runIfPresent(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){runIfPresent(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){n=function(e){setTimeout(runIfPresent,0,e)}}(),c.setImmediate=setImmediate,c.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(4),r(7))},function(e,t,r){var t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};t.sha=r(621),t.sha1=r(622),t.sha224=r(623),t.sha256=r(222),t.sha384=r(624),t.sha512=r(223)},function(e,t,r){(function(t){function Sha(){this.init(),this._w=a,i.call(this,64,56)}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}var n=r(2),i=r(38),o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);n(Sha,i),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,s=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var u=0;u<80;++u){var l=~~(u/20),f=rotl5(r)+ft(l,n,i,a)+s+t[u]+o[l]|0;s=a,a=i,i=rotl30(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Sha.prototype._hash=function(){var e=new t(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=Sha}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function Sha1(){this.init(),this._w=a,i.call(this,64,56)}function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}var n=r(2),i=r(38),o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);n(Sha1,i),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,s=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=rotl1(t[c-3]^t[c-8]^t[c-14]^t[c-16]);for(var u=0;u<80;++u){var l=~~(u/20),f=rotl5(r)+ft(l,n,i,a)+s+t[u]+o[l]|0;s=a,a=i,i=rotl30(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Sha1.prototype._hash=function(){var e=new t(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=Sha1}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function Sha224(){this.init(),this._w=a,o.call(this,64,56)}var n=r(2),i=r(222),o=r(38),a=new Array(64);n(Sha224,i),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var e=new t(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=Sha224}).call(t,r(0).Buffer)},function(e,t,r){(function(t){function Sha384(){this.init(),this._w=a,o.call(this,128,112)}var n=r(2),i=r(223),o=r(38),a=new Array(160);n(Sha384,i),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function writeInt64BE(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=new t(48);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),e},e.exports=Sha384}).call(t,r(0).Buffer)},function(e,t,r){(function(e,t){function Step(){function next(){if(r=t=0,0!==o.length){var e=o.shift();n=[];try{i=!0;var a=e.apply(next,arguments)}catch(e){next(e)}r>0&&0==t?next.apply(null,n):void 0!==a&&next(void 0,a),i=!1}else if(arguments[0])throw arguments[0]}var t,r,n,i,o=Array.prototype.slice.call(arguments);next.parallel=function(){var e=1+r++;return t++,function(){t--,arguments[0]&&(n[0]=arguments[0]),n[e]=arguments[1],i||0!==t||next.apply(null,n)}},next.group=function(){function check(){0===n&&t(a,o)}var t=next.parallel(),r=0,n=0,o=[],a=void 0;return e.nextTick(check),function(){var e=r++;return n++,function(){n--,arguments[0]&&(a=arguments[0]),o[e]=arguments[1],i||check()}}},next()}Step.fn=function(){var e=Array.prototype.slice.call(arguments);return function(){var t=Array.prototype.slice.call(arguments),r=[function(){this.apply(null,t)}].concat(e);"function"==typeof t[t.length-1]&&r.push(t.pop()),Step.apply(null,r)}},void 0!==t&&"exports"in t&&(t.exports=Step)}).call(t,r(7),r(29)(e))},function(e,t,r){var n=r(629),i=r(630),o=[r(627)];e.exports=n.createStore(i,o)},function(e,t,r){function json2Plugin(){return r(628),{}}e.exports=json2Plugin},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,r=0;r<o;r+=1)a[r]=str(r,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&(n=rep[r],(i=str(n,c))&&a.push(quote(n)+(gap?": ":":")+i));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(i=str(n,c))&&a.push(quote(n)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),void 0!==n?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,r){function createStore(e,t){var r={_seenPlugins:[],_namespacePrefix:"",_namespaceRegexp:null,_legalNamespace:/^[a-zA-Z0-9_\-]+$/,_storage:function(){if(!this.enabled)throw new Error("store.js: No supported storage has been added! Add one (e.g store.addStorage(require('store/storages/cookieStorage')) or use a build with more built-in storages (e.g https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)");return this._storage.resolved},_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var r=e.read(t)===t;return e.remove(t),r}catch(e){return!1}},_assignPluginFnProp:function(e,t){var r=this[t];this[t]=function(){function super_fn(){if(r)return a(arguments,function(e,r){t[r]=e}),r.apply(n,t)}var t=i(arguments,0),n=this,o=[super_fn].concat(t);return e.apply(n,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var r="";try{r=JSON.parse(e)}catch(t){r=e}return void 0!==r?r:t}},n=s(r,f);return a(e,function(e){n.addStorage(e)}),a(t,function(e){n.addPlugin(e)}),n}var n=r(39),i=n.slice,o=n.pluck,a=n.each,s=n.create,c=n.isList,u=n.isFunction,l=n.isObject;e.exports={createStore:createStore};var f={version:"2.0.4",enabled:!1,storage:null,addStorage:function(e){this.enabled||this._testStorage(e)&&(this._storage.resolved=e,this.enabled=!0,this.storage=e.name)},addPlugin:function(e){var t=this;if(c(e))return void a(e,function(e){t.addPlugin(e)});if(!o(this._seenPlugins,function(t){return e===t})){if(this._seenPlugins.push(e),!u(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!l(r))throw new Error("Plugins must return an object of function properties");a(r,function(r,n){if(!u(r))throw new Error("Bad plugin property: "+n+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(r,n)})}},get:function(e,t){var r=this._storage().read(this._namespacePrefix+e);return this._deserialize(r,t)},set:function(e,t){return void 0===t?this.remove(e):(this._storage().write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this._storage().remove(this._namespacePrefix+e)},each:function(e){var t=this;this._storage().each(function(r,n){e(t._deserialize(r),n.replace(t._namespaceRegexp,""))})},clearAll:function(){this._storage().clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},namespace:function(e){if(!this._legalNamespace.test(e))throw new Error("store.js namespaces can only have alhpanumerics + underscores and dashes");var t="__storejs_"+e+"_";return s(this,{_namespacePrefix:t,_namespaceRegexp:t?new RegExp("^"+t):null})},createStore:function(e,t){return createStore(e,t)}}},function(e,t,r){e.exports={localStorage:r(632),"oldFF-globalStorage":r(634),"oldIE-userDataStorage":r(635),cookieStorage:r(631),sessionStorage:r(636),memoryStorage:r(633)}},function(e,t,r){function read(e){if(!e||!_has(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function each(e){for(var t=a.cookie.split(/; ?/g),r=t.length-1;r>=0;r--)if(o(t[r])){var n=t[r].split("="),i=unescape(n[0]),s=unescape(n[1]);e(s,i)}}function write(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove(e){e&&_has(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll(){each(function(e,t){remove(t)})}function _has(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}var n=r(39),i=n.Global,o=n.trim;e.exports={name:"cookieStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var a=i.document},function(e,t,r){function localStorage(){return i.localStorage}function read(e){return localStorage().getItem(e)}function write(e,t){return localStorage().setItem(e,t)}function each(e){for(var t=localStorage().length-1;t>=0;t--){var r=localStorage().key(t);e(read(r),r)}}function remove(e){return localStorage().removeItem(e)}function clearAll(){return localStorage().clear()}var n=r(39),i=n.Global;e.exports={name:"localStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll}},function(e,t){function read(e){return r[e]}function write(e,t){r[e]=t}function each(e){for(var t in r)r.hasOwnProperty(t)&&e(r[t],t)}function remove(e){delete r[e]}function clearAll(e){r={}}e.exports={name:"memoryStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var r={}},function(e,t,r){function read(e){return o[e]}function write(e,t){o[e]=t}function each(e){for(var t=o.length-1;t>=0;t--){var r=o.key(t);e(o[r],r)}}function remove(e){return o.removeItem(e)}function clearAll(){each(function(e,t){delete o[e]})}var n=r(39),i=n.Global;e.exports={name:"oldFF-globalStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var o=i.globalStorage},function(e,t,r){function write(e,t){if(!c){var r=fixKey(e);s(function(e){e.setAttribute(r,t),e.save(o)})}}function read(e){if(!c){var t=fixKey(e),r=null;return s(function(e){r=e.getAttribute(t)}),r}}function each(e){s(function(t){for(var r=t.XMLDocument.documentElement.attributes,n=r.length-1;n>=0;n--){var i=r[n];e(t.getAttribute(i.name),i.name)}})}function remove(e){var t=fixKey(e);s(function(e){e.removeAttribute(t),e.save(o)})}function clearAll(){s(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(o)})}function fixKey(e){return e.replace(/^\d/,"___$&").replace(u,"___")}var n=r(39),i=n.Global;e.exports={name:"oldIE-userDataStorage",write:write,read:read,each:each,remove:remove,clearAll:clearAll};var o="storejs",a=i.document,s=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,r;try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,r=e.createElement("div")}catch(t){r=a.createElement("div"),e=a.body}return function(t){var n=[].slice.call(arguments,0);n.unshift(r),e.appendChild(r),r.addBehavior("#default#userData"),r.load(o),t.apply(this,n),e.removeChild(r)}}(),c=(i.navigator?i.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(e,t,r){function sessionStorage(){return i.sessionStorage}function read(e){return sessionStorage().getItem(e)}function write(e,t){return sessionStorage().setItem(e,t)}function each(e){for(var t=sessionStorage().length-1;t>=0;t--){var r=sessionStorage().key(t);e(read(r),r)}}function remove(e){return sessionStorage().removeItem(e)}function clearAll(){return sessionStorage().clear()}var n=r(39),i=n.Global;e.exports={name:"sessionStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll}},function(e,t,r){function isFunction(e){return"[object Function]"===(n(e)?Object.prototype.toString.call(e):"")}var n=r(123);e.exports=isFunction},function(e,t,r){function RequestBase(e){if(e)return mixin(e)}function mixin(e){for(var t in RequestBase.prototype)e[t]=RequestBase.prototype[t];return e}var n=r(123);e.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(e){return this._parser=e,this},RequestBase.prototype.responseType=function(e){return this._responseType=e,this},RequestBase.prototype.serialize=function(e){return this._serializer=e,this},RequestBase.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},RequestBase.prototype.retry=function(e){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,n){r?t(r):e(n)})})}return this._fullfilledPromise.then(e,t)},RequestBase.prototype.catch=function(e){return this.then(void 0,e)},RequestBase.prototype.use=function(e){return e(this),this},RequestBase.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},RequestBase.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},RequestBase.prototype.get=function(e){return this._header[e.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(e,t){if(n(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},RequestBase.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},RequestBase.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),n(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},RequestBase.prototype.redirects=function(e){return this._maxRedirects=e,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(e){var t=n(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&n(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},RequestBase.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},RequestBase.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},RequestBase.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,r){function ResponseBase(e){if(e)return mixin(e)}function mixin(e){for(var t in ResponseBase.prototype)e[t]=ResponseBase.prototype[t];return e}var n=r(641);e.exports=ResponseBase,ResponseBase.prototype.get=function(e){return this.header[e.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=n.type(t);var r=n.params(t);for(var i in r)this[i]=r[i];this.links={};try{e.link&&(this.links=n.parseLinks(e.link))}catch(e){}},ResponseBase.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t){var r=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];e.exports=function(e,t){return!!(e&&e.code&&~r.indexOf(e.code))||(!!(t&&t.status&&t.status>=500)||(!!(e&&"timeout"in e&&"ECONNABORTED"==e.code)||!!(e&&"crossDomain"in e)))}},function(e,t){t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),n=r.shift(),i=r.shift();return n&&i&&(e[n]=i),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&delete e.cookie,e}},function(e,t,r){var n=r(9),i={};e.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(e,t){var r=this;t=t||{};var i=[].concat(t.before||[]),o=[].concat(t.after||[]),a=t.group||"?",s=t.sort||0;n.assert(-1===i.indexOf(a),"Item cannot come before itself:",a),n.assert(-1===i.indexOf("?"),"Item cannot come before unassociated items"),n.assert(-1===o.indexOf(a),"Item cannot come after itself:",a),n.assert(-1===o.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach(function(e,t){var n={seq:r._items.length,sort:s,before:i,after:o,group:a,node:e};r._items.push(n)});var c=this._sort();return n.assert(!c,"item","?"!==a?"added into group "+a:"","created a dependencies error"),this.nodes},i.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0,r=e.length;t<r;++t){var o=e[t];if(o)for(var a=0,s=o._items.length;a<s;++a){var c=n.shallow(o._items[a]);this._items.push(c)}}for(this._items.sort(i.mergeSort),a=0,s=this._items.length;a<s;++a)this._items[a].seq=a;var u=this._sort();return n.assert(!u,"merge created a dependencies error"),this.nodes},i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},i.Topo.prototype._sort=function(){for(var e={},t={},r={},n=0,i=this._items.length;n<i;++n){var o=this._items[n],a=o.seq,s=o.group;e[s]=e[s]||[],e[s].push(a),t[a]=o.before;for(var c=o.after,u=0,l=c.length;u<l;++u)r[c[u]]=(r[c[u]]||[]).concat(a)}var f=Object.keys(t);for(n=0,i=f.length;n<i;++n){var h=f[n],d=[],p=Object.keys(t[h]);for(u=0,l=p.length;u<l;++u){s=t[h][p[u]],e[s]=e[s]||[];for(var y=0,m=e[s].length;y<m;++y)d.push(e[s][y])}t[h]=d}var g=Object.keys(r);for(n=0,i=g.length;n<i;++n)if(s=g[n],e[s])for(u=0,l=e[s].length;u<l;++u)h=e[s][u],t[h]=t[h].concat(r[s]);var v,b={};for(f=Object.keys(t),n=0,i=f.length;n<i;++n)for(h=f[n],v=t[h],u=0,l=v.length;u<l;++u)b[v[u]]=(b[v[u]]||[]).concat(h);var _={},w=[];for(n=0,i=this._items.length;n<i;++n){var E=n;if(b[n])for(E=null,u=0,l=this._items.length;u<l;++u)if(!0!==_[u]){b[u]||(b[u]=[]);for(var S=b[u].length,k=0,C=0,x=S;C<x;++C)w.indexOf(b[u][C])>=0&&++k;if(k===S){E=u;break}}null!==E&&(E=E.toString(),_[E]=!0,w.push(E))}if(w.length!==this._items.length)return new Error("Invalid dependencies");var P={};for(n=0,i=this._items.length;n<i;++n)o=this._items[n],P[o.seq]=o;var R=[];this._items=w.map(function(e){var t=P[e];return R.push(t.node),t}),this.nodes=R}},function(e,t,r){"use strict";(function(t){var n,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o={hash:1,query:1};e.exports=function(e){e=e||t.location||{},n=n||r(124);var a,s={},c=typeof e;if("blob:"===e.protocol)s=new n(unescape(e.pathname),{});else if("string"===c){s=new n(e,{});for(a in o)delete s[a]}else if("object"===c){for(a in e)a in o||(s[a]=e[a]);void 0===s.slashes&&(s.slashes=i.test(e.href))}return s}}).call(t,r(4))},function(e,t,r){(function(t){function deprecate(e,t){function deprecated(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(config("noDeprecation"))return e;var r=!1;return deprecated}function config(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=deprecate}).call(t,r(4))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){var n=r(647),i=r(648),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t,r){function v1(e,t,r){var n=t&&r||0,o=t||[];e=e||{};var l=void 0!==e.clockseq?e.clockseq:s,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:u+1,d=f-c+(h-u)/1e4;if(d<0&&void 0===e.clockseq&&(l=l+1&16383),(d<0||f>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=h,s=l,f+=122192928e5;var p=(1e4*(268435455&f)+h)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=255&p;var y=f/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=l>>>8|128,o[n++]=255&l;for(var m=e.node||a,g=0;g<6;++g)o[n+g]=m[g];return t||i(o)}var n=r(227),i=r(226),o=n(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),c=0,u=0;e.exports=v1},function(e,t,r){function v4(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}var n=r(227),i=r(226);e.exports=v4},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(481),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},function(e,t,r){(function(r){function WaitUntil(){}e.exports=t=function(e,t,r,n){return void 0===e?new WaitUntil:(new WaitUntil).interval(e).times(t).condition(r).done(n)},WaitUntil.prototype.interval=function(e){var t=this;return t._interval=e,t},WaitUntil.prototype.times=function(e){var t=this;return t._times=e,t},WaitUntil.prototype.condition=function(e,t){var r=this;return r._condition=e,t?r.done(t):r},WaitUntil.prototype.done=function(e){var t=this;if(!t._times)throw new Error("waitUntil.times() not called yet");if(!t._interval)throw new Error("waitUntil.interval() not called yet");if(!t._condition)throw new Error("waitUntil.condition() not called yet");return function runCheck(n,i){n==t._times?e(i):setTimeout(function(){function gotConditionResult(t){t?e(t):runCheck(n+1,t)}t._condition.length?t._condition(gotConditionResult):r.nextTick(function(){gotConditionResult(t._condition())})},t._interval)}(0),t}}).call(t,r(7))},function(e,t,r){(function(){var t;t=r(11),e.exports=function(){function XMLAttribute(e,t,r){if(this.stringify=e.stringify,null==t)throw new Error("Missing attribute name of element "+e.name);if(null==r)throw new Error("Missing attribute value for attribute "+t+" of element "+e.name);this.name=this.stringify.attName(t),this.value=this.stringify.attValue(r)}return XMLAttribute.prototype.clone=function(){return t(XMLAttribute.prototype,this)},XMLAttribute.prototype.toString=function(e,t){return" "+this.name+'="'+this.value+'"'},XMLAttribute}()}).call(this)},function(e,t,r){(function(){var t,n;n=r(658),r(230),r(231),t=r(232),e.exports=function(){function XMLBuilder(e,r){var i,o;if(null==e)throw new Error("Root element needs a name");null==r&&(r={}),this.options=r,this.stringify=new n(r),o=new t(this,"doc"),i=o.element(e),i.isRoot=!0,i.documentObject=this,this.rootObject=i,r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.doctype(r))}return XMLBuilder.prototype.root=function(){return this.rootObject},XMLBuilder.prototype.end=function(e){return this.toString(e)},XMLBuilder.prototype.toString=function(e){var t,r,n,i,o,a;return r=(null!=e?e.pretty:void 0)||!1,null!=(i=null!=e?e.indent:void 0)?i:"  ",null!=(o=null!=e?e.offset:void 0)?o:0,t=null!=(a=null!=e?e.newline:void 0)?a:"\n",n="",null!=this.xmldec&&(n+=this.xmldec.toString(e)),null!=this.doctype&&(n+=this.doctype.toString(e)),n+=this.rootObject.toString(e),r&&n.slice(-t.length)===t&&(n=n.slice(0,-t.length)),n},XMLBuilder}()}).call(this)},function(e,t,r){(function(){r(11),e.exports=function(){function XMLDTDAttList(e,t,r,n,i,o){if(this.stringify=e.stringify,null==t)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!n)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(t),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(n),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return XMLDTDAttList.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<!ATTLIST "+this.elementName+" "+this.attributeName+" "+this.attributeType,"#DEFAULT"!==this.defaultValueType&&(a+=" "+this.defaultValueType),this.defaultValue&&(a+=' "'+this.defaultValue+'"'),a+=">",o&&(a+=n),a},XMLDTDAttList}()}).call(this)},function(e,t,r){(function(){r(11),e.exports=function(){function XMLDTDElement(e,t,r){if(this.stringify=e.stringify,null==t)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(t),this.value=this.stringify.dtdElementValue(r)}return XMLDTDElement.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<!ELEMENT "+this.name+" "+this.value+">",o&&(a+=n),a},XMLDTDElement}()}).call(this)},function(e,t,r){(function(){var t;r(11),t=r(17),e.exports=function(){function XMLDTDEntity(e,r,n,i){if(this.stringify=e.stringify,null==n)throw new Error("Missing entity name");if(null==i)throw new Error("Missing entity value");if(this.pe=!!r,this.name=this.stringify.eleName(n),t(i)){if(!i.pubID&&!i.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(i.pubID&&!i.sysID)throw new Error("System identifier is required for a public external entity");if(null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID)),null!=i.nData&&(this.nData=this.stringify.dtdNData(i.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(i)}return XMLDTDEntity.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<!ENTITY",this.pe&&(a+=" %"),a+=" "+this.name,this.value?a+=' "'+this.value+'"':(this.pubID&&this.sysID?a+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(a+=' SYSTEM "'+this.sysID+'"'),this.nData&&(a+=" NDATA "+this.nData)),a+=">",o&&(a+=n),a},XMLDTDEntity}()}).call(this)},function(e,t,r){(function(){r(11),e.exports=function(){function XMLDTDNotation(e,t,r){if(this.stringify=e.stringify,null==t)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(t),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return XMLDTDNotation.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+="<!NOTATION "+this.name,this.pubID&&this.sysID?a+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.pubID?a+=' PUBLIC "'+this.pubID+'"':this.sysID&&(a+=' SYSTEM "'+this.sysID+'"'),a+=">",o&&(a+=n),a},XMLDTDNotation}()}).call(this)},function(e,t,r){(function(){var t,n,i=function(e,t){function ctor(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(11),t=r(40),e.exports=function(e){function XMLRaw(e,t){if(XMLRaw.__super__.constructor.call(this,e),null==t)throw new Error("Missing raw text");this.value=this.stringify.raw(t)}return i(XMLRaw,e),XMLRaw.prototype.clone=function(){return n(XMLRaw.prototype,this)},XMLRaw.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+=this.value,o&&(a+=n),a},XMLRaw}(t)}).call(this)},function(e,t){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;e.exports=function(){function XMLStringifier(e){this.assertLegalChar=t(this.assertLegalChar,this);var n,i,o;this.allowSurrogateChars=null!=e?e.allowSurrogateChars:void 0,this.noDoubleEncoding=null!=e?e.noDoubleEncoding:void 0,i=(null!=e?e.stringify:void 0)||{};for(n in i)r.call(i,n)&&(o=i[n],this[n]=o)}return XMLStringifier.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},XMLStringifier.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},XMLStringifier.prototype.cdata=function(e){if(e=""+e||"",e.match(/]]>/))throw new Error("Invalid CDATA text: "+e);return this.assertLegalChar(e)},XMLStringifier.prototype.comment=function(e){if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},XMLStringifier.prototype.raw=function(e){return""+e||""},XMLStringifier.prototype.attName=function(e){return""+e||""},XMLStringifier.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},XMLStringifier.prototype.insTarget=function(e){return""+e||""},XMLStringifier.prototype.insValue=function(e){if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},XMLStringifier.prototype.xmlVersion=function(e){if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},XMLStringifier.prototype.xmlEncoding=function(e){if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+e);return e},XMLStringifier.prototype.xmlStandalone=function(e){return e?"yes":"no"},XMLStringifier.prototype.dtdPubID=function(e){return""+e||""},XMLStringifier.prototype.dtdSysID=function(e){return""+e||""},XMLStringifier.prototype.dtdElementValue=function(e){return""+e||""},XMLStringifier.prototype.dtdAttType=function(e){return""+e||""},XMLStringifier.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},XMLStringifier.prototype.dtdEntityValue=function(e){return""+e||""},XMLStringifier.prototype.dtdNData=function(e){return""+e||""},XMLStringifier.prototype.convertAttKey="@",XMLStringifier.prototype.convertPIKey="?",XMLStringifier.prototype.convertTextKey="#text",XMLStringifier.prototype.convertCDataKey="#cdata",XMLStringifier.prototype.convertCommentKey="#comment",XMLStringifier.prototype.convertRawKey="#raw",XMLStringifier.prototype.assertLegalChar=function(e){var t,r;if(t=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,r=e.match(t))throw new Error("Invalid character ("+r+") in string: "+e+" at index "+r.index);return e},XMLStringifier.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},XMLStringifier.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},XMLStringifier}()}).call(this)},function(e,t,r){(function(){var t,n,i=function(e,t){function ctor(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return ctor.prototype=t.prototype,e.prototype=new ctor,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(11),t=r(40),e.exports=function(e){function XMLText(e,t){if(XMLText.__super__.constructor.call(this,e),null==t)throw new Error("Missing element text");this.value=this.stringify.eleText(t)}return i(XMLText,e),XMLText.prototype.clone=function(){return n(XMLText.prototype,this)},XMLText.prototype.toString=function(e,t){var r,n,i,o,a,s,c,u,l;return o=(null!=e?e.pretty:void 0)||!1,r=null!=(s=null!=e?e.indent:void 0)?s:"  ",i=null!=(c=null!=e?e.offset:void 0)?c:0,n=null!=(u=null!=e?e.newline:void 0)?u:"\n",t||(t=0),l=new Array(t+i+1).join(r),a="",o&&(a+=l),a+=this.value,o&&(a+=n),a},XMLText}(t)}).call(this)},function(e,t,r){(function(){var t,n;n=r(574),t=r(652),e.exports.create=function(e,r,i,o){return o=n({},r,i,o),new t(e,o).root()}}).call(this)},function(e,t){e.exports={name:"deep-framework",version:"1.12.23",description:"DEEP Framework",keywords:["digital enterprise end-to-end platform","amazon web services","platform-as-a-service","deep","aws","paas","cloud","computing","microservices","architecture","serverless","abstracted","core","library","framework","Framework"],homepage:"https://github.com/MitocGroup/deep-framework",bugs:{url:"https://github.com/MitocGroup/deep-framework/issues"},license:"MIT",author:{name:"Mitoc Group",email:"hello@mitocgroup.com",url:"http://www.mitocgroup.com"},contributors:[{name:"AlexanderC",email:"alexanderc@mitocgroup.com"},{name:"Marcel Goria",email:"mgoria@mitocgroup.com"},{name:"Veaceslav Cotruta",email:"vcotruta@mitocgroup.com"},{name:"Max Ponomariov",email:"mponomariov@mitocgroup.com"},{name:"Alexandru Scripnic",email:"ascripnic@mitocgroup.com"},{name:"Stefan Hariton",email:"shariton@mitocgroup.com"},{name:"Dragos Palade",email:"dpalade@mitocgroup.com"}],main:"lib.compiled/bootstrap.js",repository:{type:"git",url:"https://github.com/MitocGroup/deep-framework.git"},scripts:{test:"bash node-bin/test.sh",compile:"bash node-bin/compile.sh",prepublish:"npm run compile && npm run browser-build","browser-build":"bash node-bin/browser_build.sh",pretest:"npm link deep-log deep-core deep-asset deep-cache deep-db deep-validation deep-di deep-event deep-fs deep-kernel deep-resource deep-security deep-notification babel-preset-es2015","prepare-production":"bash hooks/prepare_production.sh","final-prepare-production":"bash hooks/final_prepare_production.sh"},dependencies:{"deep-asset":"^1.x.x","deep-cache":"^1.x.x","deep-core":"^1.x.x","deep-db":"^1.x.x","deep-di":"^1.x.x","deep-event":"^1.x.x","deep-fs":"^1.x.x","deep-kernel":"^1.x.x","deep-log":"^1.x.x","deep-notification":"^1.x.x","deep-resource":"^1.x.x","deep-search":"^0.x.x","deep-security":"^1.x.x","deep-validation":"^1.x.x",inherits:"^2.0.x"},devDependencies:{chai:"^3.5.x",sinon:"^1.17.x","sinon-chai":"^2.8.x"},engines:{node:">=0.12",npm:">=2.10"},preferGlobal:!1,analyze:!0,jspm:{main:"browser/framework.js"}}},function(e,t){e.exports=null},function(e,t){},function(e,t){},function(e,t){}]);